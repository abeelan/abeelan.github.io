<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Android - é—ªé€€æ—¥å¿—æå– | ABEE</title><meta name=keywords content="android"><meta name=description content="å®‰å“æ‰‹æœºæµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°åº”ç”¨é—ªé€€ï¼Œé€šå¸¸éœ€è¦åœ¨ BUG ä¿¡æ¯ä¸Šé™„åŠ å´©æºƒæ—¥å¿—ï¼Œä¾¿äºå¼€å‘åŒå­¦å¿«é€Ÿå®šä½é—®é¢˜ã€‚"><meta name=author content="ABEE"><link rel=canonical href=https://abeelan.github.io/posts/tech/andorid/android-%E9%97%AA%E9%80%80%E6%97%A5%E5%BF%97%E6%8F%90%E5%8F%96%E7%9A%84%E5%89%AF%E6%9C%AC/><link crossorigin=anonymous href=/assets/css/stylesheet.fbe782675a7c7c9c739a48204d6d2a4da78a00e11ba93326b39891e3501b1740.css integrity="sha256-++eCZ1p8fJxzmkggTW0qTaeKAOEbqTMms5iR41AbF0A=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://abeelan.github.io/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://abeelan.github.io/img/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://abeelan.github.io/img/favicon.ico><link rel=apple-touch-icon href=https://abeelan.github.io/img/favicon.ico><link rel=mask-icon href=https://abeelan.github.io/img/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script src=https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js></script><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><meta property="og:title" content="Android - é—ªé€€æ—¥å¿—æå–"><meta property="og:description" content="å®‰å“æ‰‹æœºæµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°åº”ç”¨é—ªé€€ï¼Œé€šå¸¸éœ€è¦åœ¨ BUG ä¿¡æ¯ä¸Šé™„åŠ å´©æºƒæ—¥å¿—ï¼Œä¾¿äºå¼€å‘åŒå­¦å¿«é€Ÿå®šä½é—®é¢˜ã€‚"><meta property="og:type" content="article"><meta property="og:url" content="https://abeelan.github.io/posts/tech/andorid/android-%E9%97%AA%E9%80%80%E6%97%A5%E5%BF%97%E6%8F%90%E5%8F%96%E7%9A%84%E5%89%AF%E6%9C%AC/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-01-21T15:35:52+08:00"><meta property="article:modified_time" content="2021-01-21T15:35:52+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Android - é—ªé€€æ—¥å¿—æå–"><meta name=twitter:description content="å®‰å“æ‰‹æœºæµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°åº”ç”¨é—ªé€€ï¼Œé€šå¸¸éœ€è¦åœ¨ BUG ä¿¡æ¯ä¸Šé™„åŠ å´©æºƒæ—¥å¿—ï¼Œä¾¿äºå¼€å‘åŒå­¦å¿«é€Ÿå®šä½é—®é¢˜ã€‚"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ğŸ“š åˆ†ç±»","item":"https://abeelan.github.io/posts/"},{"@type":"ListItem","position":2,"name":"ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯","item":"https://abeelan.github.io/posts/tech/"},{"@type":"ListItem","position":3,"name":"Android - é—ªé€€æ—¥å¿—æå–","item":"https://abeelan.github.io/posts/tech/andorid/android-%E9%97%AA%E9%80%80%E6%97%A5%E5%BF%97%E6%8F%90%E5%8F%96%E7%9A%84%E5%89%AF%E6%9C%AC/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Android - é—ªé€€æ—¥å¿—æå–","name":"Android - é—ªé€€æ—¥å¿—æå–","description":"å®‰å“æ‰‹æœºæµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°åº”ç”¨é—ªé€€ï¼Œé€šå¸¸éœ€è¦åœ¨ BUG ä¿¡æ¯ä¸Šé™„åŠ å´©æºƒæ—¥å¿—ï¼Œä¾¿äºå¼€å‘åŒå­¦å¿«é€Ÿå®šä½é—®é¢˜ã€‚\n","keywords":["android"],"articleBody":"å®‰å“æ‰‹æœºæµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°åº”ç”¨é—ªé€€ï¼Œé€šå¸¸éœ€è¦åœ¨ BUG ä¿¡æ¯ä¸Šé™„åŠ å´©æºƒæ—¥å¿—ï¼Œä¾¿äºå¼€å‘åŒå­¦å¿«é€Ÿå®šä½é—®é¢˜ã€‚\nå­˜å‚¨æ—¥å¿—å‘½ä»¤ä¸ºï¼š adb logcat -v time  crash_log.log\nè¿™ä¸ªæ–¹æ³•æŠ“åˆ°çš„æ—¥å¿—è¿‡å¤šï¼Œå¾ˆå¤šéƒ½æ˜¯æ— ç”¨çš„ç³»ç»Ÿæ—¥å¿—æˆ–çº§åˆ«è¿‡ä½çš„æ‰“å°æ—¥å¿—ï¼Œæ‰€ä»¥éœ€è¦åšä¸€æ¬¡è¿‡æ»¤ï¼Œlogcat å¯ä»¥æ ¹æ®æ—¥å¿—ç­‰çº§è¿‡æ»¤ã€‚å°†æ—¥å¿—çº§åˆ«è®¾ç½®ä¸º ERRORï¼Œå°±å¯ä»¥è¿‡æ»¤æ‰ä¸€å¤§éƒ¨åˆ†æ— ç”¨ä¿¡æ¯ã€‚\nå‘½ä»¤ä¿®æ”¹ä¸ºï¼š adb logcat -v time *:E  crash_log.log\n å¤‡æ³¨ï¼š\n æ˜Ÿå· * ä»£è¡¨æ—¥å¿—ä»»æ„ tag éƒ½åªè¾“å‡º Error çº§åˆ«ä»¥ä¸Šæ—¥å¿—ï¼› MacOS å‘½ä»¤è¡Œç›´æ¥ä½¿ç”¨ *:E ä¼šæŠ¥é”™ no matches found: *:Eï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ åŒå¼•å·æˆ–è½¬ä¹‰ç¬¦æ¥è§£å†³ï¼š\"*:E\" æˆ– \\*:E   è·å–åˆ°æ—¥å¿—åï¼Œä¼šå‘ç°ï¼Œè¿˜æ˜¯å­˜åœ¨ä¸€éƒ¨åˆ†ç³»ç»Ÿçš„é”™è¯¯æ—¥å¿—ï¼Œå¦‚ä½•å†æ¬¡è¿‡æ»¤å‘¢ï¼Ÿ\nç›®æ ‡ï¼šä»…éœ€è¦æŸä¸ªé—ªé€€çš„å…¨éƒ¨å †æ ˆä¿¡æ¯\næ€è·¯ï¼š\n é€šè¿‡å‘½ä»¤è¡Œåšç¬¬ä¸€æ¬¡è¿‡æ»¤ï¼Œè·å–åˆ° ERROR çº§åˆ«çš„åŸå§‹æ—¥å¿—ï¼› é€è¡Œè¯»å–æ—¥å¿—ï¼Œå¦‚æœæŸ¥æ‰¾åˆ°å…³é”®å­— FATAL EXCEPTION: main åˆ™ä»£è¡¨å‡ºç°ä¸€æ¬¡é—ªé€€ï¼Œè®°å½•è¯¥è¿›ç¨‹ PID å­˜å‚¨åˆ°åˆ—è¡¨å†…ï¼› åˆ¤æ–­å½“ PID åˆ—è¡¨éç©ºæ—¶ï¼Œåˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼Œå°†è¯¥ PID çš„æ‰€æœ‰æ—¥å¿—å†™å…¥åˆ°æ–°æ–‡ä»¶å†…ã€‚  è¿™æ ·å°±èƒ½æ»¡è¶³éœ€æ±‚äº†ï¼Œæ¥ä¸‹æ¥ä»£ç å®ç°ï¼ŒéªŒè¯æ•ˆæœã€‚\nè·å–æ—¥å¿— äººå·¥æ“ä½œæ­¥éª¤ä¸ºï¼šå‘½ä»¤è¡Œè¾“å…¥å‘½ä»¤ï¼Œè·å–æ—¥å¿—åï¼ŒCtrl+C å…³é—­æ—¥å¿—\nä»£ç ä¹Ÿä¸€æ ·ï¼Œå®ç°æ–¹æ³•ï¼š\n æ¨¡æ‹Ÿå‘½ä»¤è¡Œï¼šsubprocessæ¨¡å— ç­‰å¾…æ—¥å¿—è·å–ï¼šå®‰å“æ—¥å¿—ç¼“å†²åŒºä¸€èˆ¬ä¸º64KBï¼Œå¯ä»¥é€šè¿‡ time.sleep() æš‚åœç¨‹åº 5 ç§’ï¼ˆå¯ä»¥è‡ªå®šä¹‰æ—¶é—´ï¼Œæˆ‘æ˜¯æ„Ÿè§‰å¤Ÿç”¨äº†ï¼‰ï¼› Ctrl+Cï¼šé€šè¿‡å‘½ä»¤æ€æ­» adb logcat è¿›ç¨‹  def log_cat(file_path, device=\"\"): \"\"\"è·å– adb æ—¥å¿— \"\"\" command = rf\"adb {device} logcat -v time \\*:E  {file_path}\" subprocess.Popen(command, shell=True) time.sleep(5) try: if platform.system() == \"Darwin\" or \"Linux\": subprocess.call( \"kill -9 $(ps -ef | grep 'adb logcat' | sed -n 1p | awk '{print $2}')\", shell=True ) else: # Windows ä¸çŸ¥é“èƒ½å¦ç”Ÿæ•ˆï¼Œç½‘ä¸ŠæŸ¥çš„è¿™ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰æœºå™¨æµ‹è¯• subprocess.Popen(\"taskkill /F /IM adb.exe\") except Exception as e: logging.warning(f\"Killã€Œadb logcatã€called Exceptionï¼Œmessageï¼š{e}\") ç»Ÿè®¡å‡ºç°é—ªé€€æ¬¡æ•° å…³é”®å­—ï¼šé—ªé€€æ—¥å¿—æ¯æ¬¡å‡ºç°éƒ½ä¼šå¸¦ä¸€è¡Œå…³é”®å­— FATAL EXCEPTION: mainï¼ŒFATAL æ˜¯æ—¥å¿—çº§åˆ«ï¼Œæ¯” ERROR æ›´é«˜ä¸€çº§ï¼Œç±»ä¼¼ Python ä¸­çš„ criticalï¼Œæ— æ³•ä½¿ç”¨çš„çŠ¶æ€ï¼Œæ‰€ä»¥å½“é‡åˆ°è¿™ä¸€è¡Œæ—¥å¿—æ—¶ï¼Œæˆ‘å°±è®¤ä¸ºå‡ºç°é—ªé€€äº†ï¼›\nç¬¬äºŒæ­¥çš„å®ç°æ€è·¯ä¸ºï¼šé€è¡Œè¯»å–ä¿å­˜çš„æ—¥å¿—æ–‡ä»¶ï¼Œå‡ºç°å…³é”®å­—å°±è·å–å½“å‰è¿›ç¨‹å·ï¼Œå¹¶æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œæœ€åç»Ÿè®¡åˆ—è¡¨é•¿åº¦å³å¯ã€‚\ndef get_crash_pid_list(file_path): \"\"\"è¯»å–æ—¥å¿—ï¼Œè·å–å‡ºç°å…³é”®å­—ï¼ˆcrashï¼‰çš„æ¬¡æ•° \"\"\" keyword = \"FATAL EXCEPTION: main\" crash_pid = [] with open(file_path, encoding=\"utf-8\") as f: for line in f.readlines(): if keyword in line: # æå–å‡ºæ—¥å¿—è¡Œå†…æ‰€æœ‰æ•°å­—ï¼ˆæ—¥æœŸ + PIDï¼‰ data = re.findall(r\"\\d+\", line) pid = data[-1] crash_pid.append(pid) logging.info(f\"Crash PID list  {crash_pid}\") return crash_pid è½¬å‚¨é—ªé€€æ—¥å¿— è¿™é‡Œéœ€è¦è¿›è¡Œä¸€æ¬¡åˆ¤æ–­ï¼š\n å¦‚æœä¸å­˜åœ¨é—ªé€€ï¼Œç›´æ¥ç»™å‡ºæç¤ºï¼Œé€€å‡ºç¨‹åº å¦‚æœå­˜åœ¨ï¼Œåˆ›å»ºæ–°çš„æ—¥å¿—æ–‡ä»¶ï¼Œå†™å…¥è®¾å¤‡ä¿¡æ¯ï¼Œæ ¹æ®è¿›ç¨‹å·æå–æ—¥å¿—  è·å–è®¾å¤‡ä¿¡æ¯ æ—¥å¿—æäº¤åï¼Œè¢«å¼€å‘åŒå­¦é—®è¿‡å‡ æ¬¡æœºå‹å’Œç³»ç»Ÿï¼Œç´¢æ€§å°±ç›´æ¥åŠ åˆ°æ—¥å¿—é‡Œé¢å§\ndef get_device_info(device=\"\"): \"\"\"è·å–è®¾å¤‡ä¿¡æ¯ \"\"\" model = os.popen(f\"adb {device} shell getprop ro.product.model\").read().strip() manufacturer = os.popen(f\"adb {device} shell getprop ro.product.manufacturer\").read().strip() version = os.popen(f\"adb {device} shell getprop ro.build.version.release\").read().strip() sdk_version = os.popen(f\"adb {device} shell getprop ro.build.version.sdk\").read().strip() output = f\"DeviceInfo: {manufacturer} {model} | Android {version} (API {sdk_version})\" return output è½¬å­˜æ—¥å¿— é€è¡Œè¯»å–ï¼ŒåŒ¹é…è¿›ç¨‹å·ï¼Œå†™å…¥åˆ°æ–°çš„æ—¥å¿—æ–‡ä»¶å†…ï¼Œå¦‚æœä¸å¡«ï¼Œåˆ™èµ°é»˜è®¤è·¯å¾„\ndef dump_crash_log(file_path=\"\", dump_path=\"\", device=\"\"): \"\"\"è½¬å‚¨å¸¦æœ‰ crash pid çš„æ—¥å¿— \"\"\" # è®¾ç½®é»˜è®¤è½¬å‚¨è·¯å¾„ if not file_path: file_path = \"logcat.log\" if not dump_path: dump_path = \"logcat_crash.log\" if device: device = f\"-s {device}\" log_cat(file_path, device) device_info = get_device_info(device) pid_list = get_crash_pid_list(file_path) if pid_list: # åˆ›å»ºè½¬å‚¨æ—¥å¿—å¹¶å†™å…¥ with open(dump_path, \"w+\", encoding=\"utf-8\") as f: f.write(f\"{'-' * 50}\\n\") f.write(f\"{device_info}\\nå…±å‡ºç° {len(pid_list)} æ¬¡é—ªé€€\\n\") f.write(f\"{'-' * 50}\\n\") # è¯»å–åŸå§‹æ—¥å¿— with open(file_path, encoding=\"utf-8\") as f1: for line in f1.readlines(): for pid in pid_list: if pid in line: if \"FATAL\" in line: f.write(\"\\n# begging of crash --- \\n\") f.write(line) logging.info(f\"Crash log path: {dump_path}\") else: logging.info(f\"Not found 'FATAL EXCEPTION: main' in {file_path}\") if __name__ == '__main__': dump_crash_log()  æœ€åæ‰§è¡Œæ•ˆæœå¦‚ä¸‹ï¼š\næ§åˆ¶å°è¾“å‡º\n[ I 201231 13:57:05 dump_crash_log:44 ] PID LIST  ['26997', '28084', '6964'] [ I 201231 13:57:05 dump_crash_log:88 ] Crash log path: logcat_crash.log ç›®å½•ç»“æ„\n dump_crash_log.py logcat.log logcat_crash.log  æ—¥å¿—å†…å®¹\n-------------------------------------------------- DeviceInfo: HUAWEI ELE-AL00 | Android 10 (API 29) å…±å‡ºç° 3 æ¬¡é—ªé€€ -------------------------------------------------- # begging of crash ---  11-02 17:39:58.802 E/AndroidRuntime(26997): FATAL EXCEPTION: main 11-02 17:39:58.802 E/AndroidRuntime(26997): Process: com.esbook.reader, PID: 26997 11-02 17:39:58.802 E/AndroidRuntime(26997): java.lang.IllegalArgumentException: è¿™æ˜¯å¼‚å¸¸ä¿¡æ¯ 11-02 17:39:58.802 E/AndroidRuntime(26997): at è¿™æ˜¯å †æ ˆä¿¡æ¯ 11-02 17:39:58.802 E/AndroidRuntime(26997): at è¿™æ˜¯å †æ ˆä¿¡æ¯ ... # begging of crash ---  11-02 17:55:39.306 E/AndroidRuntime(28084): FATAL EXCEPTION: main 11-02 17:55:39.306 E/AndroidRuntime(28084): Process: com.esbook.reader, PID: 28084 11-02 17:55:39.306 E/AndroidRuntime(28084): java.lang.NullPointerException: è¿™æ˜¯å¼‚å¸¸ä¿¡æ¯ 11-02 17:55:39.306 E/AndroidRuntime(28084): at è¿™æ˜¯å †æ ˆä¿¡æ¯ 11-02 17:55:39.306 E/AndroidRuntime(28084): at è¿™æ˜¯å †æ ˆä¿¡æ¯ ... # begging of crash ---  11-02 18:15:37.625 E/AndroidRuntime( 6964): FATAL EXCEPTION: main 11-02 18:15:37.625 E/AndroidRuntime( 6964): Process: com.esbook.reader, PID: 6964 11-02 18:15:37.625 E/AndroidRuntime( 6964): at è¿™æ˜¯å †æ ˆä¿¡æ¯ 11-02 18:15:37.625 E/AndroidRuntime( 6964): at è¿™æ˜¯å †æ ˆä¿¡æ¯ ...  å¤§åŠŸå‘Šæˆï¼Œè¿™æ ·æå–æ—¥å¿—å°±ä¼šæ–¹ä¾¿è®¸å¤šå•¦ï¼ğŸ˜„\n","wordCount":"1582","inLanguage":"en","datePublished":"2021-01-21T15:35:52+08:00","dateModified":"2021-01-21T15:35:52+08:00","author":[{"@type":"Person","name":"ABEE"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://abeelan.github.io/posts/tech/andorid/android-%E9%97%AA%E9%80%80%E6%97%A5%E5%BF%97%E6%8F%90%E5%8F%96%E7%9A%84%E5%89%AF%E6%9C%AC/"},"publisher":{"@type":"Organization","name":"ABEE","logo":{"@type":"ImageObject","url":"https://abeelan.github.io/img/favicon.ico"}}}</script></head><body id=top><script>(function(){let a,b=new RegExp("(^| )change-themes=([^;]*)(;|$)");(a=document.cookie.match(b))||((new Date).getHours()>=19||(new Date).getHours()<6?(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark')):(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')))})(),localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://abeelan.github.io/ accesskey=h title="ABEE (Alt + H)"><img src=https://abeelan.github.io/img/avatar.gif alt=logo aria-label=logo height=35>ABEE</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://abeelan.github.io/ title="ğŸ  ä¸»é¡µ"><span>ğŸ  ä¸»é¡µ</span></a></li><li><a href=https://abeelan.github.io/tags title="ğŸ§© æ ‡ç­¾"><span>ğŸ§© æ ‡ç­¾</span></a></li><li><a href=https://abeelan.github.io/archives/ title="â±ï¸ æ—¶é—´è½´"><span>â±ï¸ æ—¶é—´è½´</span></a></li><li><a href=https://abeelan.github.io/about title="ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº"><span>ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº</span></a></li><li><a href=https://abeelan.github.io/search title="ğŸ” æœç´¢ (Alt + /)" accesskey=/><span>ğŸ” æœç´¢</span></a></li></ul></nav></header><main class="main page"><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}body{counter-reset:h2}h2{counter-reset:h3}h3{counter-reset:h4}h4{counter-reset:h5}article[autonumbering] h2:before{counter-increment:h2;content:counter(h2)". "}article[autonumbering] h3:before{counter-increment:h3;content:counter(h2)"." counter(h3)" "}article[autonumbering] h4:before{counter-increment:h4;content:counter(h2)"." counter(h3)"." counter(h4)" "}article[autonumbering] .toc ul{counter-reset:item}article[autonumbering] .toc li a:before{content:counters(item,".")" ";counter-increment:item}</style><article class=post autonumbering><div id=single-content><header class=post-header><div class=breadcrumbs><a href=https://abeelan.github.io/>ğŸ  ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://abeelan.github.io/posts/>ğŸ“š åˆ†ç±»</a>&nbsp;Â»&nbsp;<a href=https://abeelan.github.io/posts/tech/>ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯</a></div><h1 class=post-title>Android - é—ªé€€æ—¥å¿—æå–</h1><div class=post-meta><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}.parent-post-meta{display:flex;flex-wrap:wrap;opacity:.8}</style><span class=parent-post-meta><span id=post_meta_style_1><span class="fa fa-calendar-check-o"></span><span>2021-01-21
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_3><span class="fa fa-file-word-o"></span><span>1582å­—
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_4><span class="fa fa-clock-o"></span><span>4åˆ†é’Ÿ
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_5><span class="fa fa-user-o"></span><span>ABEE
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_6><span class="fa fa-tags" style=opacity:.8></span><span><span class=post-tags-meta><a href=https://abeelan.github.io/tags/android/ style=color:var(--secondary)!important>android</a></span></span></span></span>
<span style=opacity:.8><span id=post_meta_style_7>&nbsp;&nbsp;
<span class="fa fa-eye"></span><span><span id=busuanzi_container_page_pv><span id=busuanzi_value_page_pv></span></span>&nbsp;&nbsp;</span></span>
<span id=post_meta_style_8><span class="fa fa-commenting-o"></span><span><script src=https://cdn.staticfile.org/twikoo/1.5.8/twikoo.all.min.js></script><script>let url=document.documentURI,dnsUrl="https://abeelan.github.io/",urlSplit=url.split(dnsUrl),finalUrl=urlSplit[1];finalUrl[0]!=='/'&&(finalUrl='/'+finalUrl),twikoo.getCommentsCount({envId:null,region:"ap-beijing",urls:[finalUrl],includeReply:!1}).then(function(a){let b=a[0].count;const c=document.getElementById("comment_count");c.innerText=b}).catch(function(a){console.error(a)})</script><span id=comment_count></span></span></span></span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><ul><li><a href=#%e8%8e%b7%e5%8f%96%e6%97%a5%e5%bf%97 aria-label=è·å–æ—¥å¿—>è·å–æ—¥å¿—</a></li><li><a href=#%e7%bb%9f%e8%ae%a1%e5%87%ba%e7%8e%b0%e9%97%aa%e9%80%80%e6%ac%a1%e6%95%b0 aria-label=ç»Ÿè®¡å‡ºç°é—ªé€€æ¬¡æ•°>ç»Ÿè®¡å‡ºç°é—ªé€€æ¬¡æ•°</a></li><li><a href=#%e8%bd%ac%e5%82%a8%e9%97%aa%e9%80%80%e6%97%a5%e5%bf%97 aria-label=è½¬å‚¨é—ªé€€æ—¥å¿—>è½¬å‚¨é—ªé€€æ—¥å¿—</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener('DOMContentLoaded',function(b){checkTocPosition(),elements=document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]'),activeElement=elements[0];const a=encodeURI(activeElement.getAttribute('id')).toLowerCase();document.querySelector(`.inner ul li a[href="#${a}"]`).classList.add('active')},!1),window.addEventListener('resize',function(a){checkTocPosition()},!1),window.addEventListener('scroll',()=>{activeElement=Array.from(elements).find(a=>{if(getOffsetTop(a)-window.pageYOffset>0&&getOffsetTop(a)-window.pageYOffset<window.innerHeight/2)return a})||activeElement,elements.forEach(a=>{const b=encodeURI(a.getAttribute('id')).toLowerCase();a===activeElement?document.querySelector(`.inner ul li a[href="#${b}"]`).classList.add('active'):document.querySelector(`.inner ul li a[href="#${b}"]`).classList.remove('active')})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue('--gap'),10);function checkTocPosition(){const a=document.body.scrollWidth;a-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(a){if(!a.getClientRects().length)return 0;let b=a.getBoundingClientRect(),c=a.ownerDocument.defaultView;return b.top+c.pageYOffset}</script><div class=post-content><p>å®‰å“æ‰‹æœºæµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°åº”ç”¨é—ªé€€ï¼Œé€šå¸¸éœ€è¦åœ¨ <code>BUG</code> ä¿¡æ¯ä¸Šé™„åŠ å´©æºƒæ—¥å¿—ï¼Œä¾¿äºå¼€å‘åŒå­¦å¿«é€Ÿå®šä½é—®é¢˜ã€‚</p><p>å­˜å‚¨æ—¥å¿—å‘½ä»¤ä¸ºï¼š
<code>adb logcat -v time > crash_log.log</code></p><p>è¿™ä¸ªæ–¹æ³•æŠ“åˆ°çš„æ—¥å¿—è¿‡å¤šï¼Œå¾ˆå¤šéƒ½æ˜¯æ— ç”¨çš„ç³»ç»Ÿæ—¥å¿—æˆ–çº§åˆ«è¿‡ä½çš„æ‰“å°æ—¥å¿—ï¼Œæ‰€ä»¥éœ€è¦åšä¸€æ¬¡è¿‡æ»¤ï¼Œ<code>logcat</code> å¯ä»¥æ ¹æ®æ—¥å¿—ç­‰çº§è¿‡æ»¤ã€‚å°†æ—¥å¿—çº§åˆ«è®¾ç½®ä¸º <code>ERROR</code>ï¼Œå°±å¯ä»¥è¿‡æ»¤æ‰ä¸€å¤§éƒ¨åˆ†æ— ç”¨ä¿¡æ¯ã€‚</p><p>å‘½ä»¤ä¿®æ”¹ä¸ºï¼š
<code>adb logcat -v time *:E > crash_log.log</code></p><blockquote><p><strong>å¤‡æ³¨ï¼š</strong></p><ul><li>æ˜Ÿå· <code>*</code> ä»£è¡¨æ—¥å¿—ä»»æ„ <code>tag</code> éƒ½åªè¾“å‡º <code>Error</code> çº§åˆ«ä»¥ä¸Šæ—¥å¿—ï¼›</li><li>MacOS å‘½ä»¤è¡Œç›´æ¥ä½¿ç”¨ <code>*:E</code> ä¼šæŠ¥é”™ <code>no matches found: *:E</code>ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ åŒå¼•å·æˆ–è½¬ä¹‰ç¬¦æ¥è§£å†³ï¼š<code>"*:E"</code> æˆ– <code>\*:E</code></li></ul></blockquote><p>è·å–åˆ°æ—¥å¿—åï¼Œä¼šå‘ç°ï¼Œè¿˜æ˜¯å­˜åœ¨ä¸€éƒ¨åˆ†ç³»ç»Ÿçš„é”™è¯¯æ—¥å¿—ï¼Œå¦‚ä½•å†æ¬¡è¿‡æ»¤å‘¢ï¼Ÿ</p><p>ç›®æ ‡ï¼šä»…éœ€è¦æŸä¸ªé—ªé€€çš„å…¨éƒ¨å †æ ˆä¿¡æ¯</p><p>æ€è·¯ï¼š</p><ol><li>é€šè¿‡å‘½ä»¤è¡Œåšç¬¬ä¸€æ¬¡è¿‡æ»¤ï¼Œè·å–åˆ° <code>ERROR</code> çº§åˆ«çš„åŸå§‹æ—¥å¿—ï¼›</li><li>é€è¡Œè¯»å–æ—¥å¿—ï¼Œå¦‚æœæŸ¥æ‰¾åˆ°å…³é”®å­— <code>FATAL EXCEPTION: main</code> åˆ™ä»£è¡¨å‡ºç°ä¸€æ¬¡é—ªé€€ï¼Œè®°å½•è¯¥è¿›ç¨‹ <code>PID</code> å­˜å‚¨åˆ°åˆ—è¡¨å†…ï¼›</li><li>åˆ¤æ–­å½“ <code>PID</code> åˆ—è¡¨éç©ºæ—¶ï¼Œåˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼Œå°†è¯¥ <code>PID</code> çš„æ‰€æœ‰æ—¥å¿—å†™å…¥åˆ°æ–°æ–‡ä»¶å†…ã€‚</li></ol><p>è¿™æ ·å°±èƒ½æ»¡è¶³éœ€æ±‚äº†ï¼Œæ¥ä¸‹æ¥ä»£ç å®ç°ï¼ŒéªŒè¯æ•ˆæœã€‚</p><h2 id=è·å–æ—¥å¿—>è·å–æ—¥å¿—<a hidden class=anchor aria-hidden=true href=#è·å–æ—¥å¿—>#</a></h2><p>äººå·¥æ“ä½œæ­¥éª¤ä¸ºï¼šå‘½ä»¤è¡Œè¾“å…¥å‘½ä»¤ï¼Œè·å–æ—¥å¿—åï¼Œ<code>Ctrl+C</code> å…³é—­æ—¥å¿—</p><p>ä»£ç ä¹Ÿä¸€æ ·ï¼Œå®ç°æ–¹æ³•ï¼š</p><ul><li>æ¨¡æ‹Ÿå‘½ä»¤è¡Œï¼š<code>subprocess</code>æ¨¡å—</li><li>ç­‰å¾…æ—¥å¿—è·å–ï¼šå®‰å“æ—¥å¿—ç¼“å†²åŒºä¸€èˆ¬ä¸º<code>64KB</code>ï¼Œå¯ä»¥é€šè¿‡ <code>time.sleep()</code> æš‚åœç¨‹åº <code>5</code> ç§’ï¼ˆå¯ä»¥è‡ªå®šä¹‰æ—¶é—´ï¼Œæˆ‘æ˜¯æ„Ÿè§‰å¤Ÿç”¨äº†ï¼‰ï¼›</li><li><code>Ctrl+C</code>ï¼šé€šè¿‡å‘½ä»¤æ€æ­» <code>adb logcat</code> è¿›ç¨‹</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>def log_cat(file_path, device=&#34;&#34;):
    &#34;&#34;&#34;è·å– adb æ—¥å¿—
    &#34;&#34;&#34;
    command = rf&#34;adb {device} logcat -v time \*:E &gt; {file_path}&#34;
    subprocess.Popen(command, shell=True)
    time.sleep(5)
    try:
        if platform.system() == &#34;Darwin&#34; or &#34;Linux&#34;:
            subprocess.call(
                &#34;kill -9 $(ps -ef | grep &#39;adb logcat&#39; | sed -n 1p | awk &#39;{print $2}&#39;)&#34;,
                shell=True
            )
        else:
            # Windows ä¸çŸ¥é“èƒ½å¦ç”Ÿæ•ˆï¼Œç½‘ä¸ŠæŸ¥çš„è¿™ä¸ªæ–¹æ³•ï¼Œæ²¡æœ‰æœºå™¨æµ‹è¯•
            subprocess.Popen(&#34;taskkill /F /IM adb.exe&#34;)
    except Exception as e:
        logging.warning(f&#34;Killã€Œadb logcatã€called Exceptionï¼Œmessageï¼š{e}&#34;)
</code></pre></div><h2 id=ç»Ÿè®¡å‡ºç°é—ªé€€æ¬¡æ•°>ç»Ÿè®¡å‡ºç°é—ªé€€æ¬¡æ•°<a hidden class=anchor aria-hidden=true href=#ç»Ÿè®¡å‡ºç°é—ªé€€æ¬¡æ•°>#</a></h2><p>å…³é”®å­—ï¼šé—ªé€€æ—¥å¿—æ¯æ¬¡å‡ºç°éƒ½ä¼šå¸¦ä¸€è¡Œå…³é”®å­— <code>FATAL EXCEPTION: main</code>ï¼Œ<code>FATAL</code> æ˜¯æ—¥å¿—çº§åˆ«ï¼Œæ¯” <code>ERROR</code> æ›´é«˜ä¸€çº§ï¼Œç±»ä¼¼ Python ä¸­çš„ <code>critical</code>ï¼Œæ— æ³•ä½¿ç”¨çš„çŠ¶æ€ï¼Œæ‰€ä»¥å½“é‡åˆ°è¿™ä¸€è¡Œæ—¥å¿—æ—¶ï¼Œæˆ‘å°±è®¤ä¸ºå‡ºç°é—ªé€€äº†ï¼›</p><p>ç¬¬äºŒæ­¥çš„å®ç°æ€è·¯ä¸ºï¼šé€è¡Œè¯»å–ä¿å­˜çš„æ—¥å¿—æ–‡ä»¶ï¼Œå‡ºç°å…³é”®å­—å°±è·å–å½“å‰è¿›ç¨‹å·ï¼Œå¹¶æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œæœ€åç»Ÿè®¡åˆ—è¡¨é•¿åº¦å³å¯ã€‚</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>def get_crash_pid_list(file_path):
    &#34;&#34;&#34;è¯»å–æ—¥å¿—ï¼Œè·å–å‡ºç°å…³é”®å­—ï¼ˆcrashï¼‰çš„æ¬¡æ•°
    &#34;&#34;&#34;
    keyword = &#34;FATAL EXCEPTION: main&#34;
    crash_pid = []

    with open(file_path, encoding=&#34;utf-8&#34;) as f:
        for line in f.readlines():
            if keyword in line:
                # æå–å‡ºæ—¥å¿—è¡Œå†…æ‰€æœ‰æ•°å­—ï¼ˆæ—¥æœŸ + PIDï¼‰
                data = re.findall(r&#34;\d+&#34;, line)  
                pid = data[-1]
                crash_pid.append(pid)
    logging.info(f&#34;Crash PID list &gt;&gt;&gt; {crash_pid}&#34;)
    return crash_pid
</code></pre></div><h2 id=è½¬å‚¨é—ªé€€æ—¥å¿—>è½¬å‚¨é—ªé€€æ—¥å¿—<a hidden class=anchor aria-hidden=true href=#è½¬å‚¨é—ªé€€æ—¥å¿—>#</a></h2><p>è¿™é‡Œéœ€è¦è¿›è¡Œä¸€æ¬¡åˆ¤æ–­ï¼š</p><ul><li>å¦‚æœä¸å­˜åœ¨é—ªé€€ï¼Œç›´æ¥ç»™å‡ºæç¤ºï¼Œé€€å‡ºç¨‹åº</li><li>å¦‚æœå­˜åœ¨ï¼Œåˆ›å»ºæ–°çš„æ—¥å¿—æ–‡ä»¶ï¼Œå†™å…¥è®¾å¤‡ä¿¡æ¯ï¼Œæ ¹æ®è¿›ç¨‹å·æå–æ—¥å¿—</li></ul><p><strong>è·å–è®¾å¤‡ä¿¡æ¯</strong>
æ—¥å¿—æäº¤åï¼Œè¢«å¼€å‘åŒå­¦é—®è¿‡å‡ æ¬¡æœºå‹å’Œç³»ç»Ÿï¼Œç´¢æ€§å°±ç›´æ¥åŠ åˆ°æ—¥å¿—é‡Œé¢å§</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>def get_device_info(device=&#34;&#34;):
    &#34;&#34;&#34;è·å–è®¾å¤‡ä¿¡æ¯
    &#34;&#34;&#34;
    model = os.popen(f&#34;adb {device} shell getprop ro.product.model&#34;).read().strip()
    manufacturer = os.popen(f&#34;adb {device} shell getprop ro.product.manufacturer&#34;).read().strip()

    version = os.popen(f&#34;adb {device} shell getprop ro.build.version.release&#34;).read().strip()
    sdk_version = os.popen(f&#34;adb {device} shell getprop ro.build.version.sdk&#34;).read().strip()

    output = f&#34;DeviceInfo: {manufacturer} {model} | Android {version} (API {sdk_version})&#34;
    return output
</code></pre></div><p><strong>è½¬å­˜æ—¥å¿—</strong>
é€è¡Œè¯»å–ï¼ŒåŒ¹é…è¿›ç¨‹å·ï¼Œå†™å…¥åˆ°æ–°çš„æ—¥å¿—æ–‡ä»¶å†…ï¼Œå¦‚æœä¸å¡«ï¼Œåˆ™èµ°é»˜è®¤è·¯å¾„</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>def dump_crash_log(file_path=&#34;&#34;, dump_path=&#34;&#34;, device=&#34;&#34;):
    &#34;&#34;&#34;è½¬å‚¨å¸¦æœ‰ crash pid çš„æ—¥å¿—
    &#34;&#34;&#34;
    # è®¾ç½®é»˜è®¤è½¬å‚¨è·¯å¾„
    if not file_path:
        file_path = &#34;logcat.log&#34;
    if not dump_path:
        dump_path = &#34;logcat_crash.log&#34;
    if device:
        device = f&#34;-s {device}&#34;

    log_cat(file_path, device)
    device_info = get_device_info(device)
    pid_list = get_crash_pid_list(file_path)

    if pid_list:
        # åˆ›å»ºè½¬å‚¨æ—¥å¿—å¹¶å†™å…¥
        with open(dump_path, &#34;w+&#34;, encoding=&#34;utf-8&#34;) as f:  
            f.write(f&#34;{&#39;-&#39; * 50}\n&#34;)
            f.write(f&#34;{device_info}\nå…±å‡ºç° {len(pid_list)} æ¬¡é—ªé€€\n&#34;)
            f.write(f&#34;{&#39;-&#39; * 50}\n&#34;)
            # è¯»å–åŸå§‹æ—¥å¿—
            with open(file_path, encoding=&#34;utf-8&#34;) as f1:
                for line in f1.readlines():
                    for pid in pid_list:
                        if pid in line:
                            if &#34;FATAL&#34; in line:
                                f.write(&#34;\n# begging of crash --- &gt;&gt;&gt;\n&#34;)
                            f.write(line)
        logging.info(f&#34;Crash log path: {dump_path}&#34;)
    else:
        logging.info(f&#34;Not found &#39;FATAL EXCEPTION: main&#39; in {file_path}&#34;)

if __name__ == &#39;__main__&#39;:
    dump_crash_log()
</code></pre></div><hr><p>æœ€åæ‰§è¡Œæ•ˆæœå¦‚ä¸‹ï¼š</p><p><strong>æ§åˆ¶å°è¾“å‡º</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>[ I 201231 13:57:05 dump_crash_log:44 ] PID LIST &gt;&gt;&gt; [&#39;26997&#39;, &#39;28084&#39;, &#39;6964&#39;]
[ I 201231 13:57:05 dump_crash_log:88 ] Crash log path: logcat_crash.log
</code></pre></div><p><strong>ç›®å½•ç»“æ„</strong></p><ul><li>dump_crash_log.py</li><li>logcat.log</li><li>logcat_crash.log</li></ul><p><strong>æ—¥å¿—å†…å®¹</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>--------------------------------------------------
DeviceInfo: HUAWEI ELE-AL00 | Android 10 (API 29)
å…±å‡ºç° 3 æ¬¡é—ªé€€
--------------------------------------------------

# begging of crash --- &gt;&gt;&gt;
11-02 17:39:58.802 E/AndroidRuntime(26997): FATAL EXCEPTION: main
11-02 17:39:58.802 E/AndroidRuntime(26997): Process: com.esbook.reader, PID: 26997
11-02 17:39:58.802 E/AndroidRuntime(26997): java.lang.IllegalArgumentException: è¿™æ˜¯å¼‚å¸¸ä¿¡æ¯
11-02 17:39:58.802 E/AndroidRuntime(26997):     at è¿™æ˜¯å †æ ˆä¿¡æ¯
11-02 17:39:58.802 E/AndroidRuntime(26997):     at è¿™æ˜¯å †æ ˆä¿¡æ¯
...

# begging of crash --- &gt;&gt;&gt;
11-02 17:55:39.306 E/AndroidRuntime(28084): FATAL EXCEPTION: main
11-02 17:55:39.306 E/AndroidRuntime(28084): Process: com.esbook.reader, PID: 28084
11-02 17:55:39.306 E/AndroidRuntime(28084): java.lang.NullPointerException: è¿™æ˜¯å¼‚å¸¸ä¿¡æ¯
11-02 17:55:39.306 E/AndroidRuntime(28084):     at è¿™æ˜¯å †æ ˆä¿¡æ¯
11-02 17:55:39.306 E/AndroidRuntime(28084):     at è¿™æ˜¯å †æ ˆä¿¡æ¯
...

# begging of crash --- &gt;&gt;&gt;
11-02 18:15:37.625 E/AndroidRuntime( 6964): FATAL EXCEPTION: main
11-02 18:15:37.625 E/AndroidRuntime( 6964): Process: com.esbook.reader, PID: 6964
11-02 18:15:37.625 E/AndroidRuntime( 6964):     at è¿™æ˜¯å †æ ˆä¿¡æ¯
11-02 18:15:37.625 E/AndroidRuntime( 6964):     at è¿™æ˜¯å †æ ˆä¿¡æ¯
...
</code></pre></div><hr><p>å¤§åŠŸå‘Šæˆï¼Œè¿™æ ·æå–æ—¥å¿—å°±ä¼šæ–¹ä¾¿è®¸å¤šå•¦ï¼ğŸ˜„</p></div><div class=post-reward><div style=padding:0;margin:0;width:100%;font-size:16px;text-align:center><div id=QR style=opacity:0><div id=wechat style=display:inline-block><a class=fancybox rel=group><img id=wechat_qr src=https://abeelan.github.io/img/wechatpay.jpg alt=wechat_pay></a><p>å¾®ä¿¡</p></div><div id=alipay style=display:inline-block><a class=fancybox rel=group><img id=alipay_qr src=https://abeelan.github.io/img/alipay.jpg alt=alipay></a><p>æ”¯ä»˜å®</p></div></div><button id=rewardButton onclick="var qr=document.getElementById('QR');qr.style.opacity==='0'?qr.style.opacity='1':qr.style.opacity='0'">
<span>ğŸ§§ é¼“åŠ±ä¸€ä¸‹ ğŸ§§</span></button></div></div><footer class=post-footer><nav class=paginav><a class=prev href=https://abeelan.github.io/posts/tech/andorid/%E5%BF%AB%E5%BA%94%E7%94%A8%E6%B5%8B%E8%AF%95/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>Android - å¿«åº”ç”¨æµ‹è¯•æ–¹æ³•</span></a>
<a class=next href=https://abeelan.github.io/posts/tech/docker/docker-android/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span></span></a></nav></footer></div><style>.comments_details summary::marker{font-size:20px;content:'ğŸ‘‰å±•å¼€è¯„è®º';color:var(--content)}.comments_details[open] summary::marker{font-size:20px;content:'ğŸ‘‡å…³é—­è¯„è®º';color:var(--content)}</style><div><details class=comments_details><summary style="cursor:pointer;margin:50px 0 20px;width:130px"><span style=font-size:20px;color:var(--content)>...</span></summary><div id=tcomment></div></details><script src=https://cdn.staticfile.org/twikoo/1.5.8/twikoo.all.min.js></script><script>twikoo.init({envId:null,el:"#tcomment",lang:'zh-CN',region:"ap-beijing",path:window.TWIKOO_MAGIC_PATH||window.location.pathname})</script></div></article></main><footer class=footer><span>Copyright
&copy;
-2023
<a href=https://abeelan.github.io/ style=color:#939393>ABEE</a>
All Rights Reserved</span>
<a href=https://beian.miit.gov.cn/ target=_blank style=color:#939393></a>&nbsp;
<span><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=null" style=display:inline-block;text-decoration:none;height:20px;color:#939393><img src style="float:left;margin:0 5px 0 0"></a></span>
<span id=busuanzi_container><span class="fa fa-user"></span><span id=busuanzi_value_site_uv></span><span class="fa fa-eye"></span><span id=busuanzi_value_site_pv></span></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg><span id=read_progress></span></span></a><script>document.addEventListener('scroll',function(e){const a=document.getElementById("read_progress"),b=document.documentElement.scrollHeight,c=document.documentElement.clientHeight,d=document.documentElement.scrollTop||document.body.scrollTop;a.innerText=((d/(b-c)).toFixed(2)*100).toFixed(0)})</script><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>let mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>200||document.documentElement.scrollTop>200?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{(function(){document.cookie="change-themes="+escape("false")})(),document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><script>document.body.addEventListener('copy',function(a){if(window.getSelection().toString()&&window.getSelection().toString().length>50){let b=a.clipboardData||window.clipboardData;if(b){a.preventDefault();let c=window.getSelection().toString()+'\r\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n'+'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"ABEE"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚'+'\r\nåŸæ–‡é“¾æ¥ï¼š'+location.href,d=window.getSelection().toString()+'\r\n\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n'+'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"ABEE"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚'+'\r\nåŸæ–‡é“¾æ¥ï¼š'+location.href;b.setData('text/html',c),b.setData('text/plain',d)}}})</script><script>document.querySelectorAll('pre > code').forEach(c=>{const d=c.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='ğŸ“„ å¤åˆ¶';function i(){a.innerText='ğŸ‘ŒğŸ» å·²å¤åˆ¶!',setTimeout(()=>{a.innerText='ğŸ“„ å¤åˆ¶'},2e3)}a.addEventListener('click',d=>{if('clipboard'in navigator){let a=c.textContent+'\r\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n'+'ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºã€Œ'+"ABEE"+'ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚'+'\r\nåŸæ–‡é“¾æ¥ï¼š'+location.href;navigator.clipboard.writeText(a),i();return}const a=document.createRange();a.selectNodeContents(c);const b=window.getSelection();b.removeAllRanges(),b.addRange(a);try{document.execCommand('copy'),i()}catch(a){}b.removeRange(a)});let j=c.className.replaceAll("language-",""),b=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("div"),e=document.createElement("div");e.innerText=j,b.setAttribute('class','mac-tool'),f.setAttribute('class','mac bb1'),g.setAttribute('class','mac bb2'),h.setAttribute('class','mac bb3'),e.setAttribute('class','language-type'),b.appendChild(f),b.appendChild(g),b.appendChild(h),b.appendChild(e),d.classList.contains("highlight")?(d.appendChild(a),d.appendChild(b)):d.parentNode.firstChild==d||(c.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?(c.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a),d.appendChild(b)):(c.parentNode.appendChild(a),d.appendChild(b)))})</script><script>$("code[class^=language] ").on("mouseover",function(){this.clientWidth<this.scrollWidth&&($(this).css("width","135%"),$(this).css("border-top-right-radius","var(--radius)"))}).on("mouseout",function(){$(this).css("width","100%"),$(this).css("border-top-right-radius","unset")})</script></body></html>