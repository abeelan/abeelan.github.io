<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Hugo - 博客搭建记录（最新且完整） | ABEE</title><meta name=keywords content="blog"><meta name=description content="搭建并部署本站的完整记录。"><meta name=author content="ABEE"><link rel=canonical href=https://abeelan.github.io/posts/tech/%E5%85%B6%E4%BB%96/hugo-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2v2/><link crossorigin=anonymous href=/assets/css/stylesheet.fbe782675a7c7c9c739a48204d6d2a4da78a00e11ba93326b39891e3501b1740.css integrity="sha256-++eCZ1p8fJxzmkggTW0qTaeKAOEbqTMms5iR41AbF0A=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://abeelan.github.io/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://abeelan.github.io/img/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://abeelan.github.io/img/favicon.ico><link rel=apple-touch-icon href=https://abeelan.github.io/img/favicon.ico><link rel=mask-icon href=https://abeelan.github.io/img/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script src=https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js></script><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><meta property="og:title" content="Hugo - 博客搭建记录（最新且完整）"><meta property="og:description" content="搭建并部署本站的完整记录。"><meta property="og:type" content="article"><meta property="og:url" content="https://abeelan.github.io/posts/tech/%E5%85%B6%E4%BB%96/hugo-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2v2/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-04-25T15:03:01+08:00"><meta property="article:modified_time" content="2023-04-25T15:03:01+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Hugo - 博客搭建记录（最新且完整）"><meta name=twitter:description content="搭建并部署本站的完整记录。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"📚 分类","item":"https://abeelan.github.io/posts/"},{"@type":"ListItem","position":2,"name":"👨🏻‍💻 技术","item":"https://abeelan.github.io/posts/tech/"},{"@type":"ListItem","position":3,"name":"Hugo - 博客搭建记录（最新且完整）","item":"https://abeelan.github.io/posts/tech/%E5%85%B6%E4%BB%96/hugo-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2v2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Hugo - 博客搭建记录（最新且完整）","name":"Hugo - 博客搭建记录（最新且完整）","description":"搭建并部署本站的完整记录。","keywords":["blog"],"articleBody":"下文是我自己的搭建记录（MacOS, Hugo + GithubPage）\n搭建本地 Hugo 服务  Hugo 是使用 Go 语言编写的静态网站生成器，页面编译速度快，支持跨平台、皮肤自定义，方便部署。\n官方文档传送门\n 📢 📢 📢\n 以下是 hugo 通用的建站方式，适用于绝大多数主题。\n我本次使用的主题 sulv-hugo-papermod 作者已经把相关代码全部提交到仓库里面了，所以只需要拉取仓库代码，修改配置文件即可。详情查看仓库介绍文档。\n 安装 Hugo  方法一：在 Hugo 的官方网站 上下载并安装 Hugo 方法二：直接使用 Homebrew 安装  # 跳过 brew 检查更新（可以忽略） $ export HOMEBREW_NO_AUTO_UPDATE=true # 开始安装 $ brew install hugo == Summary 🍺 /usr/local/Cellar/hugo/0.111.3: 31 files, 40.6MB $ hugo version hugo v0.111.3+extended darwin/amd64 BuildDate=unknown 建站 进入自定义目录下，新建站点\n$ cd workspace $ hugo new site notebook Congratulations! 站点文件夹目录如下\n. ├── archetypes # 存放帖子的模板 md 文件 ├── assets # 存放被 Hugo Pipes 处理的文件 ├── config # 配置文件；支持 JSON、YAML、TOML 三种格式配置文件，加上不同后缀即可 ├── content # 存放博客 markdown 文件 ├── data # 存放 Hugo 处理的数据 ├── layouts # 存放布局文件 ├── static # 存放静态文件 图片 CSS JS 文件 └── themes # 存放主题 添加主题 可以访问 Hugo 主题库 挑选自己喜欢的主题，复制主题的 github 仓库下载链接。\n# 初始化当前目录为 git 仓库 $ cd notebook $ git init # 拉取主题 # 注意查看主题最低支持的 hugo 版本与当前版本是否匹配 $ git submodule add https://github.com/adityatelange/hugo-PaperMod.git themes/hugo-PaperMod # 后续主题有更新通过如下命令拉取 $ git submodule update --init 编辑配置文件blog_name/config.toml，一般在主题下会有对应的配置文件模板exampleSite/config.toml修改修改就行。\n访问 命令行启动\n$ hugo server -D 在浏览器中访问 localhost:1313 ，配置配置文件后会自动刷新预览。\n创建第一篇文章 # md 模板在 archetypes/default.md 设置 $ hugo new posts/tech/我的第一篇帖子.md 发布到 GitHubPages 博客静态页面搭建完成后，接下来就需要对外发布展示，这里使用免费的 GithubPages 来实现。\n实现原理为：\n 新建 md 文件 编辑完成后通过 hugo 命令生成 pulic 静态网页文件 将静态文件推送到远程仓库 通过域名访问  这样太麻烦了，每次还需要手动的去构建 md 为静态文件，且有点乱不方便维护，因此可以通过 Github Action 来提高效率。\n最终实现效果为：\n 新建 md 文件 推送 md 文件到远程仓库 Github Action 自动构建静态文件并推送到指定位置  这样就只需要关注写作就可以了。\n创建 GitPages 仓库 首先 注册 账号，登录github个人页面，新建仓库，仓库名格式必须为 .github.io\n在该仓库 Settings - 左侧导航栏 Pages 页面，可查看访问域名。\n# 将该项目拉到本地 $ git clone https://github.com/abeelan/abeelan.github.io.git 创建存放博客源文件仓库 创建一个仓库用来存放博客的原始 md 文件，可以是私有仓库。\n# 可选 博客原始文件关联远程仓库 $ cd notebook $ git remote add orgin https://github.com/abeelan/notebook # 创建工作流文件,名字随便取 $ vim .github/workflows/hugo-deploy.yml # hugo-deploy.yml name: hugo-blog-deploy on: push: branches: - main jobs: hugo-blog-deploy: runs-on: ubuntu-latest  # 我 mac 也这么设置的，设置 macos 报错 steps: - name: Checkout source uses: actions/checkout@v2 with: submodules: recursive  # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup hugo uses: peaceiris/actions-hugo@v2 # hugo 官方 action，用于在任务环境中获取 hugo with: hugo-version: \"0.81.0\" # hugo version extended: true - name: Build run: hugo --minify  # 使用 hugo 构建静态网页 - name: Deploy uses: peaceiris/actions-gh-pages@v3 # 一个自动发布 github pages 的 action with: personal_token: ${{ secrets.PERSONAL_TOKEN }} # 无需修改，后面会为该变量设置 secret external_repository: abeelan/abeelan.github.io # 修改为你的 GitHub Pages 仓库 publish_dir: ./public publish_branch: main # 如果使用自定义域名，还需要添加下面一行配置 # cname:  配置 Github Token  点击头像 - Settings - Developer settings - Personal access tokens - Tokens(classic）- Generate new token(classic)   Note: GITHUB_ACTION_TOKEN 自定义有效期（过期了记得更新） Select scopes：workflow、admin:repo_hook 点击生成，保存好这串 token  返回博客项目，进入 Settings - Secrets and variables - Actions - New repo secret   Name：PERSONAL_TOKEN（跟上面配置文件保持一致，注意不能以 GITHUB_ 开头，否则会出错） secret：上一步创建的 token 值 Add secret  这一步设置的 Name：PERSONAL_TOKEN 需要与上面 yml 工作流中的变量名一致。\n结束 至此，配置完成。\n使用 Typora 编辑文章，提交至远程仓库，自动触发 GithubActions 构建发布页。\n","wordCount":"1465","inLanguage":"en","datePublished":"2023-04-25T15:03:01+08:00","dateModified":"2023-04-25T15:03:01+08:00","author":[{"@type":"Person","name":"ABEE"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://abeelan.github.io/posts/tech/%E5%85%B6%E4%BB%96/hugo-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2v2/"},"publisher":{"@type":"Organization","name":"ABEE","logo":{"@type":"ImageObject","url":"https://abeelan.github.io/img/favicon.ico"}}}</script></head><body id=top><script>(function(){let a,b=new RegExp("(^| )change-themes=([^;]*)(;|$)");(a=document.cookie.match(b))||((new Date).getHours()>=19||(new Date).getHours()<6?(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark')):(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')))})(),localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://abeelan.github.io/ accesskey=h title="ABEE (Alt + H)"><img src=https://abeelan.github.io/img/avatar.gif alt=logo aria-label=logo height=35>ABEE</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://abeelan.github.io/ title="🏠 主页"><span>🏠 主页</span></a></li><li><a href=https://abeelan.github.io/tags title="🧩 标签"><span>🧩 标签</span></a></li><li><a href=https://abeelan.github.io/archives/ title="⏱️ 时间轴"><span>⏱️ 时间轴</span></a></li><li><a href=https://abeelan.github.io/about title="🙋🏻‍♂️ 关于"><span>🙋🏻‍♂️ 关于</span></a></li><li><a href=https://abeelan.github.io/search title="🔍 搜索 (Alt + /)" accesskey=/><span>🔍 搜索</span></a></li></ul></nav></header><main class="main page"><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}body{counter-reset:h2}h2{counter-reset:h3}h3{counter-reset:h4}h4{counter-reset:h5}article[autonumbering] h2:before{counter-increment:h2;content:counter(h2)". "}article[autonumbering] h3:before{counter-increment:h3;content:counter(h2)"." counter(h3)" "}article[autonumbering] h4:before{counter-increment:h4;content:counter(h2)"." counter(h3)"." counter(h4)" "}article[autonumbering] .toc ul{counter-reset:item}article[autonumbering] .toc li a:before{content:counters(item,".")" ";counter-increment:item}</style><article class=post autonumbering><div id=single-content><header class=post-header><div class=breadcrumbs><a href=https://abeelan.github.io/>🏠 主页</a>&nbsp;»&nbsp;<a href=https://abeelan.github.io/posts/>📚 分类</a>&nbsp;»&nbsp;<a href=https://abeelan.github.io/posts/tech/>👨🏻‍💻 技术</a></div><h1 class=post-title>Hugo - 博客搭建记录（最新且完整）</h1><div class=post-description>搭建并部署本站的完整记录。</div><div class=post-meta><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}.parent-post-meta{display:flex;flex-wrap:wrap;opacity:.8}</style><span class=parent-post-meta><span id=post_meta_style_1><span class="fa fa-calendar-check-o"></span><span>2023-04-25
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_3><span class="fa fa-file-word-o"></span><span>1465字
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_4><span class="fa fa-clock-o"></span><span>3分钟
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_5><span class="fa fa-user-o"></span><span>ABEE
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_6><span class="fa fa-tags" style=opacity:.8></span><span><span class=post-tags-meta><a href=https://abeelan.github.io/tags/blog/ style=color:var(--secondary)!important>blog</a></span></span></span></span>
<span style=opacity:.8><span id=post_meta_style_7>&nbsp;&nbsp;
<span class="fa fa-eye"></span><span><span id=busuanzi_container_page_pv><span id=busuanzi_value_page_pv></span></span>&nbsp;&nbsp;</span></span>
<span id=post_meta_style_8><span class="fa fa-commenting-o"></span><span><script src=https://cdn.staticfile.org/twikoo/1.5.8/twikoo.all.min.js></script><script>let url=document.documentURI,dnsUrl="https://abeelan.github.io/",urlSplit=url.split(dnsUrl),finalUrl=urlSplit[1];finalUrl[0]!=='/'&&(finalUrl='/'+finalUrl),twikoo.getCommentsCount({envId:null,region:"ap-beijing",urls:[finalUrl],includeReply:!1}).then(function(a){let b=a[0].count;const c=document.getElementById("comment_count");c.innerText=b}).catch(function(a){console.error(a)})</script><span id=comment_count></span></span></span></span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e6%90%ad%e5%bb%ba%e6%9c%ac%e5%9c%b0-hugo-%e6%9c%8d%e5%8a%a1 aria-label="搭建本地 Hugo 服务">搭建本地 Hugo 服务</a><ul><li><a href=#%e5%ae%89%e8%a3%85-hugo aria-label="安装 Hugo">安装 Hugo</a></li><li><a href=#%e5%bb%ba%e7%ab%99 aria-label=建站>建站</a></li><li><a href=#%e6%b7%bb%e5%8a%a0%e4%b8%bb%e9%a2%98 aria-label=添加主题>添加主题</a></li><li><a href=#%e8%ae%bf%e9%97%ae aria-label=访问>访问</a></li><li><a href=#%e5%88%9b%e5%bb%ba%e7%ac%ac%e4%b8%80%e7%af%87%e6%96%87%e7%ab%a0 aria-label=创建第一篇文章>创建第一篇文章</a></li></ul></li><li><a href=#%e5%8f%91%e5%b8%83%e5%88%b0-githubpages aria-label="发布到 GitHubPages">发布到 GitHubPages</a><ul><li><a href=#%e5%88%9b%e5%bb%ba-gitpages-%e4%bb%93%e5%ba%93 aria-label="创建 GitPages 仓库">创建 GitPages 仓库</a></li><li><a href=#%e5%88%9b%e5%bb%ba%e5%ad%98%e6%94%be%e5%8d%9a%e5%ae%a2%e6%ba%90%e6%96%87%e4%bb%b6%e4%bb%93%e5%ba%93 aria-label=创建存放博客源文件仓库>创建存放博客源文件仓库</a></li><li><a href=#%e9%85%8d%e7%bd%ae-github-token aria-label="配置 Github Token">配置 Github Token</a></li></ul></li><li><a href=#%e7%bb%93%e6%9d%9f aria-label=结束>结束</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener('DOMContentLoaded',function(b){checkTocPosition(),elements=document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]'),activeElement=elements[0];const a=encodeURI(activeElement.getAttribute('id')).toLowerCase();document.querySelector(`.inner ul li a[href="#${a}"]`).classList.add('active')},!1),window.addEventListener('resize',function(a){checkTocPosition()},!1),window.addEventListener('scroll',()=>{activeElement=Array.from(elements).find(a=>{if(getOffsetTop(a)-window.pageYOffset>0&&getOffsetTop(a)-window.pageYOffset<window.innerHeight/2)return a})||activeElement,elements.forEach(a=>{const b=encodeURI(a.getAttribute('id')).toLowerCase();a===activeElement?document.querySelector(`.inner ul li a[href="#${b}"]`).classList.add('active'):document.querySelector(`.inner ul li a[href="#${b}"]`).classList.remove('active')})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue('--gap'),10);function checkTocPosition(){const a=document.body.scrollWidth;a-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(a){if(!a.getClientRects().length)return 0;let b=a.getBoundingClientRect(),c=a.ownerDocument.defaultView;return b.top+c.pageYOffset}</script><div class=post-content><p>下文是我自己的搭建记录（MacOS, Hugo + GithubPage）</p><h2 id=搭建本地-hugo-服务>搭建本地 Hugo 服务<a hidden class=anchor aria-hidden=true href=#搭建本地-hugo-服务>#</a></h2><blockquote><p>Hugo 是使用 Go 语言编写的<a href=https://gohugo.io/about/what-is-hugo/>静态网站生成器</a>，页面编译速度快，支持跨平台、皮肤自定义，方便部署。</p><p>官方文档<a href=https://gohugo.io/getting-started/quick-start/>传送门</a></p></blockquote><p>📢 📢 📢</p><blockquote><p>以下是 hugo 通用的建站方式，适用于绝大多数主题。</p><p>我本次使用的主题 <a href=https://github.com/xyming108/sulv-hugo-papermod>sulv-hugo-papermod</a> 作者已经把相关代码全部提交到仓库里面了，所以只需要拉取仓库代码，修改配置文件即可。详情查看仓库介绍文档。</p></blockquote><h3 id=安装-hugo>安装 Hugo<a hidden class=anchor aria-hidden=true href=#安装-hugo>#</a></h3><ul><li>方法一：在 <a href=https://gohugo.io/getting-started/installing/>Hugo 的官方网站</a> 上下载并安装 Hugo</li><li>方法二：直接使用 Homebrew 安装</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># 跳过 brew 检查更新（可以忽略）</span>
$ export HOMEBREW_NO_AUTO_UPDATE<span style=color:#f92672>=</span>true

<span style=color:#75715e># 开始安装</span>
$ brew install hugo
<span style=color:#f92672>==</span>&gt; Summary
🍺  /usr/local/Cellar/hugo/0.111.3: <span style=color:#ae81ff>31</span> files, 40.6MB

$ hugo version
hugo v0.111.3+extended darwin/amd64 BuildDate<span style=color:#f92672>=</span>unknown
</code></pre></div><h3 id=建站>建站<a hidden class=anchor aria-hidden=true href=#建站>#</a></h3><p>进入自定义目录下，新建站点</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ cd workspace
$ hugo new site notebook
Congratulations!
</code></pre></div><p>站点文件夹目录如下</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>.
├── archetypes <span style=color:#75715e># 存放帖子的模板 md 文件</span>
├── assets     <span style=color:#75715e># 存放被 Hugo Pipes 处理的文件</span>
├── config     <span style=color:#75715e># 配置文件；支持 JSON、YAML、TOML 三种格式配置文件，加上不同后缀即可</span>
├── content    <span style=color:#75715e># 存放博客 markdown 文件</span>
├── data       <span style=color:#75715e># 存放 Hugo 处理的数据</span>
├── layouts    <span style=color:#75715e># 存放布局文件</span>
├── static     <span style=color:#75715e># 存放静态文件 图片 CSS JS 文件</span>
└── themes     <span style=color:#75715e># 存放主题</span>
</code></pre></div><h3 id=添加主题>添加主题<a hidden class=anchor aria-hidden=true href=#添加主题>#</a></h3><p>可以访问 <strong><a href=https://themes.gohugo.io/>Hugo 主题库</a></strong> 挑选自己喜欢的主题，复制主题的 github 仓库下载链接。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># 初始化当前目录为 git 仓库</span>
$ cd notebook
$ git init

<span style=color:#75715e># 拉取主题</span>
<span style=color:#75715e># 注意查看主题最低支持的 hugo 版本与当前版本是否匹配</span>
$ git submodule add https://github.com/adityatelange/hugo-PaperMod.git themes/hugo-PaperMod
<span style=color:#75715e># 后续主题有更新通过如下命令拉取</span>
$ git submodule update --init
</code></pre></div><p>编辑配置文件<code>blog_name/config.toml</code>，一般在主题下会有对应的配置文件模板<code>exampleSite/config.toml</code>修改修改就行。</p><h3 id=访问>访问<a hidden class=anchor aria-hidden=true href=#访问>#</a></h3><p>命令行启动</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ hugo server -D
</code></pre></div><p>在浏览器中访问 <a href=localhost:1313>localhost:1313</a> ，配置配置文件后会自动刷新预览。</p><h3 id=创建第一篇文章>创建第一篇文章<a hidden class=anchor aria-hidden=true href=#创建第一篇文章>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># md 模板在 archetypes/default.md 设置</span>
$ hugo new posts/tech/我的第一篇帖子.md
</code></pre></div><h2 id=发布到-githubpages>发布到 GitHubPages<a hidden class=anchor aria-hidden=true href=#发布到-githubpages>#</a></h2><p>博客静态页面搭建完成后，接下来就需要对外发布展示，这里使用免费的 GithubPages 来实现。</p><p>实现原理为：</p><ul><li>新建 md 文件</li><li>编辑完成后通过 hugo 命令生成 pulic 静态网页文件</li><li>将静态文件推送到远程仓库</li><li>通过域名访问</li></ul><p>这样太麻烦了，每次还需要手动的去构建 md 为静态文件，且有点乱不方便维护，因此可以通过 Github Action 来提高效率。</p><p>最终实现效果为：</p><ul><li>新建 md 文件</li><li>推送 md 文件到远程仓库</li><li>Github Action 自动构建静态文件并推送到指定位置</li></ul><p>这样就只需要关注写作就可以了。</p><h3 id=创建-gitpages-仓库>创建 GitPages 仓库<a hidden class=anchor aria-hidden=true href=#创建-gitpages-仓库>#</a></h3><p>首先 <a href=https://github.com/>注册</a> 账号，登录<code>github</code>个人页面，新建仓库，仓库名格式必须为 <code>&lt;username>.github.io</code></p><p>在该仓库 Settings - 左侧导航栏 Pages 页面，可查看访问域名。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># 将该项目拉到本地</span>
$ git clone https://github.com/abeelan/abeelan.github.io.git
</code></pre></div><h3 id=创建存放博客源文件仓库>创建存放博客源文件仓库<a hidden class=anchor aria-hidden=true href=#创建存放博客源文件仓库>#</a></h3><p>创建一个仓库用来存放博客的原始 <code>md</code> 文件，可以是私有仓库。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># 可选 博客原始文件关联远程仓库</span>
$ cd notebook
$ git remote add orgin https://github.com/abeelan/notebook

<span style=color:#75715e># 创建工作流文件,名字随便取</span>
$ vim .github/workflows/hugo-deploy.yml
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#75715e># hugo-deploy.yml</span>
<span style=color:#f92672>name</span>: <span style=color:#ae81ff>hugo-blog-deploy</span>

<span style=color:#f92672>on</span>:
  <span style=color:#f92672>push</span>:
    <span style=color:#f92672>branches</span>:
      - <span style=color:#ae81ff>main</span>

<span style=color:#f92672>jobs</span>:
  <span style=color:#f92672>hugo-blog-deploy</span>:
    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest </span> <span style=color:#75715e># 我 mac 也这么设置的，设置 macos 报错</span>
    <span style=color:#f92672>steps</span>:
    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Checkout source</span>
      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v2</span>
      <span style=color:#f92672>with</span>:
          <span style=color:#f92672>submodules</span>: <span style=color:#ae81ff>recursive </span> <span style=color:#75715e># Fetch Hugo themes (true OR recursive)</span>
          <span style=color:#f92672>fetch-depth</span>: <span style=color:#ae81ff>0</span>    <span style=color:#75715e># Fetch all history for .GitInfo and .Lastmod</span>

    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Setup hugo</span>
      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-hugo@v2</span> <span style=color:#75715e># hugo 官方 action，用于在任务环境中获取 hugo</span>
      <span style=color:#f92672>with</span>:
        <span style=color:#f92672>hugo-version</span>: <span style=color:#e6db74>&#34;0.81.0&#34;</span>  <span style=color:#75715e># hugo version</span>
        <span style=color:#f92672>extended</span>: <span style=color:#66d9ef>true</span>

    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build</span>
      <span style=color:#f92672>run</span>: <span style=color:#ae81ff>hugo --minify </span> <span style=color:#75715e># 使用 hugo 构建静态网页</span>

    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy</span>
      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-gh-pages@v3</span> <span style=color:#75715e># 一个自动发布 github pages 的 action</span>
      <span style=color:#f92672>with</span>:
        <span style=color:#f92672>personal_token</span>: <span style=color:#ae81ff>${{ secrets.PERSONAL_TOKEN }}</span> <span style=color:#75715e># 无需修改，后面会为该变量设置 secret</span>
        <span style=color:#f92672>external_repository</span>: <span style=color:#ae81ff>abeelan/abeelan.github.io</span> <span style=color:#75715e># 修改为你的 GitHub Pages 仓库</span>
        <span style=color:#f92672>publish_dir</span>: <span style=color:#ae81ff>./public</span>
        <span style=color:#f92672>publish_branch</span>: <span style=color:#ae81ff>main</span>
        <span style=color:#75715e># 如果使用自定义域名，还需要添加下面一行配置</span>
        <span style=color:#75715e># cname: </span>
</code></pre></div><h3 id=配置-github-token>配置 Github Token<a hidden class=anchor aria-hidden=true href=#配置-github-token>#</a></h3><ol><li>点击头像 - Settings - <a href=https://github.com/settings/tokens/new>Developer settings</a> - Personal access tokens - Tokens(classic）- Generate new token(classic)</li></ol><ul><li>Note: GITHUB_ACTION_TOKEN</li><li>自定义有效期（过期了记得更新）</li><li><strong>Select scopes</strong>：workflow、admin:repo_hook</li><li>点击生成，保存好这串 token</li></ul><ol start=2><li>返回博客项目，进入 Settings - Secrets and variables - Actions - New repo secret</li></ol><ul><li>Name：PERSONAL_TOKEN（跟上面配置文件保持一致，注意不能以 GITHUB_ 开头，否则会出错）</li><li>secret：上一步创建的 token 值</li><li>Add secret</li></ul><p>这一步设置的 <code>Name：PERSONAL_TOKEN</code> 需要与上面 yml 工作流中的变量名一致。</p><h2 id=结束>结束<a hidden class=anchor aria-hidden=true href=#结束>#</a></h2><p>至此，配置完成。</p><p>使用 Typora 编辑文章，提交至远程仓库，自动触发 GithubActions 构建发布页。</p></div><div class=post-reward><div style=padding:0;margin:0;width:100%;font-size:16px;text-align:center><div id=QR style=opacity:0><div id=wechat style=display:inline-block><a class=fancybox rel=group><img id=wechat_qr src=https://abeelan.github.io/img/wechatpay.jpg alt=wechat_pay></a><p>微信</p></div><div id=alipay style=display:inline-block><a class=fancybox rel=group><img id=alipay_qr src=https://abeelan.github.io/img/alipay.jpg alt=alipay></a><p>支付宝</p></div></div><button id=rewardButton onclick="var qr=document.getElementById('QR');qr.style.opacity==='0'?qr.style.opacity='1':qr.style.opacity='0'">
<span>🧧 鼓励一下 🧧</span></button></div></div><footer class=post-footer><nav class=paginav><a class=prev href=https://abeelan.github.io/posts/tech/andorid/android%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/><span class=title>« 上一页</span><br><span>Android - 设备远程连接方式</span></a>
<a class=next href=https://abeelan.github.io/posts/read/c++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/><span class=title>下一页 »</span><br><span>《C++程序设计》个人笔记</span></a></nav></footer></div><style>.comments_details summary::marker{font-size:20px;content:'👉展开评论';color:var(--content)}.comments_details[open] summary::marker{font-size:20px;content:'👇关闭评论';color:var(--content)}</style><div><details class=comments_details><summary style="cursor:pointer;margin:50px 0 20px;width:130px"><span style=font-size:20px;color:var(--content)>...</span></summary><div id=tcomment></div></details><script src=https://cdn.staticfile.org/twikoo/1.5.8/twikoo.all.min.js></script><script>twikoo.init({envId:null,el:"#tcomment",lang:'zh-CN',region:"ap-beijing",path:window.TWIKOO_MAGIC_PATH||window.location.pathname})</script></div></article></main><footer class=footer><span>Copyright
&copy;
-2023
<a href=https://abeelan.github.io/ style=color:#939393>ABEE</a>
All Rights Reserved</span>
<a href=https://beian.miit.gov.cn/ target=_blank style=color:#939393></a>&nbsp;
<span><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=null" style=display:inline-block;text-decoration:none;height:20px;color:#939393><img src style="float:left;margin:0 5px 0 0"></a></span>
<span id=busuanzi_container><span class="fa fa-user"></span><span id=busuanzi_value_site_uv></span><span class="fa fa-eye"></span><span id=busuanzi_value_site_pv></span></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg><span id=read_progress></span></span></a><script>document.addEventListener('scroll',function(e){const a=document.getElementById("read_progress"),b=document.documentElement.scrollHeight,c=document.documentElement.clientHeight,d=document.documentElement.scrollTop||document.body.scrollTop;a.innerText=((d/(b-c)).toFixed(2)*100).toFixed(0)})</script><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>let mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>200||document.documentElement.scrollTop>200?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{(function(){document.cookie="change-themes="+escape("false")})(),document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><script>document.body.addEventListener('copy',function(a){if(window.getSelection().toString()&&window.getSelection().toString().length>50){let b=a.clipboardData||window.clipboardData;if(b){a.preventDefault();let c=window.getSelection().toString()+'\r\n\n————————————————\r\n'+'版权声明：本文为「'+"ABEE"+'」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。'+'\r\n原文链接：'+location.href,d=window.getSelection().toString()+'\r\n\n————————————————\r\n'+'版权声明：本文为「'+"ABEE"+'」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。'+'\r\n原文链接：'+location.href;b.setData('text/html',c),b.setData('text/plain',d)}}})</script><script>document.querySelectorAll('pre > code').forEach(c=>{const d=c.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='📄 复制';function i(){a.innerText='👌🏻 已复制!',setTimeout(()=>{a.innerText='📄 复制'},2e3)}a.addEventListener('click',d=>{if('clipboard'in navigator){let a=c.textContent+'\r\n————————————————\r\n'+'版权声明：本文为「'+"ABEE"+'」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。'+'\r\n原文链接：'+location.href;navigator.clipboard.writeText(a),i();return}const a=document.createRange();a.selectNodeContents(c);const b=window.getSelection();b.removeAllRanges(),b.addRange(a);try{document.execCommand('copy'),i()}catch(a){}b.removeRange(a)});let j=c.className.replaceAll("language-",""),b=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("div"),e=document.createElement("div");e.innerText=j,b.setAttribute('class','mac-tool'),f.setAttribute('class','mac bb1'),g.setAttribute('class','mac bb2'),h.setAttribute('class','mac bb3'),e.setAttribute('class','language-type'),b.appendChild(f),b.appendChild(g),b.appendChild(h),b.appendChild(e),d.classList.contains("highlight")?(d.appendChild(a),d.appendChild(b)):d.parentNode.firstChild==d||(c.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?(c.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a),d.appendChild(b)):(c.parentNode.appendChild(a),d.appendChild(b)))})</script><script>$("code[class^=language] ").on("mouseover",function(){this.clientWidth<this.scrollWidth&&($(this).css("width","135%"),$(this).css("border-top-right-radius","var(--radius)"))}).on("mouseout",function(){$(this).css("width","100%"),$(this).css("border-top-right-radius","unset")})</script></body></html>