<!doctype html><html lang=zh-cn data-theme=light>
<head><meta charset=utf-8>
<meta name=viewport content="width=device-width">
<meta name=theme-color content="#336699" media="(prefers-color-scheme: light)">
<meta name=generator content="Hugo 0.89.0">
<link rel="shortcut icon" type=image/x-icon href=/imgs/favicon.ico>
<link rel=icon type=image/x-icon href=/imgs/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png>
<link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png>
<link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png>
<meta itemprop=name content="Docker - DockeråŸºç¡€">
<meta itemprop=description content="It's better late than never.">
<meta itemprop=datePublished zgotmplz>
<meta itemprop=dateModified zgotmplz>
<meta itemprop=image content="https://abeelan.github.io/imgs/avatar.png">
<meta itemprop=keywords content="Docker">
<meta property="og:type" content="article">
<meta property="og:title" content="Docker - DockeråŸºç¡€">
<meta property="og:description" content="It's better late than never.">
<meta property="og:image" content="/imgs/avatar.png">
<meta property="og:image:width" content="312">
<meta property="og:image:height" content="312">
<meta property="og:image:type" content="image/jpeg/png/svg/jpg">
<meta property="og:url" content="https://abeelan.github.io/tech/docker/docker-%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/">
<meta property="og:site_name" content="ABEE">
<meta property="og:locale" content="zh-CN">
<meta property="article:author" content="ABEE">
<meta property="article:published_time" content="2021-08-24 14:26:21 +0000 UTC">
<meta property="article:modified_time" content="2023-08-16 01:00:05 +0000 UTC">
<link type=text/css rel=stylesheet href=https://cdn.staticfile.org/font-awesome/6.1.2/css/all.min.css>
<link type=text/css rel=stylesheet href=https://cdn.staticfile.org/animate.css/3.1.1/animate.min.css>
<link type=text/css rel=stylesheet href=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.css>
<link rel=stylesheet href=/css/main.min.416f334245da30571f15db9831a2d6c55688e61dcb41988411ebe865602b54fd.css>
<style type=text/css>.post-footer,.flinks-list-footer hr:after{content:"~ æˆ‘å¯æ˜¯æœ‰åº•çº¿çš„å“Ÿ ~"}</style>
<script type=text/javascript>(function(){localDB={set:function(b,c,a){if(a===0)return;const d=new Date,e=a*864e5,f={value:c,expiry:d.getTime()+e};localStorage.setItem(b,JSON.stringify(f))},get:function(a){const b=localStorage.getItem(a);if(!b)return void 0;const c=JSON.parse(b),d=new Date;return d.getTime()>c.expiry?(localStorage.removeItem(a),void 0):c.value}},theme={active:function(){const a=localDB.get('theme');if(a==void 0)return;theme.toggle(a),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(a){theme.toggle(a.matches?'dark':'light')})},toggle:function(a){document.documentElement.setAttribute('data-theme',a),localDB.set('theme',a,2);const b=document.querySelector('iframe.giscus-frame');if(b){const c={setConfig:{theme:a}};b.contentWindow.postMessage({giscus:c},'https://giscus.app')}}},theme.active()})(window)</script>
<script class=next-config data-name=page type=application/json>{"comments":true,"isHome":false,"isPage":true,"path":"docker-%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0","permalink":"https://abeelan.github.io/tech/docker/docker-%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/","title":"Docker - DockeråŸºç¡€"}</script>
<script type=text/javascript>document.addEventListener('DOMContentLoaded',()=>{var a=document.createElement('script');a.charset="UTF-8",a.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",a.async=!1,a.defer=!0,document.head.appendChild(a),a.onload=function(){NexT.utils.fmtBusuanzi()}})</script>
<title>Docker - DockeråŸºç¡€ - ABEE</title>
<noscript>
<link rel=stylesheet href=/css/noscript.css>
</noscript>
</head>
<body itemscope itemtype=http://schema.org/WebPage class=use-motion>
<div class=headband></div>
<main class=main>
<header class=header itemscope itemtype=http://schema.org/WPHeader>
<div class=header-inner>
<div class=site-brand-container>
<div class=site-nav-toggle>
<div class=toggle aria-label=åˆ‡æ¢å¯¼èˆªæ  role=button>
<span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span>
</div>
</div>
<div class=site-meta>
<a href=/ class=brand rel=start>
<i class=logo-line></i>
<h1 class=site-title>ABEE</h1>
<i class=logo-line></i>
</a>
<p class=site-subtitle itemprop=description>ä¸ªäººå·¥ä½œ/å­¦ä¹ ç¬”è®° ğŸ“’</p>
</div>
<div class=site-nav-right>
<div class="toggle popup-trigger">
<i class="fa fa-search fa-fw fa-lg"></i>
</div>
</div>
</div>
<nav class=site-nav>
<ul class="main-menu menu">
<li class="menu-item menu-item-home">
<a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>ä¸»é¡µ
</a>
</li>
<li class="menu-item menu-item-about">
<a href=/about/ class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>å…³äº
</a>
</li>
<li class="menu-item menu-item-archives">
<a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>å½’æ¡£
<span class=badge>293</span>
</a>
</li>
<li class="menu-item menu-item-search">
<a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>æœç´¢
</a>
</li>
</ul>
</nav>
<div class=search-pop-overlay>
<div class="popup search-popup">
<div class=search-header>
<span class=search-icon>
<i class="fa fa-search"></i>
</span>
<div class=search-input-container>
<input autocomplete=off autocapitalize=off maxlength=80 placeholder=æœç´¢... spellcheck=false type=search class=search-input>
</div>
<span class=popup-btn-close role=button>
<i class="fa fa-times-circle"></i>
</span>
</div>
<div class="search-result-container no-result">
<div class=search-result-icon>
<i class="fa fa-spinner fa-pulse fa-5x"></i>
</div>
</div>
</div>
</div>
</div>
<div class="toggle sidebar-toggle" role=button>
<span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span>
</div>
<aside class=sidebar>
<div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
<ul class=sidebar-nav>
<li class=sidebar-nav-toc>
æ–‡ç« ç›®å½•
</li>
<li class=sidebar-nav-overview>
ç«™ç‚¹æ¦‚è§ˆ
</li>
</ul>
<div class=sidebar-panel-container>
<div class="post-toc-wrap sidebar-panel">
<div class="post-toc animated"><nav id=TableOfContents>
<ul>
<li><a href=#ä»‹ç»>ä»‹ç»</a>
<ul>
<li><a href=#ç»„æˆéƒ¨åˆ†>ç»„æˆéƒ¨åˆ†</a></li>
<li><a href=#ä¼˜ç‚¹>ä¼˜ç‚¹</a></li>
<li><a href=#ä¸è™šæ‹Ÿæœºçš„åŒºåˆ«>ä¸è™šæ‹Ÿæœºçš„åŒºåˆ«</a></li>
</ul>
</li>
<li><a href=#å®‰è£…ä¸é…ç½®>å®‰è£…ä¸é…ç½®</a></li>
<li><a href=#å‘½ä»¤>å‘½ä»¤</a>
<ul>
<li><a href=#åŸºæœ¬å‘½ä»¤>åŸºæœ¬å‘½ä»¤</a></li>
<li><a href=#é•œåƒç®¡ç†>é•œåƒç®¡ç†</a></li>
<li><a href=#å®¹å™¨ç®¡ç†>å®¹å™¨ç®¡ç†</a></li>
<li><a href=#å®¹å™¨ç½‘ç»œ>å®¹å™¨ç½‘ç»œ</a></li>
<li><a href=#å®¹å™¨å¯åŠ¨å‚æ•°è§£é‡Š>å®¹å™¨å¯åŠ¨å‚æ•°è§£é‡Š</a>
<ul>
<li><a href=#ç«¯å£æ˜ å°„-p>ç«¯å£æ˜ å°„ï¼ˆ-pï¼‰</a></li>
<li><a href=#ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ--net-host>ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œï¼ˆ&ndash;net hostï¼‰</a></li>
<li><a href=#å®¹å™¨é—´ç½‘ç»œäº’é€š--net-containerå®¹å™¨å>å®¹å™¨é—´ç½‘ç»œäº’é€šï¼ˆ&ndash;net container:å®¹å™¨åï¼‰</a></li>
<li><a href=#ç¯å¢ƒå˜é‡-e>ç¯å¢ƒå˜é‡ï¼ˆ-eï¼‰</a></li>
<li><a href=#åå°æ‰§è¡Œ-d>åå°æ‰§è¡Œï¼ˆ-dï¼‰</a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#æ­å»º-web-æœåŠ¡å™¨-nginx>æ­å»º Web æœåŠ¡å™¨ Nginx</a>
<ul>
<li><a href=#nginx-ç®€ä»‹>Nginx ç®€ä»‹</a></li>
<li><a href=#è¿è¡Œ-nginx-å®¹å™¨>è¿è¡Œ Nginx å®¹å™¨</a></li>
</ul>
</li>
<li><a href=#æ­å»ºæµ‹è¯•ç”¨ä¾‹ç®¡ç†å¹³å°-testlink>æ­å»ºæµ‹è¯•ç”¨ä¾‹ç®¡ç†å¹³å° Testlink</a>
<ul>
<li><a href=#testlink-ç®€ä»‹>Testlink ç®€ä»‹</a></li>
<li><a href=#éƒ¨ç½²æ•°æ®åº“>éƒ¨ç½²æ•°æ®åº“</a></li>
<li><a href=#éƒ¨ç½²-testlink>éƒ¨ç½² Testlink</a></li>
</ul>
</li>
<li><a href=#æ­å»ºæŒç»­é›†æˆå¹³å°-jenkins>æ­å»ºæŒç»­é›†æˆå¹³å° Jenkins</a>
<ul>
<li><a href=#ç®€ä»‹>ç®€ä»‹</a></li>
<li><a href=#éƒ¨ç½²-jenkins>éƒ¨ç½² Jenkins</a></li>
</ul>
</li>
<li><a href=#dcoekr-compose>Dcoekr-compose</a>
<ul>
<li><a href=#ç®€ä»‹-1>ç®€ä»‹</a></li>
<li><a href=#å®‰è£…>å®‰è£…</a></li>
<li><a href=#å¸¸ç”¨å‘½ä»¤>å¸¸ç”¨å‘½ä»¤</a></li>
<li><a href=#æ¼”ç¤º>æ¼”ç¤º</a>
<ul>
<li></li>
</ul>
</li>
</ul>
</li>
<li><a href=#docker-registry>Docker registry</a>
<ul>
<li><a href=#ç®€ä»‹-2>ç®€ä»‹</a></li>
<li><a href=#è¿è¡Œ>è¿è¡Œ</a></li>
<li><a href=#æ¼”ç¤º-1>æ¼”ç¤º</a></li>
</ul>
</li>
<li><a href=#dockerfile>dockerfile</a>
<ul>
<li><a href=#ç®€ä»‹-3>ç®€ä»‹</a></li>
<li><a href=#å¸¸ç”¨æŒ‡ä»¤>å¸¸ç”¨æŒ‡ä»¤</a></li>
<li><a href=#æ¼”ç¤º-2>æ¼”ç¤º</a>
<ul>
<li></li>
</ul>
</li>
</ul>
</li>
<li><a href=#é•œåƒæ„å»º>é•œåƒæ„å»º</a>
<ul>
<li><a href=#ç®€ä»‹-4>ç®€ä»‹</a></li>
<li><a href=#docker-commit>docker commit</a></li>
<li><a href=#docker-build>docker build</a></li>
</ul>
</li>
</ul>
</nav></div>
</div>
<div class="site-overview-wrap sidebar-panel">
<div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person>
<img class=site-author-image itemprop=image alt=ABEE src=/imgs/img-lazy-loading.gif data-src=/imgs/avatar.png>
<p class=site-author-name itemprop=name>ABEE</p>
<div class=site-description itemprop=description>It's better late than never.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
<nav class=site-state>
<div class="site-state-item site-state-posts">
<a href=/archives/>
<span class=site-state-item-count>293</span>
<span class=site-state-item-name>å¸–å­</span>
</a>
</div>
<div class="site-state-item site-state-categories">
<a href=/categories/>
<span class=site-state-item-count>26</span>
<span class=site-state-item-name>åˆ†ç±»</span>
</a>
</div>
<div class="site-state-item site-state-tags">
<a href=/tags/>
<span class=site-state-item-count>26</span>
<span class=site-state-item-name>æ ‡ç­¾</span>
</a>
</div>
</nav>
</div>
<div class="links-of-social site-overview-item animated">
<span class=links-of-social-item>
<a href=https://github.com/abeelan title="Github â†’ https://github.com/abeelan" rel=noopener class=hvr-icon-pulse target=_blank>
<i class="fab fa-github fa-fw hvr-icon"></i>Github
</a>
</span>
</div>
</div>
</div>
</div>
<div id=siteinfo-card-widget class=sidebar-card-widget>
<div class=item-headline>
<i class="fas fa-chart-line"></i>
<span>ç½‘ç«™èµ„è®¯</span>
</div>
<div class=siteinfo>
<div class=siteinfo-item>
<div class=item-name><i class="fa-solid fa-calendar-check"></i>å·²è¿è¡Œï¼š</div>
<div class=item-count id=runTimes data-publishdate=2023-06-01T17:50:58+00:00></div>
</div>
<div class=siteinfo-item>
<div class=item-name>
<i class="fas fa fa-user"></i>æ€»è®¿å®¢æ•°ï¼š
</div>
<div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div>
</div>
<div class=siteinfo-item>
<div class=item-name>
<i class="fas fa fa-eye"></i>é¡µé¢æµè§ˆï¼š
</div>
<div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div>
</div>
<div class=siteinfo-item>
<div class=item-name><i class="fa fa-font"></i>æ€»å­—æ•°ï¼š</div>
<div class=item-count id=wordsCount data-count=315514></div>
</div>
<div class=siteinfo-item>
<div class=item-name><i class="fa fa-mug-hot"></i>é˜…è¯»çº¦ï¼š</div>
<div class=item-count id=readTimes data-times=795></div>
</div>
<div class=siteinfo-item>
<div class=item-name><i class="fa fa-clock-rotate-left"></i>æœ€åæ›´æ–°äºï¼š</div>
<div class=item-count id=last-push-date data-lastpushdate=2023-07-11T15:02:37+00:00></div>
</div>
</div>
</div>
</aside>
<div class=sidebar-dimmer></div>
</header>
<div class=tool-buttons>
<div id=goto-comments class="button goto-comments" title=ç›´è¾¾è¯„è®º>
<i class="fas fa-comments"></i>
</div>
<div id=toggle-theme class=button title=æ·±æµ…æ¨¡å¼åˆ‡æ¢>
<i class="fas fa-adjust"></i>
</div>
<div class=back-to-top role=button title=è¿”å›é¡¶éƒ¨>
<i class="fa fa-arrow-up"></i>
<span>0%</span>
</div>
</div>
<div class=reading-progress-bar></div>
<a role=button class="book-mark-link book-mark-link-fixed"></a>
<noscript>
<div class=noscript-warning>Theme NexT works best with JavaScript enabled</div>
</noscript>
<div class="main-inner post posts-expand">
<div class=post-block>
<article itemscope itemtype=http://schema.org/Article class=post-content lang>
<link itemprop=mainEntityOfPage href=https://abeelan.github.io/tech/docker/docker-%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/>
<span hidden itemprop=author itemscope itemtype=http://schema.org/Person>
<meta itemprop=image content="/imgs/avatar.png">
<meta itemprop=name content="ABEE">
</span>
<span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization>
<meta itemprop=name content="ABEE">
<meta itemprop=description content="It's better late than never.">
</span>
<span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork>
<meta itemprop=name content="Docker - DockeråŸºç¡€">
<meta itemprop=description content="Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼ŒåŸºäº GO è¯­è¨€å¼€å‘ï¼Œå¯ä»¥è®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ç³»ç»Ÿï¼Œä¹Ÿå¯">
</span>
<header class=post-header>
<h1 class=post-title itemprop="name headline">Docker - DockeråŸºç¡€ </h1>
<div class=post-meta-container>
<div class=post-meta-items>
<span class=post-meta-item>
<span class=post-meta-item-icon>
<i class="far fa-calendar"></i>
</span>
<span class=post-meta-item-text>å‘è¡¨äºï¼š</span>
<time title="å‘è¡¨äºï¼š2021-08-24 14:26:21 +0000 UTC" itemprop="dateCreated datePublished" datetime="2021-08-24 14:26:21 +0000 UTC">2021-08-24</time>
</span>
<span class=post-meta-item>
<span class=post-meta-item-icon>
<i class="far fa-calendar-check"></i>
</span>
<span class=post-meta-item-text>æ›´æ–°äºï¼š</span>
<time title=ä¿®æ”¹æ—¶é—´ï¼š2023-08-16T01:00:05+00:00 itemprop=dateModified datetime=2023-08-16T01:00:05+00:00>2023-08-16</time>
</span>
<span class=post-meta-item>
<span class=post-meta-item-icon>
<i class="far fa-folder-open"></i>
</span>
<span class=post-meta-item-text>åˆ†ç±»äºï¼š</span>
<span itemprop=about itemscope itemtype=http://schema.org/Thing>
<a href=/categories/docker itemprop=url rel=index>
<span itemprop=name>Docker</span>
</a>
</span>
</span>
</div>
<div class=post-meta-items>
<span class=post-meta-item title=å­—æ•°>
<span class=post-meta-item-icon>
<i class="far fa-file-word"></i>
</span>
<span class=post-meta-item-text>å­—æ•°ï¼š</span><span>5324</span>
</span>
<span class=post-meta-item title=é˜…è¯»>
<span class=post-meta-item-icon>
<i class="far fa-clock"></i>
</span>
<span class=post-meta-item-text>é˜…è¯»ï¼š&ap;</span>
<span>11åˆ†é’Ÿ</span>
</span>
<span class=post-meta-item title=æµè§ˆ>
<span class=post-meta-item-icon>
<i class="far fa-eye"></i>
</span>
<span class=post-meta-item-text>
æµè§ˆï¼š
</span>
<span id=busuanzi_value_page_pv data-path=/tech/docker/docker-%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/>
<i class="fa fa-sync fa-spin"></i>
</span>
</span>
</div>
</div>
</header>
<div class="post-body autonumber" itemprop=articleBody>
<blockquote>
<p>Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼ŒåŸºäº GO è¯­è¨€å¼€å‘ï¼Œå¯ä»¥è®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚</p>
<p>å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶,ç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ã€‚</p>
<p>æ¨èä¸é”™çš„æ•™ç¨‹åœ°å€:
<a href=https://yeasy.gitbook.io/docker_practice/ title=https://yeasy.gitbook.io/docker_practice/ rel="noopener external nofollow noreferrer" target=_blank class=exturl>
https://yeasy.gitbook.io/docker_practice/
<i class="fa fa-external-link-alt"></i>
</a></p>
</blockquote>
<h2 id=ä»‹ç»>ä»‹ç»</h2>
<h3 id=ç»„æˆéƒ¨åˆ†>ç»„æˆéƒ¨åˆ†</h3>
<ul>
<li>Docker Clientï¼šå®¢æˆ·ç«¯ï¼Œå‘½ä»¤è¡Œ</li>
<li>Docker Daemonï¼šæœåŠ¡ç«¯å®ˆæŠ¤è¿›ç¨‹ï¼Œæ¥å—å¹¶å¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„æ¶ˆæ¯</li>
<li>Docker Imageï¼šé•œåƒï¼Œç›¸å½“äºé¢å‘å¯¹è±¡ç¼–ç¨‹ <strong>ç±»</strong> çš„æ¦‚å¿µ</li>
<li>Docker Containerï¼šå®¹å™¨ï¼Œç›¸å½“äºé¢å‘å¯¹è±¡ç¼–ç¨‹ <strong>å¯¹è±¡</strong> çš„æ¦‚å¿µ</li>
</ul>
<p><strong>é•œåƒï¼ˆDocker Imagesï¼‰</strong></p>
<p>ä¸€ä¸ªåªè¯»å±‚è¢«ç§°ä¸ºé•œåƒï¼Œä¸€ä¸ªé•œåƒæ˜¯æ°¸ä¹…ä¸ä¼šå˜çš„ã€‚å› ä¸º Docker ä½¿ç”¨ç»Ÿä¸€æ–‡ä»¶ç³»ç»Ÿï¼ŒDocker è¿›ç¨‹è®¤ä¸ºæ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿæ˜¯ä»¥è¯»å†™æ–¹å¼æŒ‚è½½çš„ï¼Œç”±äºæ‰€æœ‰çš„å˜æ›´éƒ½å‘ç”Ÿåœ¨é¡¶å±‚çš„å¯å†™å±‚ï¼Œæ‰€ä»¥ä¸‹å±‚çš„åŸå§‹çš„åªè¯»é•œåƒæ–‡ä»¶å¹¶æœªå‘ç”Ÿå˜åŒ–ã€‚</p>
<p>æ¯ä¸€ä¸ªé•œåƒéƒ½å¯èƒ½ä¾èµ–ä¸€ä¸ªæˆ–è€…ç”±å¤šä¸ªä¸‹å±‚é•œåƒç»„æˆçš„å¦ä¸€ä¸ªé•œåƒï¼ˆAUFS æ–‡ä»¶ç³»ç»Ÿï¼‰ã€‚</p>
<p><strong>å®¹å™¨ï¼ˆDocker Containersï¼‰</strong></p>
<p>é•œåƒè¿è¡Œåçš„è¿›ç¨‹ã€‚å› ä¸º Docker çš„å®¹å™¨å®åœ¨å¤ªè½»é‡çº§äº†ï¼Œå¾ˆå¤šæ—¶å€™ç”¨æˆ·éƒ½æ˜¯éšç”¨éšå»ºï¼Œç”¨å®Œå³åˆ ã€‚</p>
<p><strong>ä»“åº“ï¼ˆDocker Registryï¼‰</strong></p>
<p>é›†ä¸­å­˜æ”¾é•œåƒçš„åœ°æ–¹ã€‚å®˜æ–¹æä¾›å…¬å…±ä»“åº“ï¼Œä¹Ÿæ”¯æŒæ­å»ºç§æœ‰é•œåƒä»“åº“ã€‚</p>
<p><img src=/imgs/img-lazy-loading.gif data-src=https://cdn.jsdelivr.net/gh/abeelan/image-hosting-service/img/image-20230815144323350.png alt=æ¶æ„å›¾></p>
<h3 id=ä¼˜ç‚¹>ä¼˜ç‚¹</h3>
<ul>
<li>å¿«é€Ÿäº¤ä»˜åº”ç”¨ã€‚åŠ å¿«æ‰“åŒ…æ—¶é—´ï¼ŒåŠ å¿«æµ‹è¯•ï¼ŒåŠ å¿«å‘å¸ƒï¼Œç¼©çŸ­å¼€å‘åŠè¿è¡Œä»£ç ä¹‹é—´çš„å‘¨æœŸï¼›</li>
<li>å¤æ‚ç¯å¢ƒç®¡ç†ï¼Œåº”ç”¨éš”ç¦»ã€‚ä¸åŒè½¯ä»¶è¿è¡Œç¯å¢ƒå…¼å®¹ä¾èµ–é—®é¢˜ï¼Œå¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒã€çº¿ä¸Šç¯å¢ƒä¸€è‡´ï¼›</li>
<li>è½»é‡çº§ã€‚å¯¹äºç³»ç»Ÿå†…æ ¸æ¥è¯´ï¼Œä¸€ä¸ª docker åªæ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªç³»ç»Ÿå¯ä»¥è¿è¡Œä¸Šåƒä¸ªå®¹å™¨ã€‚</li>
</ul>
<h3 id=ä¸è™šæ‹Ÿæœºçš„åŒºåˆ«>ä¸è™šæ‹Ÿæœºçš„åŒºåˆ«</h3>
<ul>
<li>å®¹å™¨ä¸å®¹å™¨ä¹‹é—´åªæ˜¯è¿›ç¨‹éš”ç¦»ï¼Œè€Œè™šæ‹Ÿæœºæ˜¯å®Œå…¨çš„èµ„æºéš”ç¦»ï¼›</li>
<li>è™šæ‹Ÿæœºçš„å¯åŠ¨éœ€è¦åˆ†é’Ÿçº§åˆ«ï¼ŒDocker å¯åŠ¨æ˜¯ç§’çº§æˆ–è€…æ›´çŸ­ï¼›</li>
<li>å®¹å™¨å…±äº«å®¿ä¸»æ“ä½œç³»ç»Ÿçš„å†…æ ¸ï¼Œå‡å°‘å†…æ ¸çš„å¼€é”€ï¼›è€Œè™šæ‹Ÿæœºä½¿ç”¨å®Œå…¨ç‹¬ç«‹çš„å†…æ ¸ã€‚</li>
</ul>
<h2 id=å®‰è£…ä¸é…ç½®>å®‰è£…ä¸é…ç½®</h2>
<p>å®˜ç½‘ä¸‹è½½ Desktopï¼šhttps://www.docker.com/products/docker-desktop</p>
<ol>
<li>æŸ¥çœ‹æœåŠ¡å™¨å‘è¡Œç‰ˆæœ¬</li>
</ol>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-Bash data-lang=Bash>$ cat /etc/centos-release
CentOS Linux release 7.9.2009 <span style=color:#f92672>(</span>Core<span style=color:#f92672>)</span>
</code></pre></div><ol start=2>
<li>æŸ¥çœ‹æœåŠ¡å™¨å†…æ ¸ç‰ˆæœ¬</li>
</ol>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-Bash data-lang=Bash><span style=color:#75715e># Docker è¦æ±‚ CentOS å†…æ ¸ç‰ˆæœ¬é«˜äº 3.10</span>
$ uname -a
3.10.0-1160.el7.x86_64
</code></pre></div><ol start=3>
<li>ä¸‹è½½å¯¹åº”ä¾èµ–åŒ…</li>
</ol>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-Bash data-lang=Bash><span style=color:#75715e># -y ä¸è¯¢é—®ç›´æ¥å®‰è£…</span>
$ yum install -y yum-utils device-mapper-persistent-data lvm2
...
Complete!
</code></pre></div><p><strong>yum-utils</strong> åŒ…æä¾›<code>yum-config-manager</code>å‘½ä»¤ï¼Œè¯¥å‘½ä»¤æ˜¯å¯¹èµ„æºåº“ï¼ˆ/etc/yum.repos.d/ï¼‰è¿›è¡Œå¢åˆ æ”¹æŸ¥ï¼Œç”¨äºè®¾ç½®ä¸‹è½½æºã€‚ç³»ç»Ÿé»˜è®¤æ²¡æœ‰å®‰è£…ã€‚</p>
<p>Device Mapper æ˜¯ä¸€ä¸ªåŸºäºå†…æ ¸çš„æ¡†æ¶ï¼Œå®ƒæ”¯æŒ Linux ä¸Šçš„è®¸å¤šé«˜çº§å·ç®¡ç†æŠ€æœ¯ã€‚Docker çš„
<a href=https://docs.docker.com/storage/storagedriver/device-mapper-driver/ title=devicemapper rel="noopener external nofollow noreferrer" target=_blank class=exturl>
devicemapper
<i class="fa fa-external-link-alt"></i>
</a> å­˜å‚¨é©±åŠ¨ç¨‹åºåˆ©ç”¨æ­¤æ¡†æ¶çš„ç²¾ç®€é…ç½®å’Œå¿«ç…§åŠŸèƒ½æ¥è¿›è¡Œæ˜ åƒå’Œå®¹å™¨ç®¡ç†ã€‚</p>
<blockquote>
<p>devicemapper requires the <strong>lvm2</strong> and <strong>device-mapper-persistent-data</strong> packages to be installed.</p>
</blockquote>
<ol start=4>
<li>è®¾ç½® docker ä¸‹è½½æº</li>
</ol>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-Bash data-lang=Bash>$ yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
...
repo saved to /etc/yum.repos.d/docker-ce.repo
</code></pre></div><ol start=5>
<li>ä¸‹è½½å®‰è£… docker</li>
</ol>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-text data-lang=text>$ yum -y install docker-ce
docker-ce.x86_64 3:20.10.12-3.el7 
...
Complete!
</code></pre></div><ol start=6>
<li>éªŒè¯ docker å®‰è£…æˆåŠŸ</li>
</ol>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-Bash data-lang=Bash><span style=color:#75715e># æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯</span>
$ docker version
Client: Docker Engine - Community
...
Server: Docker Engine - Community
...

<span style=color:#75715e># æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</span>
$ dcoker info
...
</code></pre></div><ol start=7>
<li>è®¾ç½®å¼€æœºè‡ªå¯åŠ¨</li>
</ol>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-Bash data-lang=Bash><span style=color:#75715e># centOS</span>
$ systemctl start docker
$ systemctl enable docker
</code></pre></div><ul>
<li>ubantu è‡ªåŠ¨å¯åŠ¨ï¼Œæ— éœ€è®¾ç½®</li>
<li>MacOS å’Œ Windows é€šè¿‡æ¡Œé¢ç‰ˆå¯åŠ¨</li>
</ul>
<ol start=8>
<li>é…ç½®é•œåƒä»“åº“å›½å†…æº</li>
</ol>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-Bash data-lang=Bash><span style=color:#75715e># é˜¿é‡Œäº‘éœ€è¦è‡ªå·±å»ç”³è¯·ï¼Œxxx ä¸ºç”³è¯·çš„ key</span>
<span style=color:#75715e># https://account.aliyun.com</span>

<span style=color:#75715e># å°†æºåœ°å€å†™å…¥é…ç½®æ–‡ä»¶</span>
$ tee /etc/docker/daemon.json <span style=color:#e6db74>&lt;&lt;-&#39;EOF&#39;
</span><span style=color:#e6db74>{
</span><span style=color:#e6db74>    &#34;registry-mirrors&#34;:[
</span><span style=color:#e6db74>        &#34;https://xxx.mirror.aliyuncs.com&#34;,
</span><span style=color:#e6db74>        &#34;https://registry.docker-cn.com&#34;,
</span><span style=color:#e6db74>        &#34;http://hub-mirror.c.163.com&#34;
</span><span style=color:#e6db74>    ]
</span><span style=color:#e6db74>}
</span><span style=color:#e6db74>EOF</span>

<span style=color:#75715e># é‡å¯ç”Ÿæ•ˆ</span>
$ systemctl daemon-reload
$ systemctl restart docker

<span style=color:#75715e># éªŒè¯æº</span>
$ docker info
...
Registry Mirrors:
  https://xxx.mirror.aliyuncs.com/
  https://registry.docker-cn.com/
  http://hub-mirror.c.163.com/
</code></pre></div><h2 id=å‘½ä»¤>å‘½ä»¤</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># CentOS å¯åŠ¨ docker æœåŠ¡</span>
$ systemctl start docker
$ systemctl restart docker 
$ ststemctl enable docker  <span style=color:#75715e># å¼€æœºè‡ªå¯åŠ¨</span>

<span style=color:#75715e># ubantu è‡ªåŠ¨å¯åŠ¨</span>
<span style=color:#75715e># MacOS å’Œ Windows é€šè¿‡æ¡Œé¢ç‰ˆå¯åŠ¨</span>
</code></pre></div><h3 id=åŸºæœ¬å‘½ä»¤>åŸºæœ¬å‘½ä»¤</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯</span>
$ docker version
<span style=color:#75715e># æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</span>
$ dcoker info
</code></pre></div><h3 id=é•œåƒç®¡ç†>é•œåƒç®¡ç†</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=color:#75715e># æŸ¥çœ‹æ‰€æœ‰é•œåƒ</span>
$ docker images
<span style=color:#75715e># æœç´¢é•œåƒ</span>
$ docker search jenkins
<span style=color:#75715e># æ‹‰å–é•œåƒï¼Œé»˜è®¤æœ€æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥æŒ‡å®šç‰ˆæœ¬</span>
$ docker pull jenkins:latest
<span style=color:#75715e># å¯¼å‡ºé•œåƒ</span>
$ docker save jenkins:latest &gt; jenkins.tar
<span style=color:#75715e># å¯¼å‡ºé•œåƒ</span>
$ docker load &lt; jenkins.tar
<span style=color:#75715e># åˆ é™¤é•œåƒ</span>
$ docker rmi jenkins:latest
<span style=color:#75715e># ä¿®æ”¹é•œåƒæ ‡ç­¾å</span>
$ docker tag jenkins:latest jenkins:test
<span style=color:#75715e># æŸ¥çœ‹é•œåƒåˆ›å»ºå±‚ä¿¡æ¯</span>
$ docker history jenkins

<span style=color:#75715e># æŸ¥çœ‹é•œåƒå ç”¨ç£ç›˜ç©ºé—´</span>
$ docker system df -v
<span style=color:#75715e># SIZE é•œåƒæ‰€æœ‰å±‚åŠ èµ·æ¥å ç”¨çš„ç©ºé—´</span>
<span style=color:#75715e># SHARE SIZE ä¸å…¶ä»–é•œåƒå…±äº«çš„é•œåƒå±‚å ç”¨ç©ºé—´å¤§å°</span>
<span style=color:#75715e># UNIQUE SIZE é•œåƒç‹¬å å±‚çš„ç©ºé—´å¤§å°</span>
<span style=color:#75715e># æ‰€ä»¥ï¼Œç†è®ºä¸Š Share size è¶Šå¤§è¶Šå¥½ï¼Œunique size è¶Šå°è¶Šå¥½ï¼›å¤ç”¨æ‰æœ€å¥½</span>
</code></pre></div><h3 id=å®¹å™¨ç®¡ç†>å®¹å™¨ç®¡ç†</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># è¿è¡Œå®¹å™¨ï¼›-d åœ¨åå°è¿è¡Œ</span>
$ docker run -d --name<span style=color:#f92672>=</span>mysql:latest

<span style=color:#75715e># æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨</span>
$ docker ps
$ docker ps -a

<span style=color:#75715e># æŸ¥çœ‹å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹</span>
$ docker top mysql

<span style=color:#75715e># æŸ¥çœ‹èµ„æºå ç”¨</span>
$ docker stats mysql 

<span style=color:#75715e># å®¹å™¨æ“ä½œ</span>
$ docker start mysql
$ docker restart mysql
$ docker stop mysql
$ docker kill mysql

<span style=color:#75715e># æš‚åœ/æ¢å¤å®¹å™¨</span>
$ docker pause mysql
$ docker unpause mysql

<span style=color:#75715e># åˆ é™¤å®¹å™¨</span>
$ docker rm mysql    <span style=color:#75715e># è¿è¡ŒçŠ¶æ€çš„å®¹å™¨ä¼šåˆ é™¤å¤±è´¥</span>
$ docker rm -f mysql <span style=color:#75715e># å¼ºåˆ¶åˆ é™¤å®¹å™¨</span>

<span style=color:#75715e># æŸ¥çœ‹å®¹å™¨è¿è¡Œæ—¥å¿—</span>
$ docker logs -f <span style=color:#f92672>{</span>CONTAINER_ID<span style=color:#f92672>}</span>

<span style=color:#75715e># æ‰§è¡Œå‘½ä»¤(-i äº¤äº’å¼ -t ç»ˆç«¯æ–¹å¼)</span>
$ docker exec -it mysql bash

<span style=color:#75715e># å¤åˆ¶æ–‡ä»¶</span>
$ docker cp mysql:/var/tmp .
$ docker cp a.txt mysql:/tmp

<span style=color:#75715e># æŸ¥çœ‹å®¹å™¨/é•œåƒå…ƒä¿¡æ¯ï¼›åŒ…å« PIDã€IP ç­‰ç­‰</span>
$ docker insepct mysql
<span style=color:#75715e># æ ¼å¼åŒ–è¾“å‡ºæå–åˆ›å»ºæ—¶é—´</span>
$ docker inspect -f <span style=color:#e6db74>&#39;{{.Created}}&#39;</span> mysql 
<span style=color:#75715e># æŸ¥çœ‹æŒ‚è½½ç›®å½•</span>
$ docker inspect --format <span style=color:#e6db74>&#34;{{.Config.Volumes}}&#34;</span>  
<span style=color:#75715e># æŸ¥çœ‹è¿è¡ŒçŠ¶æ€</span>
$ docker inspect --format <span style=color:#e6db74>&#39;{{.Name}} {{.State.Running}}&#39;</span> mysql 
<span style=color:#75715e># æŸ¥çœ‹ IP åœ°å€ </span>
$ docker inspect --format<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{{.NetworkSettings.IPAddress}}&#39;</span> mysql  

<span style=color:#75715e># æŸ¥çœ‹å®¹å™¨å†…æ–‡ä»¶ç»“æ„å˜åŒ–</span>
$ docker diff mysql
</code></pre></div><p>åœ¨æœåŠ¡å™¨ä¸ŠæŸ¥çœ‹å½“å‰ docker å®¹å™¨ï¼Œä¼šæŠ˜è¡Œå±•ç¤ºï¼Œçœ‹ç€å¾ˆä¹±ï¼›ç½‘ä¸Šæ²¡æ‰¾åˆ°ç›¸å…³çš„ç¾åŒ–å‘½ä»¤è¡Œå·¥å…·ï¼Œé€šè¿‡æ ¼å¼åŒ–è¾“å‡ºä¿¡æ¯å®ç°ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=color:#75715e># åŠæ³•ä¸€ï¼šé€šè¿‡ less å‘½ä»¤å®ç°</span>
<span style=color:#75715e># -eï¼šæ–‡ä»¶å†…å®¹æ˜¾ç¤ºå®Œæ¯•åï¼ŒæŒ‰ä»»æ„é”®é€€å‡º</span>
<span style=color:#75715e># -Sï¼šåœ¨å•è¡Œæ˜¾ç¤ºè¾ƒé•¿çš„å†…å®¹ï¼Œè€Œä¸æ¢è¡Œæ˜¾ç¤º</span>
<span style=color:#75715e># -Nï¼šæ¯ä¸€è¡Œè¡Œé¦–æ˜¾ç¤ºè¡Œå·</span>
$ docker ps | less -SNe

<span style=color:#75715e># åŠæ³•äºŒï¼šé€šè¿‡ docker format å®ç°</span>
<span style=color:#75715e># 1. å°†ä»¥ä¸‹å‡½æ•° å†™å…¥ç¯å¢ƒå˜é‡</span>
$ vim /etc/profile
docker-ps<span style=color:#f92672>(){</span>
    docker ps $1 --format <span style=color:#e6db74>&#34;table {{.ID}}\t{{.Names}}\t{{.Image}}\t{{.Status}}\t{{.Ports}}&#34;</span>
<span style=color:#f92672>}</span>
<span style=color:#75715e># 2. é‡æ–°ç™»å½•è¯¥ç”¨æˆ·æˆ–è€… `source` ç¯å¢ƒå˜é‡å³å¯ã€‚</span>
$ source ~/.bash_profile
<span style=color:#75715e># 3. æŒ‰æŒ‡å®šå­—æ®µå±•ç¤ºä¿¡æ¯ï¼Œè¿™é‡Œçš„ docker-ps æ˜¯è‡ªå®šä¹‰çš„ shell å‡½æ•°</span>
$ docker-ps
CONTAINER ID   NAMES       IMAGE     STATUS      PORTS
</code></pre></div><h3 id=å®¹å™¨ç½‘ç»œ>å®¹å™¨ç½‘ç»œ</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=color:#75715e># https://docs.docker.com/network</span>

<span style=color:#75715e># åˆ›å»ºç½‘æ¡¥ </span>
$ docker network create --driver bridge mynet

<span style=color:#75715e># æŸ¥çœ‹ç½‘æ¡¥åˆ—è¡¨</span>
$ docker network ls

<span style=color:#75715e># æŸ¥çœ‹ç½‘æ¡¥ä¿¡æ¯</span>
$ docker network inspect mynet

<span style=color:#75715e># æŸ¥çœ‹å®¹å™¨ç½‘ç»œä¿¡æ¯</span>
$ docker inspect --format<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{{json .NetworkSettings.Networks}}&#39;</span> my_container
</code></pre></div><h3 id=å®¹å™¨å¯åŠ¨å‚æ•°è§£é‡Š>å®¹å™¨å¯åŠ¨å‚æ•°è§£é‡Š</h3>
<h4 id=ç«¯å£æ˜ å°„-p>ç«¯å£æ˜ å°„ï¼ˆ-pï¼‰</h4>
<p>docker ä¼šåœ¨è™šæ‹Ÿçš„å®¹å™¨ç½‘ç»œå†…å¯åŠ¨å®¹å™¨ï¼Œå®¹å™¨ç½‘ç»œå†…çš„å®¹å™¨ä¹‹é—´å¯ä»¥äº’ç›¸é€šä¿¡ï¼Œå¤–éƒ¨æ— æ³•ä¸å®¹å™¨è¿›è¡Œé€šä¿¡ï¼Œæˆ‘ä»¬å¸Œæœ›å°†å®¿ä¸»æœºï¼ˆå¯åŠ¨å®¹å™¨çš„æœºå™¨ï¼‰ä½œä¸ºè·³æ¿ï¼Œè¿™æ ·ï¼Œç”¨æˆ·å¯ä»¥å°†ç½‘ç»œè¯·æ±‚å‘é€ç»™å®¿ä¸»æœºï¼Œå®¿ä¸»æœºå†è½¬å‘è¯·æ±‚åˆ°å®¹å™¨å®ç°é€šä¿¡ï¼Œæ‰€ä»¥éœ€è¦ç«¯å£æ˜ å°„ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell>$ docker run --name<span style=color:#f92672>=</span>hub -p 5001:4444
</code></pre></div><p>ç”¨æˆ·å°†è¯·æ±‚å‘é€åˆ°å®¿ä¸»æœºçš„ 5001 ç«¯å£ï¼Œå®¿ä¸»æœºå†è½¬å‘è¯·æ±‚åˆ°å®¹å™¨çš„ 4444 ç«¯å£ã€‚</p>
<h4 id=ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ--net-host>ä½¿ç”¨å®¿ä¸»æœºç½‘ç»œï¼ˆ&ndash;net hostï¼‰</h4>
<p>é€šè¿‡ &ndash;net æŒ‡å®š host å°±å¯ä»¥ä¸ç”¨å®¹å™¨ç½‘ç»œï¼Œç›´æ¥ä½¿ç”¨å®¿ä¸»æœºçš„ç½‘ç»œã€‚</p>
<h4 id=å®¹å™¨é—´ç½‘ç»œäº’é€š--net-containerå®¹å™¨å>å®¹å™¨é—´ç½‘ç»œäº’é€šï¼ˆ&ndash;net container:å®¹å™¨åï¼‰</h4>
<p>å®¹å™¨ A ä½¿ç”¨å®¹å™¨ B çš„ç½‘ç»œï¼›å®¹å™¨ ABCD ä½¿ç”¨å®¹å™¨ E çš„ç½‘ç»œ</p>
<h4 id=ç¯å¢ƒå˜é‡-e>ç¯å¢ƒå˜é‡ï¼ˆ-eï¼‰</h4>
<p>å¯åŠ¨å®¹å™¨æ—¶ï¼Œé€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œæ¥æ§åˆ¶å®¹å™¨è¡Œä¸ºã€‚å®¹å™¨å†…éƒ¨çš„ç¨‹åºä¼šè¯»å–ç¯å¢ƒå˜é‡ï¼Œç›¸å½“äºä¼ å‚ã€‚</p>
<p>æ¯”å¦‚ï¼Œé€šè¿‡ mysql é•œåƒå¯åŠ¨å®¹å™¨ï¼Œä¸çŸ¥é“ç”¨æˆ·æƒ³è®¾ç½®ä»€ä¹ˆè´¦å·å¯†ç ï¼Œé‚£ä¹ˆå°±é€šè¿‡ç¯å¢ƒå˜é‡æ¥è¿›è¡Œè®¾ç½®ã€‚</p>
<h4 id=åå°æ‰§è¡Œ-d>åå°æ‰§è¡Œï¼ˆ-dï¼‰</h4>
<p>å¦‚æœéåå°æ‰§è¡Œçš„è¯ï¼Œå…³é—­å½“å‰çª—å£æˆ–è€… ctrl+c ç»“æŸå‘½ä»¤åï¼Œè¯¥å®¹å™¨å°±ä¼šåœæ­¢è¿è¡Œï¼ŒæœåŠ¡åœæ‰ã€‚</p>
<h2 id=æ­å»º-web-æœåŠ¡å™¨-nginx>æ­å»º Web æœåŠ¡å™¨ Nginx</h2>
<h3 id=nginx-ç®€ä»‹>Nginx ç®€ä»‹</h3>
<p>Nginxï¼ˆå‘éŸ³åŒ engine xï¼‰æ˜¯ä¸€ä¸ªå¼‚æ­¥çš„ Web æœåŠ¡å™¨ï¼Œä¸»è¦æä¾› Web æœåŠ¡ã€åå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡å’Œ HTTP ç¼“å­˜åŠŸèƒ½ã€‚ç”± Igor Sysoev åˆ›å»ºäº 2004 å¹´ï¼Œä½¿ç”¨ C è¯­è¨€å¼€å‘ã€‚</p>
<p>åå‘ä»£ç†ï¼šæœåŠ¡å™¨å°†æ”¶åˆ°çš„è¯·æ±‚åˆ†å‘åˆ°å…¶ä»–æœåŠ¡å™¨</p>
<p>è´Ÿè½½å‡è¡¡ï¼šæµé‡å‡åŒ€çš„åˆ†å¸ƒåˆ°åç«¯çš„æœåŠ¡å™¨ä¸Š</p>
<p>HTTPç¼“å­˜ï¼šç¼“å­˜æœåŠ¡å™¨ï¼Œæé«˜ç”¨æˆ·è®¿é—®é€Ÿåº¦</p>
<h3 id=è¿è¡Œ-nginx-å®¹å™¨>è¿è¡Œ Nginx å®¹å™¨</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># æ‹‰å–</span>
$ docker pull nginx:1.17.9

<span style=color:#75715e># è¿è¡Œ</span>
<span style=color:#75715e># å°†å®¹å™¨çš„ 80 ç«¯å£æ˜ å°„åˆ°æœ¬æœºçš„ 80 ç«¯å£ï¼Œæµè§ˆå™¨è®¿é—®æœ¬æœº IP å³å¯çœ‹åˆ° nginx æ¬¢è¿é¡µ</span>
<span style=color:#75715e># é€€å‡ºåå°±ä¸èƒ½è®¿é—®äº†</span>
$ docker run -p 80:80 nginx:1.17.9
<span style=color:#75715e># -d åœ¨åå°è¿è¡Œ</span>
$ docker run -d --name nginx -p 80:80 nginx
6438442df9b325e8bfc5a8c5ff95dc21e599c0e885a7dbf5687d91c1f44045db
<span style=color:#75715e># -v æŒ‚è½½ç›®å½•ï¼Œåœ¨æœ¬åœ°çš„htmlç›®å½•ä¸‹æ·»åŠ æ–‡ä»¶ï¼Œè®¿é—®æœåŠ¡çš„ 8080 ç«¯å£å°±å¯ä»¥çœ‹åˆ°äº†</span>
$ docker run -d --name nginx -p 8080:80 -v <span style=color:#e6db74>${</span>PWD<span style=color:#e6db74>}</span>/nginx/html:/usr/share/nginx/html nginx:1.17.9
891e09a6bbb5e131f99cd3fe60dfb2687b0939c28ad614d017408ce74478b1a1
$ cd nginx/html
$ vi index.html
&lt;h1&gt;Everythin will be ok.&lt;/h1&gt;
<span style=color:#75715e># ä¿å­˜åï¼Œè®¿é—®æœ¬åœ°æœåŠ¡çš„8080ç«¯å£ï¼Œå³å¯çœ‹åˆ°é¡µé¢å±•ç¤º</span>
</code></pre></div><h2 id=æ­å»ºæµ‹è¯•ç”¨ä¾‹ç®¡ç†å¹³å°-testlink>æ­å»ºæµ‹è¯•ç”¨ä¾‹ç®¡ç†å¹³å° Testlink</h2>
<h3 id=testlink-ç®€ä»‹>Testlink ç®€ä»‹</h3>
<p>Testlink åŸºäº WEB çš„æµ‹è¯•ç”¨ä¾‹ç®¡ç†ç³»ç»Ÿï¼Œä¸»è¦åŠŸèƒ½æ˜¯æµ‹è¯•é¡¹ç›®ç®¡ç†ã€äº§å“éœ€æ±‚ç®¡ç†ã€æµ‹è¯•ç”¨ä¾‹ç®¡ç†ã€æµ‹è¯•è®¡åˆ’ç®¡ç†ã€æµ‹è¯•ç”¨ä¾‹çš„åˆ›å»ºã€ç®¡ç†å’Œæ‰§è¡Œï¼Œå¹¶ä¸”è¿˜æä¾›äº†ç»Ÿè®¡åŠŸèƒ½ã€‚</p>
<h3 id=éƒ¨ç½²æ•°æ®åº“>éƒ¨ç½²æ•°æ®åº“</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># åˆ›å»ºä¸€ä¸ªåä¸º testlink çš„å®¹å™¨ç½‘ç»œ</span>
$ docker network create testlink
<span style=color:#75715e># æŸ¥çœ‹å½“å‰å­˜åœ¨çš„å®¹å™¨ç½‘ç»œ</span>
$ docker network ls
NETWORK ID          NAME                DRIVER              SCOPE      å¤‡æ³¨ï¼ˆè‡ªå·±åŠ çš„ï¼‰
4deb334c55f6        bridge              bridge              local      æ¡¥æ¥ç½‘ç»œ
cf4fbaac0160        host                host                local      ä¸»æœºç½‘ç»œ
50027393c74d        none                null                local
6ac9853f1eab        testlink            bridge              local      åˆšæ‰æ–°å»ºçš„ç½‘ç»œ
<span style=color:#75715e># è¿è¡Œæ•°æ®åº“ï¼Œå¦‚æœæœ¬åœ°æ²¡æœ‰è¯¥é•œåƒçš„è¯ä¼šè‡ªåŠ¨å»ä¸‹è½½</span>
$ docker run -d --name mariadb -e MARIADB_ROOT_PASSWORD<span style=color:#f92672>=</span>mariadb -e MARIADB_USER<span style=color:#f92672>=</span>bn_testlink -e MARIADB_PASSWORD<span style=color:#f92672>=</span>bn_testlink -e MARIADB_DATABASE<span style=color:#f92672>=</span>bitnami_testlink --net testlink -v <span style=color:#e6db74>${</span>PWD<span style=color:#e6db74>}</span>/mariadb:/bitnami bitnami/mariadb:10.3.22

Unable to find image <span style=color:#e6db74>&#39;bitnami/mariadb:10.3.22&#39;</span> locally
10.3.22: Pulling from bitnami/mariadb
...
74dbf92d3ddca4d241f2b9022890445820f7e26e5324c352c90983515379bd65
</code></pre></div><h3 id=éƒ¨ç½²-testlink>éƒ¨ç½² Testlink</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># è¿è¡Œ testlink</span>
$ docker run -d -p 80:8080 -p 443:8443 --name testlink -e TESTLINK_DATABASE_USER<span style=color:#f92672>=</span>bn_testlink -e TESTLINK_DATABASE_PASSWORD<span style=color:#f92672>=</span>bn_testlink -e TESTLINK_DATABASE_NAME<span style=color:#f92672>=</span>bitnami_testlink --net testlink -v <span style=color:#e6db74>${</span>PWD<span style=color:#e6db74>}</span>/testlink:/bitnami bitnami/testlink:1.9.20

Unable to find image <span style=color:#e6db74>&#39;bitnami/testlink:1.9.20&#39;</span> locally
1.9.20: Pulling from bitnami/testlink
...
5e766b7f386db5c0bdb3adcb14c1daea6f5f9517f56dfc9af556fbcb4c6e1bc9
</code></pre></div><p>åœ¨æµè§ˆå™¨è®¿é—®æœ¬åœ° IP åœ°å€ï¼Œå³å¯æ­£å¸¸æµè§ˆç½‘é¡µã€‚</p>
<p>é»˜è®¤ç”¨æˆ·åï¼šuserï¼›é»˜è®¤å¯†ç ï¼šbitnamiã€‚</p>
<h2 id=æ­å»ºæŒç»­é›†æˆå¹³å°-jenkins>æ­å»ºæŒç»­é›†æˆå¹³å° Jenkins</h2>
<h3 id=ç®€ä»‹>ç®€ä»‹</h3>
<p>Jenkins æ˜¯å¼€æºçš„ CI&CD è½¯ä»¶é¢†å¯¼è€…ï¼Œæä¾›æŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜æœåŠ¡ï¼Œæœ‰è¶…è¿‡ 1000 ä¸ªæ’ä»¶æ¥æ”¯æŒæ„å»ºã€éƒ¨ç½²ã€è‡ªåŠ¨åŒ–ï¼Œæ»¡è¶³ä»»ä½•é¡¹ç›®çš„éœ€è¦ã€‚</p>
<h3 id=éƒ¨ç½²-jenkins>éƒ¨ç½² Jenkins</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># è¿è¡Œ</span>
$ docker run -d --name jenkins -p 8080:8080 jenkins/jenkins

Unable to find image <span style=color:#e6db74>&#39;jenkins/jenkins:latest&#39;</span> locally
latest: Pulling from jenkins/jenkins
...
0f2b01bf74d566fe6ea90790307ccd1de317f1095b1d3056a3986c0eaee8c856

<span style=color:#75715e># é¦–æ¬¡å¯åŠ¨éœ€è¦ç®¡ç†å‘˜å¯†ç ï¼Œé€šè¿‡æ—¥å¿—å¯ä»¥æŸ¥çœ‹</span>
$ docker logs -f jenkins
...
*************************************************************

Jenkins initial setup is required. An admin user has been created and a password generated.
Please use the following password to proceed to installation:

207e5af52d004e058e48e66c751b5086

This may also be found at: /var/jenkins_home/secrets/initialAdminPassword

*************************************************************
<span style=color:#75715e># ä¹Ÿå¯ä»¥å»æ–‡ä»¶å†…æŸ¥çœ‹é»˜è®¤å¯†ç </span>
$ docker exec -it jenkins cat /var/jenkins_home/secrets/initialAdminPassword
207e5af52d004e058e48e66c751b5086

<span style=color:#75715e># æŒ‚è½½ç›®å½•ï¼Œç”±äºå®¹å™¨åç§°ä¸èƒ½é‡å¤ï¼Œéœ€è¦åˆ é™¤ä¹‹å‰çš„å®¹å™¨æˆ–è€…æ›´æ¢åå­—</span>
$ docker run -d --name jenkins -p 8080:8080 -p 50000:50000 -v <span style=color:#e6db74>${</span>PWD<span style=color:#e6db74>}</span>/jenkins:/var/jenkins_home jenkins/jenkins
<span style=color:#75715e># å¦‚æœå¯åŠ¨å¤±è´¥ï¼Œæ·»åŠ ä¸‹æƒé™åé‡å¯å³å¯</span>
$ chmod <span style=color:#ae81ff>777</span> jenkins  
$ docker restart jenkins
</code></pre></div><h2 id=dcoekr-compose>Dcoekr-compose</h2>
<h3 id=ç®€ä»‹-1>ç®€ä»‹</h3>
<p>Docker-compose æ˜¯ç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨çš„ Docker åº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚é€šè¿‡ composeï¼Œå¯ä»¥ä½¿ç”¨ yaml æ–‡ä»¶æ¥é…ç½®åº”ç”¨ç¨‹åºçš„æœåŠ¡ã€‚compose çš„ä½¿ç”¨ä¸€èˆ¬åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<ol>
<li>ä½¿ç”¨ Dockerfile å®šä¹‰åº”ç”¨ç¨‹åºçš„ç¯å¢ƒï¼Œä»¥ä¾¿å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å¤åˆ¶å®ƒï¼›</li>
<li>åœ¨ docker-compose.yml ä¸­å®šä¹‰ç»„æˆåº”ç”¨ç¨‹åºçš„æœåŠ¡ï¼Œä»¥ä¾¿ä»–ä»¬å¯ä»¥åœ¨éš”ç¦»çš„ç¯å¢ƒä¸­ä¸€èµ·è¿è¡Œï¼›</li>
<li>è¿è¡Œ docker-compose upï¼Œç„¶å compose å¯åŠ¨å¹¶è¿è¡Œæ‚¨çš„æ•´ä¸ªåº”ç”¨ç¨‹åºã€‚</li>
</ol>
<h3 id=å®‰è£…>å®‰è£…</h3>
<p>macOSã€windwos ä¸Šçš„ Desktop ç‰ˆæœ¬ï¼Œé»˜è®¤å·²ç»å®‰è£…</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># éªŒè¯</span>
$ docker-compose version
docker-compose version 1.23.2, build 1110ad01
docker-py version: 3.6.0
CPython version: 3.6.6
OpenSSL version: OpenSSL 1.1.0h  <span style=color:#ae81ff>27</span> Mar <span style=color:#ae81ff>2018</span>
</code></pre></div><h3 id=å¸¸ç”¨å‘½ä»¤>å¸¸ç”¨å‘½ä»¤</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># æŸ¥çœ‹é…ç½®</span>
$ docker-compose config
<span style=color:#75715e># åå°å¯åŠ¨</span>
$ docker-compose up -d
<span style=color:#75715e># æ„å»ºé•œåƒ</span>
$ docker-compose build
<span style=color:#75715e># ä¸‹è½½é•œåƒ</span>
$ docker-compose pull
<span style=color:#75715e># æ­£åœ¨è¿è¡Œ</span>
$ docker-compose ps 
<span style=color:#75715e># è¿›ç¨‹</span>
$ docker-compose top
<span style=color:#75715e># å¯åŠ¨</span>
$ docker-compose start
<span style=color:#75715e># åœæ­¢</span>
$ docker-compose stop
</code></pre></div><h3 id=æ¼”ç¤º>æ¼”ç¤º</h3>
<p>é€šè¿‡ä¸€ä¸ª Python web å°å®ä¾‹æ¥æ¼”ç¤º Docker-compose çš„åŠŸèƒ½ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-yml data-lang=yml><span style=color:#75715e># docker-compose.yml</span>
<span style=color:#75715e># æŒ‡å®š docker-compose API ç‰ˆæœ¬</span>
<span style=color:#75715e># åœ¨å½“å‰ç›®å½•ä¸‹è¿è¡Œ docker-compose config å¯ä»¥éªŒè¯å˜é‡å…·ä½“çš„å€¼</span>
<span style=color:#f92672>version</span>: <span style=color:#e6db74>&#39;3&#39;</span>
<span style=color:#f92672>services</span>:
	<span style=color:#f92672>web</span>:
		<span style=color:#f92672>build</span>:
			<span style=color:#f92672>context</span>: <span style=color:#ae81ff>.</span>
		<span style=color:#f92672>depends_on</span>:
			- <span style=color:#ae81ff>redis</span>
		<span style=color:#f92672>ports</span>:
			- <span style=color:#e6db74>&#34;5000:5000&#34;</span>
	
	<span style=color:#f92672>redis</span>:
		<span style=color:#f92672>image</span>: <span style=color:#ae81ff>${REDIS_VERSION}</span>
		<span style=color:#f92672>restart</span>: <span style=color:#ae81ff>always</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-ini data-lang=ini><span style=color:#75715e># .env</span>
<span style=color:#a6e22e>REDIS_VERSION</span><span style=color:#f92672>=</span><span style=color:#e6db74>redis:alpine</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># Dockerfile</span>
FROM python:3.7-alpine
LABEL maintainer<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;test&#34;</span>

<span style=color:#75715e># å·¥ä½œè·¯å¾„è®¾å®šä¸º /code</span>
WORKDIR /code

<span style=color:#75715e># åˆ›å»ºç¯å¢ƒå˜é‡ç»™ Flask ä½¿ç”¨</span>
ENV FLASK_APP app.py
ENV FLASK_RUN_HOST 0.0.0.0


<span style=color:#75715e># å¤åˆ¶ app.py åˆ°å®¹å™¨å†…çš„ /code ç›®å½•</span>
COPY app.py /code

<span style=color:#75715e># å®‰è£… gcc å·¥å…·ã€python ä¾èµ–</span>
RUN pip install flask <span style=color:#f92672>&amp;&amp;</span> pip install redis

<span style=color:#75715e># æ˜ å°„ç«¯å£</span>
EXPOSE <span style=color:#ae81ff>5000</span>

STOPSIGNAL SIGTERM

<span style=color:#75715e># ä¸ºå®¹å™¨è®¾ç½®é»˜è®¤å¯åŠ¨å‘½ä»¤</span>
CMD <span style=color:#f92672>[</span><span style=color:#e6db74>&#34;flask&#34;</span>, <span style=color:#e6db74>&#34;run&#34;</span><span style=color:#f92672>]</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-python data-lang=python><span style=color:#75715e># app.py</span>
<span style=color:#75715e># å®ç°ç»Ÿè®¡è®¿é—®æ¬¡æ•°</span>
<span style=color:#f92672>import</span> time
<span style=color:#f92672>import</span> redis
<span style=color:#f92672>from</span> flask <span style=color:#f92672>import</span> Flask

app <span style=color:#f92672>=</span> Flask(__name__)
cache <span style=color:#f92672>=</span> redis<span style=color:#f92672>.</span>Redis(host<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;redis&#39;</span>, port<span style=color:#f92672>=</span><span style=color:#ae81ff>6379</span>)


<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_hit_count</span>():
	retries <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>
	<span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
		<span style=color:#66d9ef>try</span>:
			<span style=color:#66d9ef>return</span> cache<span style=color:#f92672>.</span>incr(<span style=color:#e6db74>&#34;hits&#34;</span>)
		<span style=color:#66d9ef>except</span> redis<span style=color:#f92672>.</span>exceptions<span style=color:#f92672>.</span>ConnectionError <span style=color:#66d9ef>as</span> e:
			<span style=color:#66d9ef>if</span> retries <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
				<span style=color:#66d9ef>raise</span> e
			retries <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>
			time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>0.5</span>)

<span style=color:#a6e22e>@app</span><span style=color:#f92672>.</span>route(<span style=color:#e6db74>&#39;/&#39;</span>)
<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>hello</span>():
	count <span style=color:#f92672>=</span> get_hit_count()
	<span style=color:#66d9ef>return</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Hello World! I have been seen </span><span style=color:#e6db74>{</span>count<span style=color:#e6db74>}</span><span style=color:#e6db74> times.</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>
</code></pre></div><h5 id=å¯åŠ¨>å¯åŠ¨</h5>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell>$ docker-compoes up -d
</code></pre></div><h2 id=docker-registry>Docker registry</h2>
<h3 id=ç®€ä»‹-2>ç®€ä»‹</h3>
<p>Docker Registry æ˜¯å­˜å‚¨ Dcoker Image çš„ä»“åº“ï¼Œè¿è¡Œ pushã€pullã€search æ—¶ï¼Œæ˜¯é€šè¿‡ Docker daemon ä¸ docker registry é€šä¿¡ã€‚æœ‰æ—¶å€™ä½¿ç”¨ Docker Hub è¿™æ ·çš„å…¬å…±ä»“åº“å¯èƒ½ä¸æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ registry åˆ›å»ºä¸€ä¸ªæœ¬åœ°ä»“åº“ã€‚</p>
<h3 id=è¿è¡Œ>è¿è¡Œ</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># æ­å»ºä»“åº“çš„ä¸»æœºè¿è¡Œ</span>
$ docker run -d -p 5000:5000 -v <span style=color:#e6db74>${</span>PWD<span style=color:#e6db74>}</span>/registry:/var/lib/registry --restart always --name registry registry:2.7.1
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># å…¶ä»–æœºé…ç½®ä¸‹é•œåƒä»“åº“</span>
$ vim /etc/docker/daemon.json
<span style=color:#f92672>{</span>
	<span style=color:#e6db74>&#34;insecure-registries&#34;</span>:<span style=color:#f92672>[</span><span style=color:#e6db74>&#34;{ä»“åº“ä¸»æœºçš„IPåœ°å€å’Œç«¯å£å·}&#34;</span><span style=color:#f92672>]</span>
<span style=color:#f92672>}</span>
$ systemctl restart docker  <span style=color:#75715e># é‡å¯ä¸‹docker</span>
</code></pre></div><h3 id=æ¼”ç¤º-1>æ¼”ç¤º</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># æ­å»ºä»“åº“çš„ä¸»æœºï¼šå…ˆä» docker hub ä¸Šéšä¾¿ä¸‹è½½ä¸€ä¸ªé•œåƒ</span>
$ docker pull nginx:1.18.0
<span style=color:#75715e># æ‰“ä¸Šå¸¦ä¸»æœº IP åœ°å€çš„æ ‡ç­¾</span>
$ docker tag nginx:1.18.0 <span style=color:#f92672>{</span>ä»“åº“åœ°å€<span style=color:#f92672>}</span>/nginx:1.18.0
<span style=color:#75715e># æ¨é€åˆ°å†…ç½‘ä»“åº“ä¸‹</span>
$ docker push <span style=color:#f92672>{</span>ä»“åº“IP:port<span style=color:#f92672>}</span>/nginx:1.18.0

<span style=color:#75715e># å…¶ä»–æœºå™¨</span>
$ docker pull <span style=color:#f92672>{</span>ä»“åº“IP:port<span style=color:#f92672>}</span>/nginx:1.18.0
<span style=color:#75715e># æŸ¥çœ‹ä¸‹è½½çš„é•œåƒï¼Œå°±æ˜¯æœ¬åœ°ä»“åº“çš„é•œåƒ</span>
$ docker image
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># æ„å»ºé•œåƒå¹¶æ¨é€åˆ°æœ¬åœ°ä»“åº“ä¸Š</span>
$ docker build -t <span style=color:#f92672>{</span>ä»“åº“IP:port<span style=color:#f92672>}</span>/flask-web:1.0 .
</code></pre></div><p>é€šè¿‡æ­å»ºæœ¬åœ°ä»“åº“ï¼Œä¸‹è½½é•œåƒå push åˆ°æœ¬åœ°ä»“åº“ï¼Œå…¶ä»–å†…ç½‘æœºå™¨ pull çš„è¯é€Ÿåº¦ä¼šæœ‰æ‰€æå‡ã€‚</p>
<p>ä¸€èˆ¬å…¬å¸ä¸šåŠ¡ä¸æ–¹ä¾¿æ”¾åˆ° docker hub ä¸Šï¼Œå¯ä»¥é€šè¿‡å†…ç½‘ä»“åº“æé«˜éšç§æ€§ã€‚</p>
<h2 id=dockerfile>dockerfile</h2>
<h3 id=ç®€ä»‹-3>ç®€ä»‹</h3>
<p>Dockerfile æ˜¯ç”±ä¸€ç³»åˆ—æŒ‡ä»¤å’Œå‚æ•°æ„æˆçš„è„šæœ¬ï¼Œä¸€ä¸ª Dockerfile é‡Œé¢åŒ…å«äº†æ„å»ºæ•´ä¸ªé•œåƒçš„å®Œæ•´å‘½ä»¤ã€‚</p>
<p>é€šè¿‡ <strong>docker build</strong> æ‰§è¡Œ Dockerfile ä¸­çš„ä¸€ç³»åˆ—æŒ‡ä»¤è‡ªåŠ¨æ„å»ºé•œåƒã€‚</p>
<h3 id=å¸¸ç”¨æŒ‡ä»¤>å¸¸ç”¨æŒ‡ä»¤</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-dockerfile data-lang=dockerfile><span style=color:#66d9ef>FROM</span><span style=color:#e6db74>ï¼šåŸºç¡€é•œåƒï¼ŒFROM å‘½ä»¤å¿…é¡»æ˜¯ dockerfile çš„é¦–ä¸ªå‘½ä»¤</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>LABEL</span>ï¼šä¸ºé•œåƒç”Ÿæˆå…ƒæ•°æ®æ ‡ç­¾ä¿¡æ¯ï¼Œä½œè€…ã€ç‰ˆæœ¬ä¿¡æ¯ç­‰<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>USER</span><span style=color:#e6db74>ï¼šæŒ‡å®šè¿è¡Œå®¹å™¨æ—¶çš„ç”¨æˆ·åæˆ– UIDï¼Œé»˜è®¤ç®¡ç†å‘˜ç”¨æˆ·ï¼Œåç»­ RUN ä¹Ÿä¼šä½¿ç”¨æŒ‡å®šç”¨æˆ·</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span>ï¼šæ˜¯ dockerfile æ‰§è¡Œå‘½ä»¤çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œæ¥å—å‘½ä»¤ä½œä¸ºå‚æ•°å¹¶ç”¨äºåˆ›å»ºé•œåƒã€‚æ¯æ¡ run å‘½ä»¤åœ¨å½“å‰åŸºç¡€é•œåƒä¸Šæ‰§è¡Œï¼Œå¹¶ä¸”ä¼šæäº¤ä¸€ä¸ªæ–°çš„é•œåƒå±‚<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>WORKDIR</span><span style=color:#e6db74>ï¼šè®¾ç½® CMD å‘½ä»¤çš„è¿è¡Œç›®å½•ï¼Œä¸ºåç»­çš„ RUNã€CMDã€ENTRYPOINTã€ADD æŒ‡ä»¤é…ç½®å·¥ä½œç›®å½•</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ENV</span>ï¼šå®¹å™¨å¯åŠ¨çš„ç¯å¢ƒå˜é‡<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ARG</span>ï¼šæ„å»ºç¯å¢ƒçš„ç¯å¢ƒå˜é‡ï¼Œä»…ä¾› dockerfile èµ‹å€¼ä½¿ç”¨<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span>ï¼šå¤åˆ¶æ–‡ä»¶<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>CMD</span>ï¼šå®¹å™¨è¿è¡Œæ—¶æ‰§è¡Œçš„é»˜è®¤å‘½ä»¤<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ENTRYPOINT</span>ï¼šæ‰§è¡Œå®¹å™¨çš„å…¥å£<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>HEALTHCHECK</span>ï¼šå®¹å™¨å¥åº·çŠ¶æ€æ£€æŸ¥<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h3 id=æ¼”ç¤º-2>æ¼”ç¤º</h3>
<p>ä½¿ç”¨ dockerfile æ„å»º nginx å®¹å™¨ï¼Œæ·»åŠ å®¹å™¨å¥åº·æ£€æŸ¥</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-dockerfile data-lang=dockerfile><span style=color:#75715e># Dockerfile</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># å¯¼å…¥åŸºç¡€é•œåƒ</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> nginx:1.17.9</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># æŒ‡å®šä¿¡æ¯</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>LABEL</span> maintainer<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Ultraman_Tiga&#34;</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># è®¾ç½®ç¯å¢ƒå˜é‡</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ENV</span> NGINX_VERSION 1.17.9<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>ARG</span> work_pwd<span style=color:#f92672>=</span>/data/html<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># åˆ‡æ¢ç”¨æˆ·</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>USER</span><span style=color:#e6db74> root</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># æ‰§è¡Œå‘½ä»¤</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># å®‰è£… curlï¼Œè®¾ç½®è½¯é“¾æŠŠ nginx æœåŠ¡çš„æ—¥å¿—æ˜¾ç¤ºåˆ°ç»ˆç«¯è¾“å‡º</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> apt-get -yq update <span style=color:#f92672>&amp;&amp;</span> apt-get install -y curl <span style=color:#f92672>&amp;&amp;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>ln -sf /dev/stdout /var/log/nginx/access.log <span style=color:#f92672>&amp;&amp;</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>ln -sf /dev/stderr /var/log/nginx/error.log<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># æŒ‚è½½å·</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>VOLUME</span> [<span style=color:#e6db74>&#34;/data&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># è®¾ç½®å·¥ä½œç›®å½•</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>WORKDIR</span><span style=color:#e6db74> $work_pwd</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># å¤åˆ¶ index.html æ–‡ä»¶åˆ° workdir ç›®å½•ä¸‹</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> index.html .<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># æ˜ å°„ 80 ç«¯å£</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>EXPOSE</span><span style=color:#e6db74> 80</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># æ­¤å¤„ CMD ä½œä¸º ENTRYPOINT çš„å‚æ•°</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>CMD</span> [<span style=color:#e6db74>&#34;nginx&#34;</span>, <span style=color:#e6db74>&#34;-g&#34;</span>, <span style=color:#e6db74>&#34;daemon off;&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># ä½¿ç”¨ docker stop æŒ‡ä»¤åœæ­¢å®¹å™¨æ—¶ï¼Œå‘å‡º sigrtmax æŒ‡ä»¤åœæ­¢å®¹å™¨</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>STOPSIGNAL</span><span style=color:#e6db74> SIGRTMAX</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># æ£€æŸ¥å®¹å™¨å¥åº·ï¼Œé€šè¿‡è®¿é—® Nginx æœåŠ¡ 80 ç«¯å£ï¼Œæ¥åˆ¤æ–­å®¹å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>HEALTHCHECK --interval=5s --timeout=3s \
</span><span style=color:#960050;background-color:#1e0010>  </span><span style=color:#66d9ef>CMD</span> curl -fs http://localhost/ <span style=color:#f92672>||</span> exit <span style=color:#ae81ff>1</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h5 id=æ„å»º>æ„å»º</h5>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># -t æŒ‡å®šæ ‡ç­¾ï¼›. ä»£è¡¨å½“å‰è·¯å¾„</span>
$ docker build -t nginx:1 .
<span style=color:#75715e># å¯åŠ¨</span>
$ docker run -d nginx:1
<span style=color:#75715e># æ–°å»ºä¸€ä¸ªçª—å£ï¼Œè¿›å…¥å®¹å™¨å†…</span>
$ docker exec -it <span style=color:#f92672>{</span>container_id<span style=color:#f92672>}</span> bash
root@*****:/data/html$ env
<span style=color:#75715e># ç”¨æˆ·åä¸ºæŒ‡å®šçš„ root ç”¨æˆ·</span>
<span style=color:#75715e># æ‰§è¡Œenvå‘½ä»¤åä¼šå‡ºç°dockerfileè®¾ç½®çš„ç¯å¢ƒå˜é‡</span>
<span style=color:#75715e># å½“å‰ç›®å½•å°±æ˜¯è®¾ç½®çš„workdir</span>
<span style=color:#75715e># å½“å‰ç›®å½•ä¸‹å­˜åœ¨ index.html</span>
root@*****:/data/html$ df -h
<span style=color:#75715e># æŒ‚è½½å·ä¸ºè®¾ç½®çš„VOLUME</span>
/dev/sda1 ... /data
</code></pre></div><h2 id=é•œåƒæ„å»º>é•œåƒæ„å»º</h2>
<h3 id=ç®€ä»‹-4>ç®€ä»‹</h3>
<p>å·¥ä½œä¸­ï¼Œå¸¸å¸¸éœ€è¦åˆ¶ä½œè‡ªå·±çš„é¡¹ç›®é•œåƒï¼Œä¾¿äºåˆ†å‘ç»™å…¶ä»–åŒå­¦ä½¿ç”¨ã€‚ä¸€èˆ¬é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼åˆ¶ä½œé•œåƒï¼š</p>
<ul>
<li>docker commit</li>
<li>dockerfile</li>
</ul>
<h3 id=docker-commit>docker commit</h3>
<p>ä¸€èˆ¬ç”¨åšä»ä¸€ä¸ªè¿è¡ŒçŠ¶æ€çš„å®¹å™¨æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒï¼Œå®šåˆ¶é•œåƒåº”è¯¥ä½¿ç”¨ dockerfile æ¥å®Œæˆï¼Œé»˜è®¤ commit é•œåƒï¼Œå¯¹å¤–ä¸å¯è§£é‡Šï¼Œåˆ«äººä¸çŸ¥é“è¯¥å®¹å™¨çš„æ„å»ºç¯å¢ƒï¼Œä¸æ–¹ä¾¿æ’æŸ¥é—®é¢˜ï¼Œå¯ç»´æŠ¤æ€§å·®ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell>$ docker commit <span style=color:#f92672>{</span>å®¹å™¨å<span style=color:#f92672>}</span> <span style=color:#f92672>{</span>æ–°é•œåƒå<span style=color:#f92672>}</span>:tag
</code></pre></div><h3 id=docker-build>docker build</h3>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=color:#75715e># å¿½ç•¥æ–‡ä»¶ï¼Œæ„å»ºæ—¶ä¸ä¼šè¢«æ‰“åŒ…åˆ°é•œåƒå†…</span>
<span style=color:#75715e># åˆ›å»ºä¸€ä¸ª .dockerignore æ–‡ä»¶ï¼Œé‡Œé¢å†™å…¥</span>
Dockerfile*

<span style=color:#75715e># æŒ‡å®šæ–‡ä»¶</span>
$ docker build -f
<span style=color:#75715e># æ·»åŠ æ ‡ç­¾</span>
$ docker build -t
<span style=color:#75715e># ä¸ä½¿ç”¨ç¼“å­˜</span>
$ docker build --no-chche
<span style=color:#75715e># æ„å»ºæ—¶å˜é‡</span>
$ docker build --build-arg
</code></pre></div><p>è¿™ä¸ªå¸–å­ä¸é”™ï¼Œç•™åœ¨è¿™é‡Œå¤‡å¿˜ï¼šhttps://blog.csdn.net/lb245557472/article/details/91966770</p>
</div>
<footer class=post-footer>
<div class=post-tags>
<a href=/tags/docker>
Docker
</a>
</div>
<div class=addthis_inline_share_toolbox style=text-align:center></div>
<hr>
<div class=reward-container>
<div><i class="fa-solid fa-mug-hot"></i>è¯·æˆ‘å–æ¯å’–å•¡å§ ãƒ¾(^â–½^*)))</div>
<button>èµèµ</button>
<div class=post-reward>
<div class=post-reward-item>
<img src=/imgs/img-lazy-loading.gif data-src=/imgs/ali-pay.jpg alt="ABEE - æ”¯ä»˜å®">
<span>æ”¯ä»˜å®</span>
</div>
<div class=post-reward-item>
<img src=/imgs/img-lazy-loading.gif data-src=/imgs/wechat-pay.jpg alt="ABEE - å¾®ä¿¡">
<span>å¾®ä¿¡</span>
</div>
</div>
</div>
<div class=post-nav>
<div class="post-nav-next post-nav-item">
<a href=/tech/selenium/%E5%88%86%E5%B8%83%E5%BC%8F%E6%89%A7%E8%A1%8Cseleniumgrid/ rel=next title="Selenium - åˆ†å¸ƒå¼æ‰§è¡ŒSeleniumgrid">
<i class="fa fa-chevron-left"></i> Selenium - åˆ†å¸ƒå¼æ‰§è¡ŒSeleniumgrid
</a>
</div>
<div class="post-nav-prev post-nav-item">
<a href=/tech/mac/svn-%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4/ rel=prev title="Mac - Svn å®‰è£…åŠä½¿ç”¨å‘½ä»¤">
Mac - Svn å®‰è£…åŠä½¿ç”¨å‘½ä»¤
<i class="fa fa-chevron-right"></i>
</a>
</div>
</div>
</footer>
</article>
</div>
<div id=comments class=post-comments>
<div class=comment-head>
<div class=comment-headline>
<i class="fas fa-comments fa-fw"></i>
<span>è¯„è®ºäº¤æµ</span>
</div>
</div>
<div class=comment-wrap>
<div><div class=comment-loading>
<i class="fa fa-sync fa-spin"></i>
</div><div class=giscus-container></div>
</div>
</div>
</div>
</div>
</main>
<footer class=footer>
<div class=footer-inner>
<div class=copyright>
&copy;
<span itemprop=copyrightYear>
2023 - 2024
</span>
<span class=with-love>
<i class="fa fa-heart"></i>
</span>
<span class=author itemprop=copyrightHolder>ABEE</span>
</div>
</div>
</footer>
<script type=text/javascript src=https://cdn.staticfile.org/animejs/3.2.1/anime.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.js defer></script>
<script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#336699","enable":true,"save":"manual"},"busuanzi":{"pageview":true},"copybtn":true,"darkmode":false,"giscus":{"cfg":{"category":"Comments","categoryid":"DIC_kwDOJaSA684CW2kC","emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"abeelan/abeelan.github.io","repoid":"R_kgDOJaSA6w","theme":"light_tritanopia"},"js":"https://giscus.app/client.js"},"hostname":"https://abeelan.github.io","i18n":{"ds_day":" å¤©å‰","ds_days":" å¤© ","ds_hour":" å°æ—¶å‰","ds_hours":" å°æ—¶ ","ds_just":"åˆšåˆš","ds_min":" åˆ†é’Ÿå‰","ds_mins":" åˆ†é’Ÿ","ds_month":" ä¸ªæœˆå‰","ds_years":" å¹´ ","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits":"","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","placeholder":"æœç´¢..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"statis":{"enable":true,"plugin":"busuanzi"},"vendor":{"plugins":"qiniu","router":"https://cdn.staticfile.org"},"version":"4.4.1"}</script>
<script type=text/javascript src=/js/main.min.1d9b2de404f7724da1d867644752be389255e13dcf22ec8a95e590c4546881e9.js defer></script>
</body>
</html>