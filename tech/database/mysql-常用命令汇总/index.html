<!doctype html><html lang=zh-cn data-theme=light>
<head><meta charset=utf-8>
<meta name=viewport content="width=device-width">
<meta name=theme-color content="#336699" media="(prefers-color-scheme: light)">
<meta name=generator content="Hugo 0.89.0">
<link rel="shortcut icon" type=image/x-icon href=/imgs/favicon.ico>
<link rel=icon type=image/x-icon href=/imgs/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png>
<link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png>
<link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png>
<meta itemprop=name content="Database - Mysql 常用命令汇总">
<meta itemprop=description content="It's better late than never.">
<meta itemprop=datePublished zgotmplz>
<meta itemprop=dateModified zgotmplz>
<meta itemprop=image content="https://abeelan.github.io/imgs/avatar.png">
<meta itemprop=keywords content="Database">
<meta property="og:type" content="article">
<meta property="og:title" content="Database - Mysql 常用命令汇总">
<meta property="og:description" content="It's better late than never.">
<meta property="og:image" content="/imgs/avatar.png">
<meta property="og:image:width" content="312">
<meta property="og:image:height" content="312">
<meta property="og:image:type" content="image/jpeg/png/svg/jpg">
<meta property="og:url" content="https://abeelan.github.io/tech/database/mysql-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%B1%87%E6%80%BB/">
<meta property="og:site_name" content="ABEE">
<meta property="og:locale" content="zh-CN">
<meta property="article:author" content="ABEE">
<meta property="article:published_time" content="2022-04-22 10:16:01 +0000 UTC">
<meta property="article:modified_time" content="2023-05-31 15:05:57 +0000 UTC">
<link type=text/css rel=stylesheet href=https://cdn.staticfile.org/font-awesome/6.1.2/css/all.min.css>
<link type=text/css rel=stylesheet href=https://cdn.staticfile.org/animate.css/3.1.1/animate.min.css>
<link type=text/css rel=stylesheet href=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.css>
<link rel=stylesheet href=/css/main.min.331d95fedf2847d8a3c98322839de5db31213d8c091b515a49b2ddd764987b86.css>
<style type=text/css>.post-footer,.flinks-list-footer hr:after{content:"~ 我可是有底线的哟 ~"}</style>
<script type=text/javascript>(function(){localDB={set:function(b,c,a){if(a===0)return;const d=new Date,e=a*864e5,f={value:c,expiry:d.getTime()+e};localStorage.setItem(b,JSON.stringify(f))},get:function(a){const b=localStorage.getItem(a);if(!b)return void 0;const c=JSON.parse(b),d=new Date;return d.getTime()>c.expiry?(localStorage.removeItem(a),void 0):c.value}},theme={active:function(){const a=localDB.get('theme');if(a==void 0)return;theme.toggle(a),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(a){theme.toggle(a.matches?'dark':'light')})},toggle:function(a){document.documentElement.setAttribute('data-theme',a),localDB.set('theme',a,2);const b=document.querySelector('iframe.giscus-frame');if(b){const c={setConfig:{theme:a}};b.contentWindow.postMessage({giscus:c},'https://giscus.app')}}},theme.active()})(window)</script>
<script class=next-config data-name=page type=application/json>{"comments":true,"isHome":false,"isPage":true,"path":"mysql-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%B1%87%E6%80%BB","permalink":"https://abeelan.github.io/tech/database/mysql-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%B1%87%E6%80%BB/","title":"Database - Mysql 常用命令汇总"}</script>
<script type=text/javascript>document.addEventListener('DOMContentLoaded',()=>{var a=document.createElement('script');a.charset="UTF-8",a.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",a.async=!1,a.defer=!0,document.head.appendChild(a),a.onload=function(){NexT.utils.fmtBusuanzi()}})</script>
<title>Database - Mysql 常用命令汇总 - ABEE</title>
<noscript>
<link rel=stylesheet href=/css/noscript.css>
</noscript>
</head>
<body itemscope itemtype=http://schema.org/WebPage class=use-motion>
<div class=headband></div>
<main class=main>
<header class=header itemscope itemtype=http://schema.org/WPHeader>
<div class=header-inner>
<div class=site-brand-container>
<div class=site-nav-toggle>
<div class=toggle aria-label=切换导航栏 role=button>
<span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span>
</div>
</div>
<div class=site-meta>
<a href=/ class=brand rel=start>
<i class=logo-line></i>
<h1 class=site-title>ABEE</h1>
<i class=logo-line></i>
</a>
<p class=site-subtitle itemprop=description>个人工作/学习笔记 📒</p>
</div>
<div class=site-nav-right>
<div class="toggle popup-trigger">
<i class="fa fa-search fa-fw fa-lg"></i>
</div>
</div>
</div>
<nav class=site-nav>
<ul class="main-menu menu">
<li class="menu-item menu-item-home">
<a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>主页
</a>
</li>
<li class="menu-item menu-item-about">
<a href=/about/ class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于
</a>
</li>
<li class="menu-item menu-item-archives">
<a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>128</span>
</a>
</li>
<li class="menu-item menu-item-search">
<a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索
</a>
</li>
</ul>
</nav>
<div class=search-pop-overlay>
<div class="popup search-popup">
<div class=search-header>
<span class=search-icon>
<i class="fa fa-search"></i>
</span>
<div class=search-input-container>
<input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input>
</div>
<span class=popup-btn-close role=button>
<i class="fa fa-times-circle"></i>
</span>
</div>
<div class="search-result-container no-result">
<div class=search-result-icon>
<i class="fa fa-spinner fa-pulse fa-5x"></i>
</div>
</div>
</div>
</div>
</div>
<div class="toggle sidebar-toggle" role=button>
<span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span>
</div>
<aside class=sidebar>
<div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
<ul class=sidebar-nav>
<li class=sidebar-nav-toc>
文章目录
</li>
<li class=sidebar-nav-overview>
站点概览
</li>
</ul>
<div class=sidebar-panel-container>
<div class="post-toc-wrap sidebar-panel">
<div class="post-toc animated"><nav id=TableOfContents>
<ul>
<li><a href=#简介>简介</a></li>
<li><a href=#数据库分类>数据库分类</a></li>
<li><a href=#mysql-安装与配置>MySQL 安装与配置</a></li>
<li><a href=#数据库客户端工具>数据库客户端工具</a></li>
<li><a href=#表>表</a></li>
<li><a href=#sql>SQL</a>
<ul>
<li><a href=#语法规范>语法规范</a></li>
<li><a href=#ddl-数据库操作>DDL 数据库操作</a>
<ul>
<li><a href=#创建>创建</a></li>
<li><a href=#查看>查看</a></li>
<li><a href=#修改>修改</a></li>
<li><a href=#删除>删除</a></li>
</ul>
</li>
<li><a href=#ddl-表操作>DDL 表操作</a>
<ul>
<li><a href=#创建-1>创建</a></li>
<li><a href=#查看-1>查看</a></li>
<li><a href=#修改-1>修改</a></li>
<li><a href=#删除列>删除列</a></li>
<li><a href=#修改表名>修改表名</a></li>
<li><a href=#删除表>删除表</a></li>
</ul>
</li>
<li><a href=#dml-表数据操作>DML 表数据操作</a>
<ul>
<li><a href=#插入>插入</a></li>
<li><a href=#修改-2>修改</a></li>
<li><a href=#删除-1>删除</a></li>
</ul>
</li>
<li><a href=#dql-表查询操作>DQL 表查询操作</a>
<ul>
<li><a href=#单表查询>单表查询</a></li>
<li><a href=#条件查询>条件查询</a>
<ul>
<li><a href=#比较运算法>比较运算法</a></li>
<li><a href=#逻辑运算法>逻辑运算法</a></li>
<li><a href=#通配符>通配符</a></li>
</ul>
</li>
<li><a href=#排序>排序</a>
<ul>
<li><a href=#单列排序>单列排序</a></li>
<li><a href=#组合排序>组合排序</a></li>
</ul>
</li>
<li><a href=#聚合函数>聚合函数</a></li>
<li><a href=#分组>分组</a></li>
<li><a href=#limit-关键字>LIMIT 关键字</a></li>
<li><a href=#单表查询总结>单表查询总结</a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#sql-约束>SQL 约束</a>
<ul>
<li><a href=#主键约束>主键约束</a>
<ul>
<li>
<ul>
<li><a href=#创建带有主键的表>创建带有主键的表</a></li>
<li><a href=#主键自增>主键自增</a></li>
<li><a href=#删除主键约束>删除主键约束</a></li>
<li><a href=#选择主键原则>选择主键原则</a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#非空约束>非空约束</a></li>
<li><a href=#唯一约束>唯一约束</a></li>
<li><a href=#默认值约束>默认值约束</a></li>
<li><a href=#外键约束>外键约束</a>
<ul>
<li>
<ul>
<li><a href=#创建表的同时创建外键约束>创建表的同时创建外键约束</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href=#多表>多表</a>
<ul>
<li><a href=#多表关系简介>多表关系简介</a>
<ul>
<li>
<ul>
<li><a href=#一对多>一对多</a></li>
<li><a href=#多对多>多对多</a></li>
<li><a href=#一对一>一对一</a></li>
</ul>
</li>
</ul>
</li>
<li><a href=#多表查询>多表查询</a>
<ul>
<li>
<ul>
<li><a href=#笛卡尔积查询>笛卡尔积查询</a></li>
<li><a href=#内连接查询>内连接查询</a></li>
<li><a href=#外连接查询>外连接查询</a></li>
<li><a href=#子查询>子查询</a></li>
</ul>
</li>
<li><a href=#视图>视图</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav></div>
</div>
<div class="site-overview-wrap sidebar-panel">
<div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person>
<img class=site-author-image itemprop=image alt=ABEE src=/imgs/img-lazy-loading.gif data-src=/imgs/avatar.png>
<p class=site-author-name itemprop=name>ABEE</p>
<div class=site-description itemprop=description>It's better late than never.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
<nav class=site-state>
<div class="site-state-item site-state-posts">
<a href=/archives/>
<span class=site-state-item-count>128</span>
<span class=site-state-item-name>帖子</span>
</a>
</div>
<div class="site-state-item site-state-categories">
<a href=/categories/>
<span class=site-state-item-count>22</span>
<span class=site-state-item-name>分类</span>
</a>
</div>
<div class="site-state-item site-state-tags">
<a href=/tags/>
<span class=site-state-item-count>22</span>
<span class=site-state-item-name>标签</span>
</a>
</div>
</nav>
</div>
<div class="links-of-social site-overview-item animated">
<span class=links-of-social-item>
<a href=https://github.com/abeelan title="Github → https://github.com/abeelan" rel=noopener class=hvr-icon-pulse target=_blank>
<i class="fab fa-github fa-fw hvr-icon"></i>Github
</a>
</span>
</div>
</div>
</div>
</div>
<div id=siteinfo-card-widget class=sidebar-card-widget>
<div class=item-headline>
<i class="fas fa-chart-line"></i>
<span>网站资讯</span>
</div>
<div class=siteinfo>
<div class=siteinfo-item>
<div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div>
<div class=item-count id=runTimes data-publishdate=2023-05-30T22:36:38+00:00></div>
</div>
<div class=siteinfo-item>
<div class=item-name>
<i class="fas fa fa-user"></i>总访客数：
</div>
<div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div>
</div>
<div class=siteinfo-item>
<div class=item-name>
<i class="fas fa fa-eye"></i>页面浏览：
</div>
<div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div>
</div>
<div class=siteinfo-item>
<div class=item-name><i class="fa fa-font"></i>总字数：</div>
<div class=item-count id=wordsCount data-count=185357></div>
</div>
<div class=siteinfo-item>
<div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div>
<div class=item-count id=readTimes data-times=436></div>
</div>
<div class=siteinfo-item>
<div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div>
<div class=item-count id=last-push-date data-lastpushdate=2021-01-21T10:03:29+00:00></div>
</div>
</div>
</div>
</aside>
<div class=sidebar-dimmer></div>
</header>
<div class=tool-buttons>
<div id=goto-comments class="button goto-comments" title=直达评论>
<i class="fas fa-comments"></i>
</div>
<div id=toggle-theme class=button title=深浅模式切换>
<i class="fas fa-adjust"></i>
</div>
<div class=back-to-top role=button title=返回顶部>
<i class="fa fa-arrow-up"></i>
<span>0%</span>
</div>
</div>
<div class=reading-progress-bar></div>
<a role=button class="book-mark-link book-mark-link-fixed"></a>
<noscript>
<div class=noscript-warning>Theme NexT works best with JavaScript enabled</div>
</noscript>
<div class="main-inner post posts-expand">
<div class=post-block>
<article itemscope itemtype=http://schema.org/Article class=post-content lang>
<link itemprop=mainEntityOfPage href=https://abeelan.github.io/tech/database/mysql-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%B1%87%E6%80%BB/>
<span hidden itemprop=author itemscope itemtype=http://schema.org/Person>
<meta itemprop=image content="/imgs/avatar.png">
<meta itemprop=name content="ABEE">
</span>
<span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization>
<meta itemprop=name content="ABEE">
<meta itemprop=description content="It's better late than never.">
</span>
<span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork>
<meta itemprop=name content="Database - Mysql 常用命令汇总">
<meta itemprop=description content="简介 **数据（Data）**是描述事物的符号记录，是指利用物理符号记录下来的、可以鉴别的信息。 **数据库（Database, DB）**是指长">
</span>
<header class=post-header>
<h1 class=post-title itemprop="name headline">Database - Mysql 常用命令汇总 </h1>
<div class=post-meta-container>
<div class=post-meta-items>
<span class=post-meta-item>
<span class=post-meta-item-icon>
<i class="far fa-calendar"></i>
</span>
<span class=post-meta-item-text>发表于：</span>
<time title="发表于：2022-04-22 10:16:01 +0000 UTC" itemprop="dateCreated datePublished" datetime="2022-04-22 10:16:01 +0000 UTC">2022-04-22</time>
</span>
<span class=post-meta-item>
<span class=post-meta-item-icon>
<i class="far fa-calendar-check"></i>
</span>
<span class=post-meta-item-text>更新于：</span>
<time title=修改时间：2023-05-31T15:05:57+00:00 itemprop=dateModified datetime=2023-05-31T15:05:57+00:00>2023-05-31</time>
</span>
<span class=post-meta-item>
<span class=post-meta-item-icon>
<i class="far fa-folder-open"></i>
</span>
<span class=post-meta-item-text>分类于：</span>
<span itemprop=about itemscope itemtype=http://schema.org/Thing>
<a href=/categories/database itemprop=url rel=index>
<span itemprop=name>Database</span>
</a>
</span>
</span>
</div>
<div class=post-meta-items>
<span class=post-meta-item title=字数>
<span class=post-meta-item-icon>
<i class="far fa-file-word"></i>
</span>
<span class=post-meta-item-text>字数：</span><span>8089</span>
</span>
<span class=post-meta-item title=阅读>
<span class=post-meta-item-icon>
<i class="far fa-clock"></i>
</span>
<span class=post-meta-item-text>阅读：&ap;</span>
<span>17分钟</span>
</span>
<span class=post-meta-item title=浏览>
<span class=post-meta-item-icon>
<i class="far fa-eye"></i>
</span>
<span class=post-meta-item-text>
浏览：
</span>
<span id=busuanzi_value_page_pv data-path=/tech/database/mysql-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%B1%87%E6%80%BB/>
<i class="fa fa-sync fa-spin"></i>
</span>
</span>
</div>
</div>
</header>
<div class="post-body autonumber" itemprop=articleBody>
<h2 id=简介>简介</h2>
<p>**数据（Data）**是描述事物的符号记录，是指利用物理符号记录下来的、可以鉴别的信息。</p>
<p>**数据库（Database, DB）**是指长期储存在计算机中的有组织、可共享的数据集合。</p>
<p>**数据库管理系统（DBMS）**是专门用于建立和管理数据库的一套软件，介于应用程序和操作系统之间。</p>
<h2 id=数据库分类>数据库分类</h2>
<ul>
<li>关系型数据库（RDB - Relationship Database）
<ul>
<li>Mysql、Oracle、Postgres、SQLLite、SQLServer</li>
<li>使用场景：数据处理较复杂、数据量不是特别大、对安全性要求比较高、数据格式单一</li>
</ul>
</li>
<li>非关系型数据库（NoSQL - Not only sql）
<ul>
<li>MongoDB、Redis、HBase、Neo4j（图分析数据库）</li>
<li>数据模型比较简单、需要灵活性更强的 IT 系统、对数据库性能要求较高、不需要高度的数据一致性</li>
</ul>
</li>
</ul>
<h2 id=mysql-安装与配置>MySQL 安装与配置</h2>
<p>登录数据库服务器</p>
<p><strong>登录方式</strong></p>
<ul>
<li>远程连接（ssh）</li>
<li>本地服务器（本地搭建）</li>
</ul>
<p>我这里通过本地 docker 的方式，启动数据库服务，登录命令：</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell>$ docker run --name<span style=color:#f92672>=</span>mysql -it -p 3306:3306 -e MYSQL_ROOT_PASSWORD<span style=color:#f92672>=</span>root -e MYSQL_ROOT_HOST<span style=color:#f92672>=</span>% -d mysql
$ docker exec -it mysql /bin/bash
</code></pre></div><p><strong>查看数据库版本信息</strong></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell>$ mysql --version
$ mysql -V

mysql&gt; <span style=color:#66d9ef>select</span> version<span style=color:#f92672>()</span>;
PostgreSQL 10.7 on x86_64-pc-linux-gnu, compiled by gcc <span style=color:#f92672>(</span>GCC<span style=color:#f92672>)</span> 4.8.5 <span style=color:#ae81ff>20150623</span> <span style=color:#f92672>(</span>Red Hat 4.8.5-36<span style=color:#f92672>)</span>, 64-bit
</code></pre></div><p><strong>登录数据库</strong></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell>$ mysql -h localhost -u root -p
<span style=color:#75715e># -h：指连接的主机名</span>
<span style=color:#75715e># -u：用户名</span>
<span style=color:#75715e># -p：密码 root</span>

<span style=color:#75715e># 然后输入密码，进入数据库</span>
<span style=color:#75715e># 修改密码</span>
$ alter user <span style=color:#e6db74>&#39;root&#39;</span>@<span style=color:#e6db74>&#39;localhost&#39;</span> identified by <span style=color:#e6db74>&#39;新密码&#39;</span>;

<span style=color:#75715e># 退出数据库</span>
$ exit
</code></pre></div><p><strong>查看数据库版本</strong></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sql data-lang=sql>mysql<span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>VERSION</span>();
</code></pre></div><p>正常会出现数据库的版本号，环境准备完成！</p>
<h2 id=数据库客户端工具>数据库客户端工具</h2>
<ul>
<li>
<p>workBench；下载地址：https://dev.mysql.com/downloads/workbench/</p>
</li>
<li>
<p>Navicat（付费）</p>
</li>
</ul>
<h2 id=表>表</h2>
<blockquote>
<p>包含数据库中所有数据的数据库对象</p>
</blockquote>
<p>表名：每个表的唯一标识</p>
<p>模式：schema，关于数据库和表的布局及特性的信息</p>
<p>列：表中每列称为一个字段</p>
<p>行：表中的一条记录</p>
<h2 id=sql>SQL</h2>
<p><strong>SQL 是什么？</strong></p>
<ul>
<li>结构化查询语言，简称 SQL</li>
<li>一种特殊目的的编程语言</li>
<li>一种数据库查询和程序设计语言</li>
<li>用于存取数据以及查询、更新和管理关系数据库系统</li>
</ul>
<h3 id=语法规范>语法规范</h3>
<p>通用语法</p>
<ul>
<li>命令中间用逗号分隔，可以单行或者多行书写，以分号结尾</li>
<li>可以使用空格和缩进来增加语句的可读性</li>
<li>命令不区分大小写，建议 <strong>关键字大写</strong>，数据库名、表名、列名小写</li>
<li>注释方式：<code>--</code>、<code>#</code>（仅 MySQL） 单行注释；<code>/* */</code> 多行注释</li>
</ul>
<p>分类</p>
<ul>
<li>数据定义语言（DDL）：用来定义数据库对象，比如数据库、表、列等</li>
<li>数据操作语言（DML）：用来对数据库中表的记录进行更新</li>
<li>数据查询语言（DQL）：用来查询数据库中表的记录</li>
<li>数据控制语言（DCL）：用来定义数据库的访问权限和安全级别及创建用户</li>
</ul>
<h3 id=ddl-数据库操作>DDL 数据库操作</h3>
<h4 id=创建>创建</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e># 创建数据库语法
</span><span style=color:#75715e># {} 必选项；｜ 或；[] 可选项
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#960050;background-color:#1e0010>{</span><span style=color:#66d9ef>DATABASE</span><span style=color:#f92672>|</span><span style=color:#66d9ef>SCHEMA</span><span style=color:#960050;background-color:#1e0010>}</span> [<span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>EXISTS</span>] <span style=color:#960050;background-color:#1e0010>数据库名</span> <span style=color:#66d9ef>CHARACTER</span> <span style=color:#66d9ef>SET</span> [<span style=color:#f92672>=</span>] <span style=color:#960050;background-color:#1e0010>字符集</span>; 
</code></pre></div><p>创建数据库注意事项：</p>
<ul>
<li>不能与其他数据库重名</li>
<li>名称可以由任意字母、阿拉伯数字、下划线和 <code>$</code> 组成，但不能使用单独的数字</li>
<li>名称最长可为 <code>64</code> 个字符，别名最长为 <code>256</code> 个字符</li>
<li>不能使用 MySQL 关键字作为数据库名</li>
<li>建议采用小写来定义数据库名</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 创建数据库
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> test_db;
<span style=color:#75715e>-- 指定字符集为 utf-8
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> test_db2 <span style=color:#66d9ef>CHARACTER</span> <span style=color:#66d9ef>SET</span> utf8;
<span style=color:#75715e>-- 创建数据库前判断是否存在同名数据库
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> <span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>EXISTS</span> test_db3 <span style=color:#66d9ef>CHARACTER</span> <span style=color:#66d9ef>SET</span> utf8;
</code></pre></div><h4 id=查看>查看</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 查看所有数据库
</span><span style=color:#75715e></span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>DATABASES</span>;
<span style=color:#75715e>-- 指定为当前数据库
</span><span style=color:#75715e></span><span style=color:#66d9ef>USE</span> <span style=color:#960050;background-color:#1e0010>数据库名</span>;
<span style=color:#75715e>-- 查看数据库定义信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> <span style=color:#960050;background-color:#1e0010>数据库名</span>;
</code></pre></div><h4 id=修改>修改</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 修改数据库相关参数，如果不指定数据库名则表示修改当前的数据库
</span><span style=color:#75715e></span><span style=color:#66d9ef>ALTER</span> <span style=color:#960050;background-color:#1e0010>{</span><span style=color:#66d9ef>DATABASE</span><span style=color:#960050;background-color:#1e0010>}</span> [<span style=color:#960050;background-color:#1e0010>数据库名</span>] <span style=color:#66d9ef>CHARACTER</span> <span style=color:#66d9ef>SET</span> [<span style=color:#f92672>=</span>] <span style=color:#960050;background-color:#1e0010>字符集</span>;

<span style=color:#75715e>-- 实例
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> db1 <span style=color:#66d9ef>CHARACTER</span> <span style=color:#66d9ef>SET</span> gbk;
<span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>DATABASE</span> db1 <span style=color:#66d9ef>CHARACTER</span> <span style=color:#66d9ef>SET</span> utf8;
</code></pre></div><h4 id=删除>删除</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 删除数据库; 删除后数据结构和数据都没了
</span><span style=color:#75715e></span><span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>DATABASE</span> [<span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>EXISTS</span>] <span style=color:#960050;background-color:#1e0010>数据库名</span>;
</code></pre></div><h3 id=ddl-表操作>DDL 表操作</h3>
<p>MySQL 的数据类型</p>
<ul>
<li>数字类型（大概下面三种，长短整型、双精度浮点型等不详细列了）
<ul>
<li>INT 整型</li>
<li>FLOAT 浮点型</li>
<li>BOOLEAN 布尔值</li>
</ul>
</li>
<li>字符串类型
<ul>
<li>CHAR 固定长度（1-255）</li>
<li>VARCHAR 长度可变，不超过 255 个字符</li>
<li>TEXT 最大长度为 64K 的变长文本</li>
</ul>
</li>
<li>日期和时间类型
<ul>
<li>DATE 日期</li>
<li>TIME 时间</li>
<li>DATETIME 日期和时间</li>
<li>TIMESTAMP 时间戳</li>
<li>YEAR 年份</li>
</ul>
</li>
</ul>
<h4 id=创建-1>创建</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 创建表；列名在表中唯一
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>数据表名</span> (
	<span style=color:#960050;background-color:#1e0010>列名</span> <span style=color:#960050;background-color:#1e0010>数据类型</span> [<span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>NULL</span>] [<span style=color:#66d9ef>DEFAULT</span> <span style=color:#960050;background-color:#1e0010>默认值</span>] [<span style=color:#66d9ef>AUTO_INCREMENT</span>] [<span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>] [<span style=color:#960050;background-color:#1e0010>注释</span>],
    ...
);

<span style=color:#75715e>-- AUTO_INCREMENT 是否自动编号
</span><span style=color:#75715e>-- PRIMARY KEY 是否为主键
</span><span style=color:#75715e></span>
<span style=color:#75715e>-- 复制表(结构)
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>数据表名</span> <span style=color:#960050;background-color:#1e0010>{</span><span style=color:#66d9ef>LIKE</span> <span style=color:#960050;background-color:#1e0010>源数据表名</span> <span style=color:#f92672>|</span> (<span style=color:#66d9ef>LIKE</span> <span style=color:#960050;background-color:#1e0010>源数据表名</span>)<span style=color:#960050;background-color:#1e0010>}</span>;
</code></pre></div><p>实例</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 切换到数据库
</span><span style=color:#75715e></span><span style=color:#66d9ef>USE</span> db1;

<span style=color:#75715e>-- 创建学员表
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>student</span> (
	id <span style=color:#66d9ef>INT</span>,
    name <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>)
);

<span style=color:#75715e>-- 复制学员表
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> student_cpy <span style=color:#66d9ef>LIKE</span> student;
</code></pre></div><h4 id=查看-1>查看</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 查看表名
</span><span style=color:#75715e></span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>TABLES</span>;

<span style=color:#75715e>-- 查看表结构
</span><span style=color:#75715e></span><span style=color:#66d9ef>DESCRIBE</span> <span style=color:#960050;background-color:#1e0010>数据表名</span>;
<span style=color:#75715e>-- 简写
</span><span style=color:#75715e></span><span style=color:#66d9ef>DESC</span> <span style=color:#960050;background-color:#1e0010>数据表名</span>;
<span style=color:#66d9ef>DESC</span> <span style=color:#960050;background-color:#1e0010>数据表名</span> <span style=color:#960050;background-color:#1e0010>列名</span>;
</code></pre></div><h4 id=修改-1>修改</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 添加新列
</span><span style=color:#75715e></span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>表名</span> <span style=color:#66d9ef>ADD</span> <span style=color:#960050;background-color:#1e0010>列名</span> <span style=color:#960050;background-color:#1e0010>列属性</span>;

<span style=color:#75715e>-- 修改列定义
</span><span style=color:#75715e></span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>表名</span> MODIFY <span style=color:#960050;background-color:#1e0010>列名</span> <span style=color:#960050;background-color:#1e0010>列属性</span>;

<span style=color:#75715e>-- 修改列名
</span><span style=color:#75715e></span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>表名</span> <span style=color:#66d9ef>CHANGE</span> <span style=color:#960050;background-color:#1e0010>旧列名</span> <span style=color:#960050;background-color:#1e0010>新列名</span> <span style=color:#960050;background-color:#1e0010>类型</span>;
</code></pre></div><p>实例</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 切换数据库
</span><span style=color:#75715e></span><span style=color:#66d9ef>USE</span> db1;
<span style=color:#75715e>-- 添加列
</span><span style=color:#75715e></span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> student <span style=color:#66d9ef>ADD</span> email <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>50</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>;
<span style=color:#75715e>-- 修改列定义
</span><span style=color:#75715e></span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> student <span style=color:#66d9ef>ADD</span> score <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>10</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>;
<span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> student MODIFY score <span style=color:#66d9ef>INT</span>;
<span style=color:#75715e>-- 修改列名
</span><span style=color:#75715e></span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> student <span style=color:#66d9ef>CHANGE</span> <span style=color:#66d9ef>COLUMN</span> name stu_name <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>30</span>) <span style=color:#66d9ef>DEFAULT</span> <span style=color:#66d9ef>NULL</span>;
<span style=color:#75715e>-- 查看表结构，验证修改生效
</span><span style=color:#75715e></span><span style=color:#66d9ef>DESC</span> student;
</code></pre></div><h4 id=删除列>删除列</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>表名</span> <span style=color:#66d9ef>DROP</span> <span style=color:#960050;background-color:#1e0010>列名</span>;

<span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> student <span style=color:#66d9ef>DROP</span> score;
</code></pre></div><h4 id=修改表名>修改表名</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 方式一
</span><span style=color:#75715e></span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>旧表名</span> <span style=color:#66d9ef>RENAME</span> <span style=color:#66d9ef>AS</span> <span style=color:#960050;background-color:#1e0010>新表名</span>;

<span style=color:#75715e>-- 方式二
</span><span style=color:#75715e></span><span style=color:#66d9ef>RENAME</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>旧表名</span> <span style=color:#66d9ef>TO</span> <span style=color:#960050;background-color:#1e0010>新表名</span>;
</code></pre></div><h4 id=删除表>删除表</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>TABLE</span> [<span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>EXISTS</span>] <span style=color:#960050;background-color:#1e0010>数据表名</span>;
</code></pre></div><h3 id=dml-表数据操作>DML 表数据操作</h3>
<h4 id=插入>插入</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 插入数据 列名和值一一对应
</span><span style=color:#75715e></span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#960050;background-color:#1e0010>数据表名</span> (<span style=color:#960050;background-color:#1e0010>列名</span><span style=color:#ae81ff>1</span>, <span style=color:#960050;background-color:#1e0010>列名</span><span style=color:#ae81ff>2</span>, ...) <span style=color:#66d9ef>VALUES</span> (<span style=color:#960050;background-color:#1e0010>值</span><span style=color:#ae81ff>1</span>, <span style=color:#960050;background-color:#1e0010>值</span><span style=color:#ae81ff>2</span>, ...);
</code></pre></div><p>注意事项：</p>
<ul>
<li>值与字段必须对应，个数相同且数据类型相同</li>
<li>值的数据大小，必须在字段指定的长度范围内</li>
<li>VARCHAR、CHAR、DATE 类型的值，必须使用单引号括起来</li>
<li>如果要插入空值，可以忽略不写，或者插入 NULL</li>
<li>如果插入指定字段的值，必须写上列名</li>
</ul>
<h4 id=修改-2>修改</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#66d9ef>UPDATE</span> <span style=color:#960050;background-color:#1e0010>数据表名</span> <span style=color:#66d9ef>SET</span> <span style=color:#960050;background-color:#1e0010>列名</span><span style=color:#ae81ff>1</span><span style=color:#f92672>=</span><span style=color:#960050;background-color:#1e0010>值</span><span style=color:#ae81ff>1</span> [, <span style=color:#960050;background-color:#1e0010>列名</span><span style=color:#ae81ff>2</span><span style=color:#f92672>=</span><span style=color:#960050;background-color:#1e0010>值</span><span style=color:#ae81ff>2</span>, ...] [<span style=color:#66d9ef>WHERE</span> <span style=color:#960050;background-color:#1e0010>条件表达式</span>];
</code></pre></div><h4 id=删除-1>删除</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 通过 delete 语句; 未指定条件则删除表中全部数据
</span><span style=color:#75715e></span><span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>表名</span> [<span style=color:#66d9ef>WHERE</span> <span style=color:#960050;background-color:#1e0010>条件表达式</span>];

<span style=color:#75715e>-- 通过 truncate table 语句删除表中全部数据
</span><span style=color:#75715e></span>TRUNCATE <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>表名</span>;
</code></pre></div><p>如果需要删除整张表，推荐使用 <code>TRUNCATE</code> 语句：</p>
<ul>
<li>DELETE：每条数据都会执行一次删除，效率低</li>
<li>TRUNCATE：删除整张表，然后重新创建空表，效率高</li>
</ul>
<p><strong>实例</strong></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 切换数据库
</span><span style=color:#75715e></span><span style=color:#66d9ef>USE</span> db1;

<span style=color:#75715e>-- 创建 user 表
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#66d9ef>user</span>(
	id <span style=color:#66d9ef>INT</span>,
    name <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>),
    age <span style=color:#66d9ef>INT</span>,
    sex <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>1</span>),
    address <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>40</span>)
);

<span style=color:#75715e>/* 插入 */</span>
<span style=color:#75715e>-- 插入一条完整的数据
</span><span style=color:#75715e></span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#66d9ef>user</span> (id, name, age, sex, address) <span style=color:#66d9ef>VALUES</span> (<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;张三&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#e6db74>&#39;男&#39;</span>, <span style=color:#e6db74>&#39;北京&#39;</span>);

<span style=color:#75715e>-- 插入一条完整的数据，可以不用写列名，值按照表的列的顺序插入
</span><span style=color:#75715e></span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#66d9ef>user</span> <span style=color:#66d9ef>VALUES</span> (<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;李四&#39;</span>, <span style=color:#ae81ff>19</span>, <span style=color:#e6db74>&#39;女&#39;</span>, <span style=color:#e6db74>&#39;上海&#39;</span>);

<span style=color:#75715e>-- 插入表中某几列的值，没有值的列自动为 NULL
</span><span style=color:#75715e></span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#66d9ef>user</span> (id, name, address) <span style=color:#66d9ef>VALUES</span> (<span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#39;王五&#39;</span>, <span style=color:#e6db74>&#39;深圳&#39;</span>);

<span style=color:#75715e>-- 插入多条数据
</span><span style=color:#75715e></span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#66d9ef>user</span> (id, name, address) <span style=color:#66d9ef>VALUES</span> 
	(<span style=color:#ae81ff>4</span>, <span style=color:#e6db74>&#39;赵六&#39;</span>, <span style=color:#e6db74>&#39;天津&#39;</span>),
	(<span style=color:#ae81ff>5</span>, <span style=color:#e6db74>&#39;周七&#39;</span>, <span style=color:#e6db74>&#39;杭州&#39;</span>);
	
<span style=color:#75715e>/* 修改 */</span>
<span style=color:#75715e>-- 不带条件修改，将所有的性别改为女
</span><span style=color:#75715e></span><span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>user</span> <span style=color:#66d9ef>SET</span> sex<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;女&#39;</span>;

<span style=color:#75715e>-- 带条件修改，id=3 的用户：性别修改为男
</span><span style=color:#75715e></span><span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>user</span> <span style=color:#66d9ef>SET</span> sex<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;男&#39;</span> <span style=color:#66d9ef>WHERE</span> id<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span>;

<span style=color:#75715e>-- 修改多个列的数据，id=2 的用户：年龄修改为 30，地址修改为 北京
</span><span style=color:#75715e></span><span style=color:#66d9ef>UPDATE</span> <span style=color:#66d9ef>user</span> <span style=color:#66d9ef>SET</span> age<span style=color:#f92672>=</span><span style=color:#ae81ff>30</span>, adress<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;北京&#39;</span> <span style=color:#66d9ef>WHERE</span> id<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>;

<span style=color:#75715e>/* 删除 */</span>
<span style=color:#75715e>-- 删除 id=1 的用户数据
</span><span style=color:#75715e></span><span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>FROM</span> <span style=color:#66d9ef>user</span> <span style=color:#66d9ef>WHERE</span> id<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>;

<span style=color:#75715e>-- 删除表中所有的数据
</span><span style=color:#75715e></span><span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>FROM</span> <span style=color:#66d9ef>user</span>;
TRUNCATE <span style=color:#66d9ef>TABLE</span> <span style=color:#66d9ef>user</span>;
</code></pre></div><h3 id=dql-表查询操作>DQL 表查询操作</h3>
<p>在进行查询前，先进行数据准备工作，使用开源的数据示例。</p>
<blockquote>
<p>
<a href=https://github.com/datacharmer/test_db title=https://github.com/datacharmer/test_db rel="noopener external nofollow noreferrer" target=_blank class=exturl>
https://github.com/datacharmer/test_db
<i class="fa fa-external-link-alt"></i>
</a></p>
<p>该数据库包含大约 300,000 条员工记录和 280 万条工资条目。导出数据为 167 MB，对于测试来说足够。</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=color:#75715e># 这里通过 docker 启动 mysql:5.7 的容器进行测试</span>

<span style=color:#75715e># 1、下载数据文件</span>
$ cd workspace/github
$ git clone git@github.com:datacharmer/test_db.git

<span style=color:#75715e># 2、启动 mysql 容器，挂载数据文件到容器内</span>
$ docker pull mysql:5.7
$ docker run --name<span style=color:#f92672>=</span>mysql -it -p 3306:3306 -e MYSQL_ROOT_PASSWORD<span style=color:#f92672>=</span>root -e MYSQL_ROOT_HOST<span style=color:#f92672>=</span>% -v /workspace/github/test_db:/opt -d mysql:5.7

<span style=color:#75715e># 3、导入数据库</span>
$ docker exec -it mysql /bin/bash
$ mysql -h 127.0.0.1 -u root -p &lt; /opt/employees.sql
Enter password: root

<span style=color:#75715e># 等待导入完成，大概 1 分钟+</span>
</code></pre></div><h4 id=单表查询>单表查询</h4>
<blockquote>
<p>从一张表中查询所需要的数据。</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 查询全部数据
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>表名</span>;

<span style=color:#75715e>-- 实例：查询部门表中的信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> departments;
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 查询多个字段（列）, 多个列中间用逗号分隔
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#960050;background-color:#1e0010>列名</span> <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>表名</span>;

<span style=color:#75715e>-- 实例：查询部门名称
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> dept_name <span style=color:#66d9ef>FROM</span> departments;
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>/* 起别名 */</span>
<span style=color:#75715e>-- 为表起别名
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#960050;background-color:#1e0010>列名</span> <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>表名</span> <span style=color:#960050;background-color:#1e0010>表别名</span>;
<span style=color:#75715e>-- 为字段起别名
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#960050;background-color:#1e0010>列名</span> <span style=color:#66d9ef>AS</span> <span style=color:#960050;background-color:#1e0010>别名</span> <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>表名</span>;

<span style=color:#75715e>-- 实例：查询员工信息，并将列名改为中文，表名改为 emp
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span>
	emp_no <span style=color:#66d9ef>AS</span> <span style=color:#e6db74>&#39;编号&#39;</span>,
	first_name <span style=color:#66d9ef>AS</span> <span style=color:#e6db74>&#39;名&#39;</span>,
	last_name <span style=color:#66d9ef>AS</span> <span style=color:#e6db74>&#39;姓&#39;</span>,
	gender <span style=color:#66d9ef>AS</span> <span style=color:#e6db74>&#39;性别&#39;</span>,
	hire_date <span style=color:#66d9ef>AS</span> <span style=color:#e6db74>&#39;入职时间&#39;</span> 
<span style=color:#66d9ef>FROM</span>
	employees emp;
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 去重
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>DISTINCT</span> <span style=color:#960050;background-color:#1e0010>列名</span> <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>表名</span>;

<span style=color:#75715e>-- 实例：去掉重复职级信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>DISTINCT</span> title <span style=color:#66d9ef>FROM</span> titles;
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 查询结果参与运算
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> (<span style=color:#960050;background-color:#1e0010>列名</span> <span style=color:#960050;background-color:#1e0010>运算表达式</span>) <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>表名</span>;

<span style=color:#75715e>-- 实例：所有员工的工资 +1000 进行显示
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> emp_no, salary <span style=color:#f92672>+</span> <span style=color:#ae81ff>1000</span> <span style=color:#66d9ef>FROM</span> salaries;
</code></pre></div><h4 id=条件查询>条件查询</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 条件查询
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#960050;background-color:#1e0010>列名</span> <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>表名</span> <span style=color:#66d9ef>WHERE</span> <span style=color:#960050;background-color:#1e0010>条件表达式</span>;
</code></pre></div><h5 id=比较运算法>比较运算法</h5>
<ul>
<li>大于（>）、小于（&lt;）、>=、&lt;=</li>
<li>等于（=）如果是字符，则比较 ASCII 码</li>
<li>不等于（&lt;>、!=）</li>
<li>范围限定（BETWEEN&mldr;AND&mldr;）</li>
<li>子集限定（IN）</li>
<li>模糊查询（LIKE &lsquo;%or%'）</li>
<li>为空（IS NULL）</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 实例：比较大小，查询出生日期晚于 1965-01-01 的员工编号、姓名和生日
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> emp_no, first_name, birth_date <span style=color:#66d9ef>FROM</span> employees  <span style=color:#66d9ef>WHERE</span> birth_date <span style=color:#f92672>&gt;</span> <span style=color:#e6db74>&#39;1965-01-01&#39;</span>;
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 使用 BETWEEN 进行模糊查询
</span><span style=color:#75715e></span><span style=color:#66d9ef>WHERE</span> <span style=color:#960050;background-color:#1e0010>列名</span> [<span style=color:#66d9ef>NOT</span>] <span style=color:#66d9ef>BETWEEN</span> <span style=color:#960050;background-color:#1e0010>起始表达式</span> <span style=color:#66d9ef>AND</span> <span style=color:#960050;background-color:#1e0010>结束表达式</span>

<span style=color:#75715e>-- 实例：查询年薪介于 70000 到 70003 之间的员工编号和年薪
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> emp_no, salary <span style=color:#66d9ef>FROM</span> salaries <span style=color:#66d9ef>WHERE</span> salary <span style=color:#66d9ef>BETWEEN</span> <span style=color:#ae81ff>70000</span> <span style=color:#66d9ef>AND</span> <span style=color:#ae81ff>70003</span>;
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 使用 IN 进行模糊查询, 常量列表使用逗号隔开
</span><span style=color:#75715e></span><span style=color:#66d9ef>WHERE</span> <span style=color:#960050;background-color:#1e0010>列名</span> <span style=color:#66d9ef>IN</span> (<span style=color:#960050;background-color:#1e0010>常量列表</span>)

<span style=color:#75715e>-- 实例：查询入职日期为 1995-01-27 和 1995-03-20 的员工信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> employees <span style=color:#66d9ef>WHERE</span> hire_date <span style=color:#66d9ef>IN</span> (<span style=color:#e6db74>&#39;1995-01-27&#39;</span>, <span style=color:#e6db74>&#39;1995-03-20&#39;</span>);
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 判断是否为空
</span><span style=color:#75715e></span><span style=color:#66d9ef>WHERE</span> <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>列名</span><span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>IS</span> [<span style=color:#66d9ef>NOT</span>] <span style=color:#66d9ef>NULL</span>

<span style=color:#75715e>-- 实例：查询性别为空的员工信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> employees <span style=color:#66d9ef>WHERE</span> gender <span style=color:#66d9ef>IS</span> <span style=color:#66d9ef>NULL</span>;  <span style=color:#75715e>-- 没有为空的数据
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> employees <span style=color:#66d9ef>WHERE</span> gender <span style=color:#66d9ef>IS</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>;  <span style=color:#75715e>-- 全部员工数据
</span></code></pre></div><h5 id=逻辑运算法>逻辑运算法</h5>
<ul>
<li>AND 或 &&：多个条件同时成立</li>
<li>OR 或 ||：多个条件任一成立</li>
<li>NOT：不成立</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 查询名字为 Lillian 并且姓氏为 Haddadi 的员工信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> employees <span style=color:#66d9ef>WHERE</span> first_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Lillian&#39;</span> <span style=color:#66d9ef>AND</span> last_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Haddadi&#39;</span>;

<span style=color:#75715e>-- 查询名字为 Lillian 或者姓氏为 Terkki 的员工信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> employees <span style=color:#66d9ef>WHERE</span> first_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Lillian&#39;</span> <span style=color:#66d9ef>OR</span> last_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Terkki&#39;</span>;

<span style=color:#75715e>-- 查询名字为 Lillian 并且性别不是女的员工信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> employees <span style=color:#66d9ef>WHERE</span> first_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Lillian&#39;</span> <span style=color:#66d9ef>AND</span> <span style=color:#66d9ef>NOT</span> gender <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;F&#39;</span>;
</code></pre></div><h5 id=通配符>通配符</h5>
<ul>
<li>%：匹配任意多个字符</li>
<li>_：匹配一个字符</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 查询名字中包含 fai 的员工信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> employees <span style=color:#66d9ef>WHERE</span> first_name <span style=color:#66d9ef>LIKE</span> <span style=color:#e6db74>&#39;%fai%&#39;</span>;

<span style=color:#75715e>-- 查询名字中 fa 开头的且长度为 3 位的员工信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> employees <span style=color:#66d9ef>WHERE</span> first_name <span style=color:#66d9ef>LIKE</span> <span style=color:#e6db74>&#39;fa_&#39;</span>;
</code></pre></div><h4 id=排序>排序</h4>
<p>排序语法</p>
<ul>
<li>ASC：升序（默认）</li>
<li>DESC：降序</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 对查询结果进行排序
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#960050;background-color:#1e0010>列名</span> <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>表名</span> [<span style=color:#66d9ef>WHERE</span> <span style=color:#960050;background-color:#1e0010>条件表达式</span>] 
	<span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span> 
	<span style=color:#960050;background-color:#1e0010>列名</span><span style=color:#ae81ff>1</span> [<span style=color:#66d9ef>ASC</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>DESC</span>], <span style=color:#960050;background-color:#1e0010>列名</span><span style=color:#ae81ff>2</span> [<span style=color:#66d9ef>ASC</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>DESC</span>];
</code></pre></div><h5 id=单列排序>单列排序</h5>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 使用 salary 字段，对 salaraies 表数据进行 升序/降序 排序
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> salaries <span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span> salary;
<span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> salaries <span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span> salary <span style=color:#66d9ef>DESC</span>;

<span style=color:#75715e>-- 查询员工的编号和入职日期，按照员工入职日期从晚到早排序
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> emp_no, hire_date <span style=color:#66d9ef>FROM</span> employees <span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span> hire_date <span style=color:#66d9ef>DESC</span>;
</code></pre></div><h5 id=组合排序>组合排序</h5>
<p>同时对多个字段进行排序，如果第一个字段相同，就按照第二个字段进行排序。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 在入职时间排序的基础上，再使用 emp_no 进行降序排序
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> emp_no, hire_date <span style=color:#66d9ef>FROM</span> employees <span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span> hire_date <span style=color:#66d9ef>DESC</span>, emp_no <span style=color:#66d9ef>DESC</span>;
</code></pre></div><h4 id=聚合函数>聚合函数</h4>
<ul>
<li>COUNT()：统计指定列不为 NULL 的记录行数</li>
<li>MAX()：计算指定列的最大值</li>
<li>MIN()：计算指定列的最小值</li>
<li>SUM()：计算指定列的数值和</li>
<li>AVG()：计算指定列的平均值</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 聚合查询语法
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#960050;background-color:#1e0010>聚合函数</span>(<span style=color:#960050;background-color:#1e0010>列名</span>) <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>表名</span>;

<span style=color:#75715e>-- 实例
</span><span style=color:#75715e>-- 查询职级名称为 Senior Engineer 的员工数量
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>COUNT</span>(title) <span style=color:#66d9ef>FROM</span> titles <span style=color:#66d9ef>WHERE</span> title <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Senior Engineer&#39;</span>;
<span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>COUNT</span>(<span style=color:#f92672>*</span>) <span style=color:#66d9ef>FROM</span> titles <span style=color:#66d9ef>WHERE</span> title <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Senior Engineer&#39;</span>;

<span style=color:#75715e>-- 查询员工编号为 10002 的员工的最高年薪
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>MAX</span>(salary) <span style=color:#66d9ef>FROM</span> salaries <span style=color:#66d9ef>WHERE</span> emp_no <span style=color:#f92672>=</span> <span style=color:#ae81ff>10002</span>;

<span style=color:#75715e>-- 查询最低年薪
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>MIN</span>(salary) <span style=color:#66d9ef>FROM</span> salaries <span style=color:#66d9ef>WHERE</span> emp_no <span style=color:#f92672>=</span> <span style=color:#ae81ff>10002</span>;

<span style=color:#75715e>-- 查询薪资总和
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>SUM</span>(salary) <span style=color:#66d9ef>FROM</span> salaries <span style=color:#66d9ef>WHERE</span> emp_no <span style=color:#f92672>=</span> <span style=color:#ae81ff>10002</span>;

<span style=color:#75715e>-- 计算平均薪资
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>AVG</span>(salary) <span style=color:#66d9ef>FROM</span> salaries <span style=color:#66d9ef>WHERE</span> emp_no <span style=color:#f92672>=</span> <span style=color:#ae81ff>10002</span>;
</code></pre></div><h4 id=分组>分组</h4>
<p>分组查询语法</p>
<ul>
<li>分组列：按哪些列进行分组</li>
<li>HAVING：对分组结果再次过滤</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 分组查询语法
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> (<span style=color:#960050;background-color:#1e0010>分组列</span> <span style=color:#960050;background-color:#1e0010>｜</span> <span style=color:#960050;background-color:#1e0010>聚合函数</span>) <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>表名</span> <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> <span style=color:#960050;background-color:#1e0010>分组列</span> [<span style=color:#66d9ef>HAVING</span> <span style=color:#960050;background-color:#1e0010>条件</span>];
</code></pre></div><p>实例</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 查询每个员工的薪资和
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> emp_no, <span style=color:#a6e22e>SUM</span>(salary) <span style=color:#66d9ef>FROM</span> salaries <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> emp_no;

<span style=color:#75715e>-- 查询员工编号小于 10010 且薪资和小于 400000 的员工的薪资和
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> emp_no, <span style=color:#a6e22e>SUM</span>(salary) <span style=color:#66d9ef>FROM</span> salaries <span style=color:#66d9ef>WHERE</span> emp_no <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10010</span> <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> emp_no <span style=color:#66d9ef>HAVING</span> <span style=color:#a6e22e>SUM</span>(salary) <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>400000</span>;
</code></pre></div><p>子句区别</p>
<ul>
<li>WHERE 子句：从数据源中去掉不符合搜索条件的数据</li>
<li>GROUP BY 子句：搜集数据行到各个组中，统计函数为各个组计算统计值</li>
<li>HAVING 子句：去掉不符合其组搜索条件的各行数据行</li>
</ul>
<h4 id=limit-关键字>LIMIT 关键字</h4>
<p>限制查询结果的数量</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 限制查询结果行数
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#960050;background-color:#1e0010>列名</span><span style=color:#ae81ff>1</span>, <span style=color:#960050;background-color:#1e0010>列名</span><span style=color:#ae81ff>2</span> <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>表名</span> <span style=color:#66d9ef>LIMIT</span> [<span style=color:#960050;background-color:#1e0010>开始的行数</span>], <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>查询记录的条数</span><span style=color:#f92672>&gt;</span>;

<span style=color:#75715e>-- 使用 OFFSET 关键自指定开始的行数
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#960050;background-color:#1e0010>列名</span><span style=color:#ae81ff>1</span>, <span style=color:#960050;background-color:#1e0010>列名</span><span style=color:#ae81ff>2</span> <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>表名</span> <span style=color:#66d9ef>LIMIT</span> <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>查询记录的条数</span><span style=color:#f92672>&gt;</span> OFFSET <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>开始的行数</span><span style=color:#f92672>&gt;</span>;

<span style=color:#75715e>-- 开始的行数：从 0 开始，默认为 0
</span><span style=color:#75715e>-- 查询记录的条数：返回的行数
</span></code></pre></div><p>实例</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 展示前 10 条员工信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> employees <span style=color:#66d9ef>LIMIT</span> <span style=color:#ae81ff>10</span>;
<span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> employees <span style=color:#66d9ef>LIMIT</span> <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>10</span>;
<span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> employees <span style=color:#66d9ef>LIMIT</span> <span style=color:#ae81ff>10</span> OFFSET <span style=color:#ae81ff>0</span>;

<span style=color:#75715e>-- 显示年薪从高到低排序，第 15 位到第 20 员工的编号和年薪
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> emp_no, salary <span style=color:#66d9ef>FROM</span> salaries <span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span> salary <span style=color:#66d9ef>DESC</span> <span style=color:#66d9ef>LIMIT</span> <span style=color:#ae81ff>14</span>, <span style=color:#ae81ff>6</span>;
<span style=color:#66d9ef>SELECT</span> emp_no, salary <span style=color:#66d9ef>FROM</span> salaries <span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span> salary <span style=color:#66d9ef>DESC</span> <span style=color:#66d9ef>LIMIT</span> <span style=color:#ae81ff>6</span> OFFSET <span style=color:#ae81ff>14</span>;
</code></pre></div><h4 id=单表查询总结>单表查询总结</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>DISTINCT</span> <span style=color:#960050;background-color:#1e0010>列名</span> 
<span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>表名</span>
<span style=color:#66d9ef>WHERE</span> <span style=color:#960050;background-color:#1e0010>查询条件表达式</span>
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> <span style=color:#960050;background-color:#1e0010>分组的列名</span>
<span style=color:#66d9ef>HAVING</span> <span style=color:#960050;background-color:#1e0010>分组后的查询条件表达式</span>
<span style=color:#66d9ef>ORDER</span> <span style=color:#66d9ef>BY</span> <span style=color:#960050;background-color:#1e0010>排序的列名</span> [<span style=color:#66d9ef>ASC</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>DESC</span>]
<span style=color:#66d9ef>LIMIT</span> <span style=color:#960050;background-color:#1e0010>开始的行数</span>, <span style=color:#960050;background-color:#1e0010>查询记录的条数</span>;
</code></pre></div><p><img src=/imgs/img-lazy-loading.gif data-src=https://gitee.com/abeelan/image-hosting-service/raw/master/img/image-20220507113411670.png alt="SQL 语句执行顺序"></p>
<h2 id=sql-约束>SQL 约束</h2>
<p>对表中的数据进行进一步的限制，保证数据的正确性、有效性、完整性。违反约束的不正确数据无法插入到表中。常见的约束：</p>
<ul>
<li>主键：PRIMARY KEY</li>
<li>非空：NOT NULL</li>
<li>唯一：UNIQUE</li>
<li>默认：DEFAULT</li>
<li>外键：FOREIGN KEY</li>
</ul>
<h3 id=主键约束>主键约束</h3>
<p>主键：一列（或一组列），其值能够唯一标识表中的每一行</p>
<p>特点：不可重复，唯一，非空</p>
<p>语法：列名 字段类型 PRIMARY KEY</p>
<h5 id=创建带有主键的表>创建带有主键的表</h5>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 创建一个带有主键的表
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>emp1</span>(
    <span style=color:#75715e>-- 设为主键后自动非空
</span><span style=color:#75715e></span>	eid <span style=color:#66d9ef>INT</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
	ename <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>),
	gender <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>1</span>)
);

<span style=color:#75715e>-- 向已有的表中添加主键
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>emp2</span>(
	eid <span style=color:#66d9ef>INT</span>,
	ename <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>),
	gender <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>1</span>)
);
<span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> emp2 <span style=color:#66d9ef>ADD</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>(eid);
<span style=color:#75715e>-- 向 emp1 中添加数据，验证主键非空和不能重复的特性
</span><span style=color:#75715e></span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> emp1 <span style=color:#66d9ef>VALUES</span>(<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;zhangsan&#39;</span>, <span style=color:#e6db74>&#39;M&#39;</span>);
<span style=color:#75715e>-- 插入空值插入报错，主键不能为空
</span><span style=color:#75715e>-- INSERT INTO emp1 VALUES(NULL, &#39;lisi&#39;, &#39;W&#39;);
</span><span style=color:#75715e>-- 插入重复数据报错，主键不能重复
</span><span style=color:#75715e>-- INSERT INTO emp1 VALUES(1, &#39;lisi&#39;, &#39;F&#39;);
</span></code></pre></div><h5 id=主键自增>主键自增</h5>
<p>由于主键的特性，每次人为按顺序添加难免出错，可以使用自增的属性。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 创建主键自增
</span><span style=color:#75715e>-- AUTO_INCREMENT: 表示自动增长（必须整数类型的字段），默认从 1 开始
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>emp3</span>(
	eid <span style=color:#66d9ef>INT</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> <span style=color:#66d9ef>AUTO_INCREMENT</span>,
	ename <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>),
	gender <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>1</span>)
);
<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> emp3 <span style=color:#66d9ef>VALUEs</span>(<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;zhangsan&#39;</span>, <span style=color:#e6db74>&#39;M&#39;</span>);
<span style=color:#75715e>-- 只需要添加名字和性别即可，id 会自增
</span><span style=color:#75715e></span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#a6e22e>emp3</span>(ename, gender) <span style=color:#66d9ef>VALUES</span>(<span style=color:#e6db74>&#39;lisi&#39;</span>, <span style=color:#e6db74>&#39;M&#39;</span>), (<span style=color:#e6db74>&#39;wangwu&#39;</span>, <span style=color:#e6db74>&#39;F&#39;</span>);

<span style=color:#75715e>-- 修改主键自增起始值为 100
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>emp4</span>(
	eid <span style=color:#66d9ef>INT</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> <span style=color:#66d9ef>AUTO_INCREMENT</span>,
	ename <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>),
	gender <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>1</span>)
)<span style=color:#66d9ef>AUTO_INCREMENT</span><span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>;
<span style=color:#75715e># DELETE FROM emp4;    删除表后，添加数据会继续之前的编号往上自增
</span><span style=color:#75715e># TRUNCATE TABLE emp4; 先删除整表后重新创建，自增会从起始值开始
</span></code></pre></div><h5 id=删除主键约束>删除主键约束</h5>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 删除表中的主键
</span><span style=color:#75715e></span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>表名</span> <span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>;

<span style=color:#75715e>-- 实例：删除表2 的主键
</span><span style=color:#75715e></span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> emp2 <span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>;
</code></pre></div><h5 id=选择主键原则>选择主键原则</h5>
<ul>
<li>针对业务设计主键，建议每张表都设计一个主键</li>
<li>主键可以没有业务意义，只需保证不重复</li>
</ul>
<h3 id=非空约束>非空约束</h3>
<p>特点：某一列不允许为空</p>
<p>语法：列名 字段类型 NOT NULL</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 创建非空约束的表
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>emp5</span> (
	eid <span style=color:#66d9ef>INT</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> <span style=color:#66d9ef>AUTO_INCREMENT</span>,
	ename <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
	gender <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>1</span>)
);
<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#a6e22e>emp5</span>(ename, gender) <span style=color:#66d9ef>VALUES</span>(<span style=color:#e6db74>&#39;zhangsan&#39;</span>, <span style=color:#e6db74>&#39;F&#39;</span>);
<span style=color:#75715e>-- 报错：Field &#39;ename&#39; doesn&#39;t have a default value, Time: 0.001000s
</span><span style=color:#75715e></span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#a6e22e>emp5</span>(gender) <span style=color:#66d9ef>VALUES</span>(<span style=color:#e6db74>&#39;F&#39;</span>);
</code></pre></div><h3 id=唯一约束>唯一约束</h3>
<ul>
<li>表中的某一列的值不能重复</li>
<li>对 NULL 不做唯一的判断</li>
<li>语法：列名 字段类型 UNIQUE</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 创建带有唯一约束的表
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>emp6</span> (
	eid <span style=color:#66d9ef>INT</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> <span style=color:#66d9ef>AUTO_INCREMENT</span>,
	ename <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>) <span style=color:#66d9ef>UNIQUE</span>,
	gender <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>1</span>)
);
<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#a6e22e>emp6</span>(ename, gender) <span style=color:#66d9ef>VALUES</span>(<span style=color:#e6db74>&#39;zhangsan&#39;</span>, <span style=color:#e6db74>&#39;F&#39;</span>);
<span style=color:#75715e>-- 报错：Duplicate entry &#39;zhangsan&#39; for key &#39;ename&#39;, Time: 0.004000s
</span><span style=color:#75715e></span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#a6e22e>emp6</span>(ename, gender) <span style=color:#66d9ef>VALUES</span>(<span style=color:#e6db74>&#39;zhangsan&#39;</span>, <span style=color:#e6db74>&#39;F&#39;</span>);
</code></pre></div><p>主键约束与唯一约束的区别：</p>
<ul>
<li>主键约束：唯一且不能为空</li>
<li>唯一约束：唯一但可以为空</li>
<li>一个表中只能有一个主键，但是可以有多个唯一约束</li>
</ul>
<h3 id=默认值约束>默认值约束</h3>
<p>默认值约束：用来指定某列的默认值</p>
<p>语法：列名 字段类型 DEFAULT 默认值</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 创建带有默认值的表
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>emp7</span> (
	eid <span style=color:#66d9ef>INT</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> <span style=color:#66d9ef>AUTO_INCREMENT</span>,
	ename <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>),
	gender <span style=color:#66d9ef>CHAR</span>(<span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>DEFAULT</span> <span style=color:#e6db74>&#39;F&#39;</span>
);
<span style=color:#75715e>-- 使用默认值，可以通过 DEFAULT 指定，也可以不写
</span><span style=color:#75715e></span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#a6e22e>emp7</span>(ename, gender) <span style=color:#66d9ef>VALUES</span>(<span style=color:#e6db74>&#39;zhangsan&#39;</span>, <span style=color:#66d9ef>DEFAULT</span>);
<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#a6e22e>emp7</span>(ename) <span style=color:#66d9ef>VALUES</span>(<span style=color:#e6db74>&#39;lisi&#39;</span>);
<span style=color:#75715e>-- 不使用默认值
</span><span style=color:#75715e></span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> <span style=color:#a6e22e>emp7</span>(ename, gender) <span style=color:#66d9ef>VALUES</span>(<span style=color:#e6db74>&#39;wangwu&#39;</span>, <span style=color:#e6db74>&#39;M&#39;</span>);
</code></pre></div><h3 id=外键约束>外键约束</h3>
<p>课程名称： SQL 约束 - 外键约束</p>
<p>TODO 不理解，等查阅完基础资料再来。</p>
<h5 id=创建表的同时创建外键约束>创建表的同时创建外键约束</h5>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 创建主表
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>tester</span> (
	id <span style=color:#66d9ef>INT</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> <span style=color:#66d9ef>AUTO_INCREMENT</span>,
	name <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>),
	team_id <span style=color:#66d9ef>INT</span>,
    <span style=color:#75715e>-- 添加外键及外键约束
</span><span style=color:#75715e></span>	<span style=color:#66d9ef>CONSTRAINT</span> tester_team <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span>(team_id) <span style=color:#66d9ef>REFERENCES</span> <span style=color:#a6e22e>tester</span>(id)
);
</code></pre></div><p>修改外键约束</p>
<p>删除外键约束</p>
<p>级联删除</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql></code></pre></div><h2 id=多表>多表</h2>
<blockquote>
<p>在数据库设计中使用多张表格来实现数据存储的要求，在实际的项目中，数据量大且复杂，需要分库分表。</p>
</blockquote>
<p>分表：按照一定的规则，对原有的数据库和表进行拆分，表与表之间可以通过外键建立连接。</p>
<p>实例：创建一张员工信息表，包含字段：</p>
<ul>
<li>eid：员工 ID（自增主键）</li>
<li>ename：员工姓名</li>
<li>age：年龄</li>
<li>gender：性别</li>
<li>dept_name：部门名称</li>
<li>dept_id：部门 ID</li>
<li>dept_manager：部门主管</li>
<li>dept_location：所在地点</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 创建单表
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>emp</span>(
	eid <span style=color:#66d9ef>INT</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> <span style=color:#66d9ef>AUTO_INCREMENT</span>,
	ename <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>),
	age <span style=color:#66d9ef>INT</span>,
	gender <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>5</span>),
	dept_name <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>10</span>),
	dept_id <span style=color:#66d9ef>INT</span>,
	dept_manager <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>10</span>),
	dept_location <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>10</span>)
);
<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> emp <span style=color:#66d9ef>VALUES</span>(<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;zhangsan&#39;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;qa&#39;</span>, <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;qa_leader&#39;</span>, <span style=color:#e6db74>&#39;beijing&#39;</span>);
</code></pre></div><p>当插入数据时，所有的数据都需要添加部门名称、部门经理等重复性信息，所以需要使用多表设计模式。</p>
<ul>
<li>将数据拆分为员工信息表<code>table_emp</code>和部门信息表<code>table_dept</code></li>
<li>两个表之间通过部门 ID<code>dept_id</code>字段连接</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>table_emp</span>(
	id <span style=color:#66d9ef>INT</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> <span style=color:#66d9ef>AUTO_INCREMENT</span>,
	name <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>),
	age <span style=color:#66d9ef>INT</span>,
	gender <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>5</span>),
	dept_id <span style=color:#66d9ef>INT</span>
);

<span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>table_dept</span>(
	id <span style=color:#66d9ef>INT</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> <span style=color:#66d9ef>AUTO_INCREMENT</span>,
	name <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>10</span>),
	manager <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>10</span>),
	location <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>10</span>)	
);

<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> table_emp <span style=color:#66d9ef>VALUES</span>(<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;zhangsan&#39;</span>, <span style=color:#ae81ff>18</span>, <span style=color:#e6db74>&#39;M&#39;</span>, <span style=color:#ae81ff>1</span>);
<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> table_emp <span style=color:#66d9ef>VALUES</span>(<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;lisi&#39;</span>, <span style=color:#ae81ff>19</span>, <span style=color:#e6db74>&#39;F&#39;</span>, <span style=color:#ae81ff>2</span>);
<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> table_dept <span style=color:#66d9ef>VALUES</span>(<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;qa&#39;</span>, <span style=color:#e6db74>&#39;leader&#39;</span>, <span style=color:#e6db74>&#39;beijing&#39;</span>);
<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> table_dept <span style=color:#66d9ef>VALUES</span>(<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;rd&#39;</span>, <span style=color:#e6db74>&#39;rd_leader&#39;</span>, <span style=color:#e6db74>&#39;beijing&#39;</span>);
</code></pre></div><p>多表的优点：</p>
<ul>
<li>简化数据</li>
<li>提高复用性</li>
<li>方便权限控制</li>
<li>提高系统的稳定性和负载能力</li>
</ul>
<h3 id=多表关系简介>多表关系简介</h3>
<h5 id=一对多>一对多</h5>
<p>定义：主表的一条记录可以对应从表的多条记录。在一对多关系中，多的表定为从表，设置外键指向主表。</p>
<p>比如：部门表、员工表，一个部门可以对应多个员工。建表时，员工表就应作为从表，设置外键指向部门表的主键。</p>
<h5 id=多对多>多对多</h5>
<p>定义：主表的多条记录可以对应从表的多条记录。需要创建第三张表作为中间表，中间表需要包含两种表的主键。</p>
<p>比如：商品信息表、客户表、订单表。</p>
<h5 id=一对一>一对一</h5>
<p>定义：从表的一条记录对应主表的一条记录，这种对应关系的数据，通常放在单表里。</p>
<p>比如：员工信息表与身份证、联系方式。</p>
<h3 id=多表查询>多表查询</h3>
<h5 id=笛卡尔积查询>笛卡尔积查询</h5>
<p>通过查询多张表格获取数据，至少涉及两张表</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 创建部门表，插入三条数据
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>dept</span>(
	id <span style=color:#66d9ef>INT</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> <span style=color:#66d9ef>AUTO_INCREMENT</span>,
	dept_name <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>),
	dept_manager <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>),
	dept_location <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>)
);

<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> dept <span style=color:#66d9ef>VALUES</span> (<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;研发部&#39;</span>, <span style=color:#e6db74>&#39;研发小张&#39;</span>, <span style=color:#e6db74>&#39;北京&#39;</span>);
<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> dept <span style=color:#66d9ef>VALUES</span> (<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;运营部&#39;</span>, <span style=color:#e6db74>&#39;运营小李&#39;</span>, <span style=color:#e6db74>&#39;上海&#39;</span>);
<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> dept <span style=color:#66d9ef>VALUES</span> (<span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#39;销售部&#39;</span>, <span style=color:#e6db74>&#39;销售小王&#39;</span>, <span style=color:#e6db74>&#39;深圳&#39;</span>);

<span style=color:#75715e>-- 创建员工信息表，添加外键约束，允许级联删除，并对三个部门插入对应的员工信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>worker</span>(
	id <span style=color:#66d9ef>INT</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> <span style=color:#66d9ef>AUTO_INCREMENT</span>,
	name <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>),
	gender <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>10</span>),
	dept_id <span style=color:#66d9ef>INT</span>,
	salary <span style=color:#66d9ef>INT</span>,
	<span style=color:#75715e>-- 添加外键约束，级联删除
</span><span style=color:#75715e></span>	<span style=color:#66d9ef>CONSTRAINT</span> FK <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>KEY</span>(dept_id) <span style=color:#66d9ef>REFERENCES</span> <span style=color:#a6e22e>dept</span>(id) <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>CASCADE</span>
);

<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> worker <span style=color:#66d9ef>VALUES</span> (<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#39;虞姬&#39;</span>, <span style=color:#e6db74>&#39;女&#39;</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>10000</span>);
<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> worker <span style=color:#66d9ef>VALUES</span> (<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#39;项羽&#39;</span>, <span style=color:#e6db74>&#39;男&#39;</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>18000</span>);
<span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> worker <span style=color:#66d9ef>VALUES</span> (<span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#39;后羿&#39;</span>, <span style=color:#e6db74>&#39;男&#39;</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>28000</span>);


<span style=color:#75715e>-- 查询表
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> dept;
<span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> worker;
<span style=color:#75715e>-- 笛卡尔积查询，会出现很多无效数据
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> dept, worker;
<span style=color:#75715e>-- 正确查询
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> dept, worker <span style=color:#66d9ef>WHERE</span> dept.id<span style=color:#f92672>=</span>worker.dept_id;

<span style=color:#75715e>-- 查询出运营部的部门信息及该部门下的员工信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> dept, worker <span style=color:#66d9ef>WHERE</span> dept.id<span style=color:#f92672>=</span>worker.dept_id <span style=color:#66d9ef>AND</span> dept.id<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>;
</code></pre></div><h5 id=内连接查询>内连接查询</h5>
<p>内连接（INNER JOIN）：使用比较运算符进行表间某（些）列数据的比较操作，并列出这些表中与连接条件相匹配的数据行，组成新的记录。匹配上显示，匹配不上不显示。按语法结构分为：隐式内连接和显式内连接。</p>
<ul>
<li>
<p>隐式内连接：使用 where 条件过滤无用数据，没有出现 inner join 关键字</p>
</li>
<li>
<p>显式内连接：添加 inner join 关键字</p>
</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 隐式内连接
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> [<span style=color:#960050;background-color:#1e0010>字段名称</span>] <span style=color:#66d9ef>FROM</span> [<span style=color:#960050;background-color:#1e0010>表名</span>] <span style=color:#66d9ef>WHERE</span> [<span style=color:#960050;background-color:#1e0010>条件</span>];
<span style=color:#75715e>-- 显示内连接
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> [<span style=color:#960050;background-color:#1e0010>字段名称</span>] <span style=color:#66d9ef>FROM</span> [<span style=color:#960050;background-color:#1e0010>主表名</span>] <span style=color:#66d9ef>INNER</span> <span style=color:#66d9ef>JOIN</span> [<span style=color:#960050;background-color:#1e0010>从表名</span>] <span style=color:#66d9ef>ON</span> [<span style=color:#960050;background-color:#1e0010>条件</span>];

<span style=color:#66d9ef>SELECT</span> worker.id, name, dept_location <span style=color:#66d9ef>FROM</span> worker, dept <span style=color:#66d9ef>WHERE</span> worker.dept_id<span style=color:#f92672>=</span>dept.id <span style=color:#66d9ef>AND</span> dept_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;运营部&#34;</span>;

<span style=color:#66d9ef>SELECT</span> worker.id, name, dept_location <span style=color:#66d9ef>FROM</span> dept <span style=color:#66d9ef>INNER</span> <span style=color:#66d9ef>JOIN</span> worker <span style=color:#66d9ef>ON</span> dept.id<span style=color:#f92672>=</span>worker.dept_id <span style=color:#66d9ef>AND</span> dept_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;运营部&#34;</span>;
</code></pre></div><h5 id=外连接查询>外连接查询</h5>
<p>外连接：查询多个表中相关联的行，有时候需要包含没有关联的行中数据，即返回查询结果集合中不仅包含符合连接条件的行，还包括左表（左连接）、右表（右连接）中的所有数据行。</p>
<ul>
<li>左外连接（LEFT OUTER JOIN），OUTER 可以省略，以左表为基准匹配右表的数据，确保左表数据都展示，右表中没有的项，显示为空。</li>
<li>右外连接（RIGHT OUTER JOIN），OUTER 可以省略，以右表为基准匹配左表的数据，确保右表数据都展示，左表中没有的项，显示为空。</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 左连接
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> [<span style=color:#960050;background-color:#1e0010>字段名称</span>] <span style=color:#66d9ef>FROM</span> [<span style=color:#960050;background-color:#1e0010>左表</span>] <span style=color:#66d9ef>LEFT</span> <span style=color:#66d9ef>JOIN</span> [<span style=color:#960050;background-color:#1e0010>右表</span>] <span style=color:#66d9ef>ON</span> [<span style=color:#960050;background-color:#1e0010>条件</span>];

<span style=color:#75715e>-- 右连接
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> [<span style=color:#960050;background-color:#1e0010>字段名称</span>] <span style=color:#66d9ef>FROM</span> [<span style=color:#960050;background-color:#1e0010>左表</span>] <span style=color:#66d9ef>RIGHT</span> <span style=color:#66d9ef>JOIN</span> [<span style=color:#960050;background-color:#1e0010>右表</span>] <span style=color:#66d9ef>ON</span> [<span style=color:#960050;background-color:#1e0010>条件</span>];
</code></pre></div><h5 id=子查询>子查询</h5>
<p>子查询指一个查询语句嵌套在另一个查询语句内部，在 SELECT 子句中先计算子查询，子查询的结果作为外层另一个查询的过滤条件，查询可以基于一个表或者多个表。</p>
<p>子查询作为过滤条件时需要用<strong>小括号</strong>包裹。</p>
<p>常见的三类子查询如下：</p>
<p>from 型</p>
<p>将子查询的结果作为父查询的表来使用。子查询是一张多行多列的表，将子查询作为父查询的表来嵌套查询，子查询必须用小括号包裹且有别名。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 计算出各部门男性员工的人数
</span><span style=color:#75715e>-- 最终查询字段部门名称、男性员工人数
</span><span style=color:#75715e>-- 子查询：查询公司所有性别为男的员工信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> worker <span style=color:#66d9ef>WHERE</span> gender<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;男&#34;</span>;

<span style=color:#66d9ef>SELECT</span> 
	dept_name <span style=color:#66d9ef>AS</span> <span style=color:#e6db74>&#39;部门名称&#39;</span>, <span style=color:#a6e22e>COUNT</span>(dept_id) <span style=color:#66d9ef>AS</span> <span style=color:#e6db74>&#39;部门人数&#39;</span> 
<span style=color:#66d9ef>FROM</span> 
	(<span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> worker <span style=color:#66d9ef>WHERE</span> gender<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;男&#34;</span>) <span style=color:#66d9ef>AS</span> male_worker <span style=color:#66d9ef>INNER</span> <span style=color:#66d9ef>JOIN</span> dept 
<span style=color:#66d9ef>ON</span> 
	male_worker.dept_id<span style=color:#f92672>=</span>dept.id 
<span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> 
	dept_name;
</code></pre></div><p>in/not in 型：子查询的结果是单列多行，作为 where 的过滤条件</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 带 IN 关键字的子查询
</span><span style=color:#75715e>-- 查询出北京地区所有的员工信息
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> id <span style=color:#66d9ef>FROM</span> dept <span style=color:#66d9ef>WHERE</span> dept_location<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;北京&#34;</span>;

<span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> worker <span style=color:#66d9ef>WHERE</span> dept_id <span style=color:#66d9ef>IN</span> (<span style=color:#66d9ef>SELECT</span> id <span style=color:#66d9ef>FROM</span> dept <span style=color:#66d9ef>WHERE</span> dept_location<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;北京&#34;</span>);
<span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> worker <span style=color:#66d9ef>WHERE</span> dept_id <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>IN</span> (<span style=color:#66d9ef>SELECT</span> id <span style=color:#66d9ef>FROM</span> dept <span style=color:#66d9ef>WHERE</span> dept_location<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;北京&#34;</span>);
</code></pre></div><p>where 型：查询结果作为过滤条件出现在比较运算符的一端，常用于子查询结果为单个的情况。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- 查询出薪资大于公司平均薪资的员工 ID、姓名、薪资
</span><span style=color:#75715e></span><span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>AVG</span>(salary) <span style=color:#66d9ef>FROM</span> worker;
<span style=color:#66d9ef>SELECT</span> id, name, salary <span style=color:#66d9ef>FROM</span> worker <span style=color:#66d9ef>WHERE</span> salary <span style=color:#f92672>&gt;</span> (<span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>AVG</span>(salary) <span style=color:#66d9ef>FROM</span> worker);
</code></pre></div><p>with&mldr;as&mldr;型：如果一整句查询语句中，某个子查询的结果会被多个父查询引用，通常建议将公用的子查询用简写表示出来。</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#75715e>-- WITH [表名] AS (SELECT ...)
</span><span style=color:#75715e>-- 查询出部门平均薪资大于公司平均薪资的部门名称、部门主管、所在地，及其平均薪资
</span><span style=color:#75715e></span><span style=color:#66d9ef>WITH</span> 
	dept_avg 
<span style=color:#66d9ef>AS</span> 
	(<span style=color:#66d9ef>SELECT</span> dept_id, <span style=color:#a6e22e>AVG</span>(salary) <span style=color:#66d9ef>AS</span> avg_salary <span style=color:#66d9ef>FROM</span> worker <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> dept_id)
<span style=color:#66d9ef>SELECT</span> 
	dept_name, dept_manager, dept_location, avg_salary
<span style=color:#66d9ef>FROM</span>
	dept <span style=color:#66d9ef>INNER</span> <span style=color:#66d9ef>JOIN</span> dept_avg
<span style=color:#66d9ef>ON</span>
	id<span style=color:#f92672>=</span>dept_id
<span style=color:#66d9ef>AND</span>
	avg_salary <span style=color:#f92672>&gt;</span> (<span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>AVG</span>(avg_salary) <span style=color:#66d9ef>FROM</span> dept_avg);

</code></pre></div><h4 id=视图>视图</h4>
<p>视图是一种虚拟的表，它并不会在存储空间复制一份数据，而是对原有数据的一种引用。可以将视图理解为一种存储起来的 sql 语句。</p>
<ul>
<li>视图可以简化多表查询</li>
<li>视图可以用于控制用户权限</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-mysql data-lang=mysql><span style=color:#66d9ef>CREATE</span> VIEW [<span style=color:#960050;background-color:#1e0010>视图名称</span>] <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>SELECT</span> ...
</code></pre></div>
</div>
<footer class=post-footer>
<div class=post-tags>
<a href=/tags/database>
Database
</a>
</div>
<div class=addthis_inline_share_toolbox style=text-align:center></div>
<hr>
<div class=reward-container>
<div><i class="fa-solid fa-mug-hot"></i>请我喝杯咖啡吧 ヾ(^▽^*)))</div>
<button>赞赏</button>
<div class=post-reward>
<div class=post-reward-item>
<img src=/imgs/img-lazy-loading.gif data-src=/imgs/ali-pay.jpg alt="ABEE - 支付宝">
<span>支付宝</span>
</div>
<div class=post-reward-item>
<img src=/imgs/img-lazy-loading.gif data-src=/imgs/wechat-pay.jpg alt="ABEE - 微信">
<span>微信</span>
</div>
</div>
</div>
<div class=post-nav>
<div class="post-nav-next post-nav-item">
<a href=/tech/booknotes/c++%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E4%B8%AA%E4%BA%BA%E7%AC%94%E8%AE%B0/ rel=next title="Booknotes - 《C++程序设计》个人笔记">
<i class="fa fa-chevron-left"></i> Booknotes - 《C++程序设计》个人笔记
</a>
</div>
<div class="post-nav-prev post-nav-item">
<a href=/tech/booknotes/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AF%BC%E8%AE%BA%E7%BA%BF%E6%80%A7%E8%A1%A8/ rel=prev title="Booknotes - 《数据结构导论》线性表">
Booknotes - 《数据结构导论》线性表
<i class="fa fa-chevron-right"></i>
</a>
</div>
</div>
</footer>
</article>
</div>
<div id=comments class=post-comments>
<div class=comment-head>
<div class=comment-headline>
<i class="fas fa-comments fa-fw"></i>
<span>评论交流</span>
</div>
</div>
<div class=comment-wrap>
<div><div class=comment-loading>
<i class="fa fa-sync fa-spin"></i>
</div><div class=giscus-container></div>
</div>
</div>
</div>
</div>
</main>
<footer class=footer>
<div class=footer-inner>
<div class=copyright>
&copy;
<span itemprop=copyrightYear>
2023
</span>
<span class=with-love>
<i class="fa fa-heart"></i>
</span>
<span class=author itemprop=copyrightHolder>ABEE</span>
</div>
</div>
</footer>
<script type=text/javascript src=https://cdn.staticfile.org/animejs/3.2.1/anime.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.js defer></script>
<script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#336699","enable":true,"save":"manual"},"busuanzi":{"pageview":true},"copybtn":true,"darkmode":false,"giscus":{"cfg":{"category":"Comments","categoryid":"DIC_kwDOJaSA684CW2kC","emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"abeelan/abeelan.github.io","repoid":"R_kgDOJaSA6w","theme":"light_tritanopia"},"js":"https://giscus.app/client.js"},"hostname":"https://abeelan.github.io","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":240},"statis":{"enable":true,"plugin":"busuanzi"},"vendor":{"plugins":"qiniu","router":"https://cdn.staticfile.org"},"version":"4.4.1"}</script>
<script type=text/javascript src=/js/main.min.1d9b2de404f7724da1d867644752be389255e13dcf22ec8a95e590c4546881e9.js defer></script>
</body>
</html>